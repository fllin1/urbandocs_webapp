(()=>{"use strict";var e,n,o,t,r,a={204:(e,n,o)=>{o.d(n,{N:()=>O});const t=(0,o(303).UU)("https://ofeyssipibktmbfebibo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9mZXlzc2lwaWJrdG1iZmViaWJvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM5MjUwOTQsImV4cCI6MjA1OTUwMTA5NH0.w71CAKfolktzRl-TmLVhHYaEbhCfVk4A7YraEUCglrU");var r=o(587);const a=document.getElementById("villeSelect"),i=document.getElementById("zonageSelect"),l=document.getElementById("zoneSelect"),u=(document.getElementById("typologieSelect"),document.getElementById("synthesisBtn")),c=document.getElementById("statusMessage"),s=document.getElementById("villeSpinner"),d=document.getElementById("zonageSpinner"),m=document.getElementById("zoneSpinner"),g=(document.getElementById("typologieSpinner"),document.getElementById("documentSpinner")),f=document.getElementById("userStatus"),p=document.getElementById("logoutBtn"),h=document.getElementById("loginLink"),v=document.getElementById("signupLink");function z(e,n="info"){c?(c.textContent=e,c.className=`status-message alert alert-${n}`,c.classList.remove("d-none")):console.warn("Status message element not found.")}function b(e,n){e&&e.classList.toggle("d-none",!n)}function _(e,n){e?(e.innerHTML=`<option value="">${n||"Sélectionnez une option"}</option>`,e.disabled=!0):console.warn("Select element not found for reset.")}function U(e){return e?e.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase())):""}function y(e,n,o,t,a){return e?(_(e,o),n&&0!==n.length?(n.forEach((n=>{const o=document.createElement("option");o.value=n.id;let t="";t="zone"===a&&r.P.hasOwnProperty(n.nom)?r.P[n.nom]:U(n.nom),o.textContent=t,e.appendChild(o)})),e.disabled=!1,!0):(e.innerHTML=`<option value="">${t}</option>`,e.disabled=!0,!1)):(console.warn("Select element not found for population."),!1)}let E=null;function S(){return E}let w=null,Z=!1;function I(e){w=e,e?localStorage.setItem("currentUser",JSON.stringify(e)):localStorage.removeItem("currentUser")}async function C(e=!0){if(e&&!Z&&await async function(){try{const{data:{session:e},error:n}=await t.auth.getSession();if(n||!e)return console.log("No valid session found"),I(null),Z=!1,!1;const{error:o}=await t.auth.refreshSession();return o?(console.warn("Session validation failed:",o),await t.auth.signOut(),I(null),Z=!1,!1):(I(e.user),Z=!0,!0)}catch(e){return console.error("Session validation error:",e),I(null),Z=!1,!1}}(),!e&&!w){const e=localStorage.getItem("currentUser");if(e)try{w=JSON.parse(e)}catch(e){console.error("Error retrieving user:",e),localStorage.removeItem("currentUser")}}return w}let O=null;function A(e){if(O=e,e){f&&f.classList.remove("hidden"),h&&h.classList.add("hidden"),v&&v.classList.add("hidden"),p&&p.classList.remove("hidden");const e=S();e&&e.id?(u&&(u.disabled=!1),z(`Document trouvé (Source: ${U(e.source_plu_date)||"Non spécifiée"}). Prêt à consulter.`,"success")):u&&(u.disabled=!0)}else f&&f.classList.add("hidden"),h&&h.classList.remove("hidden"),v&&v.classList.remove("hidden"),p&&p.classList.add("hidden"),u&&(u.disabled=!0)}t.auth.onAuthStateChange(((e,n)=>{const o=n?.user||null;I(o),A(o),"SIGNED_OUT"===e?(console.log("Event SIGNED_OUT received. Redirecting."),window.location.href="/"):"SIGNED_IN"===e?console.log("Event SIGNED_IN received. User data:",o.email):"INITIAL_SESSION"===e?console.log("Event INITIAL_SESSION received. User data:",o.email):"TOKEN_REFRESHED"===e&&console.log("Event TOKEN_REFRESHED received. User data:",o.email)})),p.addEventListener("click",(async()=>{z("Déconnexion...","info");const{error:e}=await t.auth.signOut();e?(console.error("Error logging out with Supabase:",e.message),z(`Erreur lors de la déconnexion: ${e.message}`,"danger")):console.log("Supabase signOut successful. onAuthStateChange will handle UI and redirect.")})),a.addEventListener("change",(e=>{!async function(e){if(_(i,"Sélectionnez d'abord une ville"),_(l,"Sélectionnez d'abord un zonage"),u.disabled=!0,E=null,e){b(d,!0),z("Chargement des zonages...","info"),i.disabled=!0;try{const{data:n,error:o}=await t.from("zonages").select("id, nom").eq("ville_id",e).order("nom");if(o)throw o;y(i,n.map((e=>({id:e.id,nom:e.nom}))),"Sélectionnez un zonage","Aucun zonage disponible","zonage")?z(`Zonages chargés : ${n.length}`,"info"):z("Aucun zonage trouvé pour cette ville.","warning")}catch(e){console.error("Erreur lors du chargement des zonages:",e),_(i,"Erreur chargement")}finally{b(d,!1)}}else z("Veuillez sélectionner une ville.","info")}(e.target.value)})),i.addEventListener("change",(e=>{!async function(e){if(_(l,"Sélectionnez d'abord un zonage"),u.disabled=!0,E=null,e){b(m,!0),z("Chargement des zones...","info"),l.disabled=!0;try{const{data:n,error:o}=await t.from("zones").select("id, nom").eq("zonage_id",e).order("nom");if(o)throw o;y(l,n.map((e=>({id:e.id,nom:e.nom}))),"Sélectionnez une zone","Aucune zone disponible","zone")?z(`Zones chargées : ${n.length}`,"info"):z("Aucune zone trouvée pour ce zonage.","warning")}catch(e){console.error("Erreur lors du chargement des zones:",e),_(l,"Erreur chargement")}finally{b(m,!1)}}else z("Veuillez sélectionner un zonage.","info")}(e.target.value)})),l.addEventListener("change",(e=>{const n=e.target.value,o=i.value;n&&o?async function(e,n){if(u.disabled=!0,E=null,O)if(e&&n){b(g,!0),z("Recherche du document...","info");try{const{data:o,error:r}=await t.from("documents").select("id, source_plu_date").eq("zonage_id",e).eq("zone_id",n).eq("typologie_id","d6cd2337-5803-4802-a208-1cfa4eeba905").single();if(r){if("PGRST116"===r.code)return void z("Aucun document trouvé pour cette zone.","warning");throw r}E=o,O&&o?.id?(u.disabled=!1,z(`Document trouvé (Source: ${U(o.source_plu_date)||"Non spécifiée"}). Prêt à consulter.`,"success")):(E=null,z("Document trouvé mais lien manquant.","warning"))}catch(e){console.error("Erreur lors de la recherche du document:",e),E=null}finally{b(g,!1)}}else z("Sélection incomplète pour rechercher le document.","info");else z("Veuillez vous connecter pour accéder aux documents.","warning")}(o,n):z("Veuillez d'abord sélectionner un zonage.","warning")})),u.addEventListener("click",(function(){if(!O)return z("Authentification requise pour télécharger.","warning"),void(u.disabled=!0);const e=S();e&&e.id?(z("Ouverture du document...","info"),window.open(`/plu-summary?id=${e.id}`,"_blank"),setTimeout((()=>{u.disabled||z(`Document trouvé (Source: ${U(e.source_plu_date)||"Non spécifiée"}). Prêt à consulter.`,"success")}),1500)):(z("Lien du document non disponible.","warning"),u.disabled=!0)})),document.addEventListener("DOMContentLoaded",(async()=>{_(a,"Chargement..."),_(i,"Sélectionnez d'abord une ville"),_(l,"Sélectionnez d'abord un zonage"),u&&(u.disabled=!0),A(C()),a&&i&&l&&(z("Initialisation...","info"),_(a,"Chargement..."),_(i,"Sélectionnez d'abord une ville"),_(l,"Sélectionnez d'abord un zonage"),await async function(){b(s,!0),z("Chargement des villes...","info"),a.disabled=!0;try{const{data:e,error:n}=await t.from("villes").select("id, nom").order("nom");if(n)throw n;y(a,e.map((e=>({id:e.id,nom:e.nom}))),"Sélectionnez une ville","Aucune ville disponible","ville")?z(`Villes chargées : ${e.length}`,"info"):z(null===O?"Veuillez vous connecter pour accéder aux données.":"Aucune ville n'a été trouvée.","warning")}catch(e){console.error("Erreur lors du chargement des villes:",e),_(a,"Erreur chargement")}finally{b(s,!1)}}())}))},587:(e,n,o)=>{o.d(n,{P:()=>t});const t={zone_au:"Zone AU",zone_auc1:"Zone AUC1",zone_auc2:"Zone AUC2",zone_auc3:"Zone AUC3",zone_aucru10:"Zone AUCRU10",zone_aud1:"Zone AUD1",zone_aud2:"Zone AUD2",zone_aud3:"Zone AUD3",zone_aud4:"Zone AUD4",zone_aue1:"Zone AUE1",zone_aup1r:"Zone AUP1r",zone_a:"Zone A",zone_al:"Zone AL",zone_n:"Zone N",zone_nl:"Zone NL",zone_ue1:"Zone UE1",zone_ue2:"Zone UE2",zone_ue3:"Zone UE3",zone_ue4:"Zone UE4",zone_uv:"Zone UV",zone_uz1:"Zone UZ1",zone_uz2:"Zone UZ2",zone_uz3:"Zone UZ3",zone_uz4:"Zone UZ4",zone_ua1:"Zone UA1",zone_ua2:"Zone UA2",zone_ua3:"Zone UA3",zone_ub:"Zone UB",zone_uc1:"Zone UC1",zone_uc2:"Zone UC2",zone_uc3:"Zone UC3",zone_ucru1:"Zone UCRU1",zone_ucru2:"Zone UCRU2",zone_ucru3:"Zone UCRU3",zone_ucru4:"Zone UCRU4",zone_ucru5:"Zone UCRU5",zone_ucru6:"Zone UCRU6",zone_ucru7:"Zone UCRU7",zone_ucru8:"Zone UCRU8",zone_ucru9:"Zone UCRU9",zone_ucru11:"Zone UCRU11",zone_ud1:"Zone UD1",zone_ud2:"Zone UD2",zone_ud3:"Zone UD3",zone_ud4:"Zone UD4"}}},i={};function l(e){var n=i[e];if(void 0!==n)return n.exports;var o=i[e]={exports:{}};return a[e].call(o.exports,o,o.exports,l),o.exports}l.m=a,e=[],l.O=(n,o,t,r)=>{if(!o){var a=1/0;for(s=0;s<e.length;s++){for(var[o,t,r]=e[s],i=!0,u=0;u<o.length;u++)(!1&r||a>=r)&&Object.keys(l.O).every((e=>l.O[e](o[u])))?o.splice(u--,1):(i=!1,r<a&&(a=r));if(i){e.splice(s--,1);var c=t();void 0!==c&&(n=c)}}return n}r=r||0;for(var s=e.length;s>0&&e[s-1][2]>r;s--)e[s]=e[s-1];e[s]=[o,t,r]},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var r=Object.create(null);l.r(r);var a={};n=n||[null,o({}),o([]),o(o)];for(var i=2&t&&e;"object"==typeof i&&!~n.indexOf(i);i=o(i))Object.getOwnPropertyNames(i).forEach((n=>a[n]=()=>e[n]));return a.default=()=>e,l.d(r,a),r},l.d=(e,n)=>{for(var o in n)l.o(n,o)&&!l.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},l.f={},l.e=e=>Promise.all(Object.keys(l.f).reduce(((n,o)=>(l.f[o](e,n),n)),[])),l.u=e=>"js/"+e+".bundle.js",l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),l.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t={},r="urbandocs_webapp:",l.l=(e,n,o,a)=>{if(t[e])t[e].push(n);else{var i,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var d=c[s];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+o){i=d;break}}i||(u=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,l.nc&&i.setAttribute("nonce",l.nc),i.setAttribute("data-webpack",r+o),i.src=e),t[e]=[n];var m=(n,o)=>{i.onerror=i.onload=null,clearTimeout(g);var r=t[e];if(delete t[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(o))),n)return n(o)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),u&&document.head.appendChild(i)}},l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;l.g.importScripts&&(e=l.g.location+"");var n=l.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var o=n.getElementsByTagName("script");if(o.length)for(var t=o.length-1;t>-1&&(!e||!/^http(s?):/.test(e));)e=o[t--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),l.p=e+"../"})(),(()=>{var e={54:0,524:0};l.f.j=(n,o)=>{var t=l.o(e,n)?e[n]:void 0;if(0!==t)if(t)o.push(t[2]);else{var r=new Promise(((o,r)=>t=e[n]=[o,r]));o.push(t[2]=r);var a=l.p+l.u(n),i=new Error;l.l(a,(o=>{if(l.o(e,n)&&(0!==(t=e[n])&&(e[n]=void 0),t)){var r=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.src;i.message="Loading chunk "+n+" failed.\n("+r+": "+a+")",i.name="ChunkLoadError",i.type=r,i.request=a,t[1](i)}}),"chunk-"+n,n)}},l.O.j=n=>0===e[n];var n=(n,o)=>{var t,r,[a,i,u]=o,c=0;if(a.some((n=>0!==e[n]))){for(t in i)l.o(i,t)&&(l.m[t]=i[t]);if(u)var s=u(l)}for(n&&n(o);c<a.length;c++)r=a[c],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(s)},o=self.webpackChunkurbandocs_webapp=self.webpackChunkurbandocs_webapp||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))})();var u=l.O(void 0,[303],(()=>l(204)));u=l.O(u)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBWTZDLEVBQWdCN0MsSUFDckU2QyxFQUFnQjdDLEdBQVMsS0FFMUI2QyxFQUFnQjdDLEdBQVcsRUFFNUIsT0FBTzdDLEVBQW9CUyxFQUFFQyxFQUFPLEVBR2pDNkYsRUFBcUJDLEtBQW1DLDZCQUFJQSxLQUFtQyw4QkFBSyxHQUN4R0QsRUFBbUIxTixRQUFRcU4sRUFBcUJuQixLQUFLLEtBQU0sSUFDM0R3QixFQUFtQjVDLEtBQU91QyxFQUFxQm5CLEtBQUssS0FBTXdCLEVBQW1CNUMsS0FBS29CLEtBQUt3QixHLEtDbkZ2RixJQUFJRSxFQUFzQnpHLEVBQW9CUyxPQUFFTixFQUFXLENBQUMsTUFBTSxJQUFPSCxFQUFvQixPQUM3RnlHLEVBQXNCekcsRUFBb0JTLEVBQUVnRyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdXJiYW5kb2NzX3dlYmFwcC93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL3VyYmFuZG9jc193ZWJhcHAvd2VicGFjay9ydW50aW1lL2NyZWF0ZSBmYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vdXJiYW5kb2NzX3dlYmFwcC93ZWJwYWNrL3J1bnRpbWUvbG9hZCBzY3JpcHQiLCJ3ZWJwYWNrOi8vdXJiYW5kb2NzX3dlYmFwcC8uL3NyYy9qcy9zdXBhYmFzZS1jbGllbnQuanMiLCJ3ZWJwYWNrOi8vdXJiYW5kb2NzX3dlYmFwcC8uL3NyYy9qcy91aS5qcyIsIndlYnBhY2s6Ly91cmJhbmRvY3Nfd2ViYXBwLy4vc3JjL2pzL2FwaS5qcyIsIndlYnBhY2s6Ly91cmJhbmRvY3Nfd2ViYXBwLy4vc3JjL2pzL2F1dGgvYXV0aC5qcyIsIndlYnBhY2s6Ly91cmJhbmRvY3Nfd2ViYXBwLy4vc3JjL2pzL2FwcC5qcyIsIndlYnBhY2s6Ly91cmJhbmRvY3Nfd2ViYXBwLy4vc3JjL2pzL21hcHBpbmdzLmpzIiwid2VicGFjazovL3VyYmFuZG9jc193ZWJhcHAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdXJiYW5kb2NzX3dlYmFwcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdXJiYW5kb2NzX3dlYmFwcC93ZWJwYWNrL3J1bnRpbWUvZW5zdXJlIGNodW5rIiwid2VicGFjazovL3VyYmFuZG9jc193ZWJhcHAvd2VicGFjay9ydW50aW1lL2dldCBqYXZhc2NyaXB0IGNodW5rIGZpbGVuYW1lIiwid2VicGFjazovL3VyYmFuZG9jc193ZWJhcHAvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly91cmJhbmRvY3Nfd2ViYXBwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdXJiYW5kb2NzX3dlYmFwcC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3VyYmFuZG9jc193ZWJhcHAvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vdXJiYW5kb2NzX3dlYmFwcC93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly91cmJhbmRvY3Nfd2ViYXBwL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZGVmZXJyZWQgPSBbXTtcbl9fd2VicGFja19yZXF1aXJlX18uTyA9IChyZXN1bHQsIGNodW5rSWRzLCBmbiwgcHJpb3JpdHkpID0+IHtcblx0aWYoY2h1bmtJZHMpIHtcblx0XHRwcmlvcml0eSA9IHByaW9yaXR5IHx8IDA7XG5cdFx0Zm9yKHZhciBpID0gZGVmZXJyZWQubGVuZ3RoOyBpID4gMCAmJiBkZWZlcnJlZFtpIC0gMV1bMl0gPiBwcmlvcml0eTsgaS0tKSBkZWZlcnJlZFtpXSA9IGRlZmVycmVkW2kgLSAxXTtcblx0XHRkZWZlcnJlZFtpXSA9IFtjaHVua0lkcywgZm4sIHByaW9yaXR5XTtcblx0XHRyZXR1cm47XG5cdH1cblx0dmFyIG5vdEZ1bGZpbGxlZCA9IEluZmluaXR5O1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IGRlZmVycmVkLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIFtjaHVua0lkcywgZm4sIHByaW9yaXR5XSA9IGRlZmVycmVkW2ldO1xuXHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuXHRcdGZvciAodmFyIGogPSAwOyBqIDwgY2h1bmtJZHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdGlmICgocHJpb3JpdHkgJiAxID09PSAwIHx8IG5vdEZ1bGZpbGxlZCA+PSBwcmlvcml0eSkgJiYgT2JqZWN0LmtleXMoX193ZWJwYWNrX3JlcXVpcmVfXy5PKS5ldmVyeSgoa2V5KSA9PiAoX193ZWJwYWNrX3JlcXVpcmVfXy5PW2tleV0oY2h1bmtJZHNbal0pKSkpIHtcblx0XHRcdFx0Y2h1bmtJZHMuc3BsaWNlKGotLSwgMSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmdWxmaWxsZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYocHJpb3JpdHkgPCBub3RGdWxmaWxsZWQpIG5vdEZ1bGZpbGxlZCA9IHByaW9yaXR5O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihmdWxmaWxsZWQpIHtcblx0XHRcdGRlZmVycmVkLnNwbGljZShpLS0sIDEpXG5cdFx0XHR2YXIgciA9IGZuKCk7XG5cdFx0XHRpZiAociAhPT0gdW5kZWZpbmVkKSByZXN1bHQgPSByO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTsiLCJ2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgPyAob2JqKSA9PiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikpIDogKG9iaikgPT4gKG9iai5fX3Byb3RvX18pO1xudmFyIGxlYWZQcm90b3R5cGVzO1xuLy8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4vLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuLy8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4vLyBtb2RlICYgMTY6IHJldHVybiB2YWx1ZSB3aGVuIGl0J3MgUHJvbWlzZS1saWtlXG4vLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuXHRpZihtb2RlICYgMSkgdmFsdWUgPSB0aGlzKHZhbHVlKTtcblx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcblx0aWYodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSkge1xuXHRcdGlmKChtb2RlICYgNCkgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuXHRcdGlmKChtb2RlICYgMTYpICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nKSByZXR1cm4gdmFsdWU7XG5cdH1cblx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcblx0dmFyIGRlZiA9IHt9O1xuXHRsZWFmUHJvdG90eXBlcyA9IGxlYWZQcm90b3R5cGVzIHx8IFtudWxsLCBnZXRQcm90byh7fSksIGdldFByb3RvKFtdKSwgZ2V0UHJvdG8oZ2V0UHJvdG8pXTtcblx0Zm9yKHZhciBjdXJyZW50ID0gbW9kZSAmIDIgJiYgdmFsdWU7IHR5cGVvZiBjdXJyZW50ID09ICdvYmplY3QnICYmICF+bGVhZlByb3RvdHlwZXMuaW5kZXhPZihjdXJyZW50KTsgY3VycmVudCA9IGdldFByb3RvKGN1cnJlbnQpKSB7XG5cdFx0T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY3VycmVudCkuZm9yRWFjaCgoa2V5KSA9PiAoZGVmW2tleV0gPSAoKSA9PiAodmFsdWVba2V5XSkpKTtcblx0fVxuXHRkZWZbJ2RlZmF1bHQnXSA9ICgpID0+ICh2YWx1ZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChucywgZGVmKTtcblx0cmV0dXJuIG5zO1xufTsiLCJ2YXIgaW5Qcm9ncmVzcyA9IHt9O1xudmFyIGRhdGFXZWJwYWNrUHJlZml4ID0gXCJ1cmJhbmRvY3Nfd2ViYXBwOlwiO1xuLy8gbG9hZFNjcmlwdCBmdW5jdGlvbiB0byBsb2FkIGEgc2NyaXB0IHZpYSBzY3JpcHQgdGFnXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmwgPSAodXJsLCBkb25lLCBrZXksIGNodW5rSWQpID0+IHtcblx0aWYoaW5Qcm9ncmVzc1t1cmxdKSB7IGluUHJvZ3Jlc3NbdXJsXS5wdXNoKGRvbmUpOyByZXR1cm47IH1cblx0dmFyIHNjcmlwdCwgbmVlZEF0dGFjaDtcblx0aWYoa2V5ICE9PSB1bmRlZmluZWQpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBzY3JpcHRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgcyA9IHNjcmlwdHNbaV07XG5cdFx0XHRpZihzLmdldEF0dHJpYnV0ZShcInNyY1wiKSA9PSB1cmwgfHwgcy5nZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIikgPT0gZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpIHsgc2NyaXB0ID0gczsgYnJlYWs7IH1cblx0XHR9XG5cdH1cblx0aWYoIXNjcmlwdCkge1xuXHRcdG5lZWRBdHRhY2ggPSB0cnVlO1xuXHRcdHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuXG5cdFx0c2NyaXB0LmNoYXJzZXQgPSAndXRmLTgnO1xuXHRcdHNjcmlwdC50aW1lb3V0ID0gMTIwO1xuXHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKSB7XG5cdFx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgX193ZWJwYWNrX3JlcXVpcmVfXy5uYyk7XG5cdFx0fVxuXHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXdlYnBhY2tcIiwgZGF0YVdlYnBhY2tQcmVmaXggKyBrZXkpO1xuXG5cdFx0c2NyaXB0LnNyYyA9IHVybDtcblx0fVxuXHRpblByb2dyZXNzW3VybF0gPSBbZG9uZV07XG5cdHZhciBvblNjcmlwdENvbXBsZXRlID0gKHByZXYsIGV2ZW50KSA9PiB7XG5cdFx0Ly8gYXZvaWQgbWVtIGxlYWtzIGluIElFLlxuXHRcdHNjcmlwdC5vbmVycm9yID0gc2NyaXB0Lm9ubG9hZCA9IG51bGw7XG5cdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHRcdHZhciBkb25lRm5zID0gaW5Qcm9ncmVzc1t1cmxdO1xuXHRcdGRlbGV0ZSBpblByb2dyZXNzW3VybF07XG5cdFx0c2NyaXB0LnBhcmVudE5vZGUgJiYgc2NyaXB0LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcblx0XHRkb25lRm5zICYmIGRvbmVGbnMuZm9yRWFjaCgoZm4pID0+IChmbihldmVudCkpKTtcblx0XHRpZihwcmV2KSByZXR1cm4gcHJldihldmVudCk7XG5cdH1cblx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCB1bmRlZmluZWQsIHsgdHlwZTogJ3RpbWVvdXQnLCB0YXJnZXQ6IHNjcmlwdCB9KSwgMTIwMDAwKTtcblx0c2NyaXB0Lm9uZXJyb3IgPSBvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgc2NyaXB0Lm9uZXJyb3IpO1xuXHRzY3JpcHQub25sb2FkID0gb25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHNjcmlwdC5vbmxvYWQpO1xuXHRuZWVkQXR0YWNoICYmIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn07IiwiLy8gc3JjL2pzL3N1cGFiYXNlLWNsaWVudC5qc1xuLyoqXG4gKiBTdXBhYmFzZSBDbGllbnRcbiAqIEBtb2R1bGUgc3VwYWJhc2UtY2xpZW50XG4gKiBAZGVzY3JpcHRpb24gVGhpcyBtb2R1bGUgaGFuZGxlcyB0aGUgU3VwYWJhc2UgY2xpZW50IGluaXRpYWxpemF0aW9uIGFuZCBjb25maWd1cmF0aW9uLlxuICogQHZlcnNpb24gMC4wLjFcbiAqIEBhdXRob3IgR3JleVBhbmRhXG4gKlxuICogQGNoYW5nZWxvZ1xuICogLSAwLjAuMSAoMjAyNS0wNS0wOSk6IEluaXRpYWwgdmVyc2lvbiB3aXRoIGJhc2ljIFN1cGFiYXNlIGNsaWVudCBpbml0aWFsaXphdGlvbi5cbiAqL1xuXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQHN1cGFiYXNlL3N1cGFiYXNlLWpzXCI7XG5cbmNvbnN0IHN1cGFiYXNlVXJsID0gXCJodHRwczovL29mZXlzc2lwaWJrdG1iZmViaWJvLnN1cGFiYXNlLmNvXCI7XG5jb25zdCBzdXBhYmFzZUFub25LZXkgPVxuICBcImV5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUpwYzNNaU9pSnpkWEJoWW1GelpTSXNJbkpsWmlJNkltOW1aWGx6YzJsd2FXSnJkRzFpWm1WaWFXSnZJaXdpY205c1pTSTZJbUZ1YjI0aUxDSnBZWFFpT2pFM05ETTVNalV3T1RRc0ltVjRjQ0k2TWpBMU9UVXdNVEE1TkgwLnc3MUNBS2ZvbGt0elJsLVRtTFZoSFlhRWJoQ2ZWazRBN1lyYUVVQ2dsclVcIjtcblxuY29uc3QgY2xpZW50ID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpO1xuXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjbGllbnQ7XG4iLCIvLyBwdWJsaWMvanMvdWkuanNcbi8qKlxuICogRmlyZWJhc2UgVUlcbiAqIEBtb2R1bGUgdWlcbiAqIEBkZXNjcmlwdGlvbiBUaGlzIG1vZHVsZSBoYW5kbGVzIHRoZSBVSSBlbGVtZW50cyBhbmQgdXRpbGl0eSBmdW5jdGlvbnMgZm9yIHRoZSBhcHBsaWNhdGlvbi5cbiAqIEB2ZXJzaW9uIDAuMC4xXG4gKiBAYXV0aG9yIEdyZXlQYW5kYVxuICogQHRvZG8gUmV3b3JrIG9uIHRoZSBtZXNzYWdlcyB0byBcImxvZ2luIGJlZm9yZSBkb3dubG9hZGluZ1wiXG4gKlxuICogQGNoYW5nZWxvZ1xuICogLSAwLjAuMSAoMjAyNS0wNC0yNik6IEluaXRpYWwgdmVyc2lvbiB3aXRoIGJhc2ljIFVJIGZ1bmN0aW9ucyBhbmQgZWxlbWVudCByZWZlcmVuY2VzLlxuICovXG5cbi8vIEltcG9ydCBtYXBwaW5ncyBuZWVkZWQgZm9yIGZvcm1hdHRpbmdcbmltcG9ydCB7IHpvbmVOYW1lTWFwcGluZ3MgfSBmcm9tIFwiLi9tYXBwaW5nc1wiO1xuXG4vLyAtLS0gRE9NIEVsZW1lbnQgUmVmZXJlbmNlcyAtLS1cbmNvbnN0IHZpbGxlU2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ2aWxsZVNlbGVjdFwiKTtcbmNvbnN0IHpvbmFnZVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiem9uYWdlU2VsZWN0XCIpO1xuY29uc3Qgem9uZVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiem9uZVNlbGVjdFwiKTtcbmNvbnN0IHR5cG9sb2dpZVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHlwb2xvZ2llU2VsZWN0XCIpO1xuY29uc3Qgc3ludGhlc2lzQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzeW50aGVzaXNCdG5cIik7XG5jb25zdCBzdGF0dXNNZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGF0dXNNZXNzYWdlXCIpO1xuXG4vLyBTcGlubmVycyAoZW5zdXJlIHRoZXNlIElEcyBleGlzdCBpbiB5b3VyIGluZGV4Lmh0bWwpXG5jb25zdCB2aWxsZVNwaW5uZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInZpbGxlU3Bpbm5lclwiKTtcbmNvbnN0IHpvbmFnZVNwaW5uZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInpvbmFnZVNwaW5uZXJcIik7XG5jb25zdCB6b25lU3Bpbm5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiem9uZVNwaW5uZXJcIik7XG5jb25zdCB0eXBvbG9naWVTcGlubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0eXBvbG9naWVTcGlubmVyXCIpO1xuY29uc3QgZG9jdW1lbnRTcGlubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkb2N1bWVudFNwaW5uZXJcIik7IC8vIEZvciB0aGUgZmluYWwgc2VhcmNoL2Rvd25sb2FkIGJ1dHRvbiBhcmVhXG5cbi8vIE5ldyBlbGVtZW50cyBmb3IgQXV0aCBVSVxuY29uc3QgdXNlclN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlclN0YXR1c1wiKTtcbmNvbnN0IGxvZ291dEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9nb3V0QnRuXCIpO1xuY29uc3QgbG9naW5MaW5rID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2dpbkxpbmtcIik7IC8vIFJlZmVyZW5jZSB0byB0aGUgbG9naW4gbGluay9idXR0b25cbmNvbnN0IHNpZ251cExpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNpZ251cExpbmtcIik7IC8vIFJlZmVyZW5jZSB0byB0aGUgc2lnbnVwIGxpbmsvYnV0dG9uXG4vLyAtLS0gRW5kIERPTSBFbGVtZW50IFJlZmVyZW5jZXMgLS0tXG5cbi8vIC0tLSBVSSBVdGlsaXR5IEZ1bmN0aW9ucyAtLS1cblxuLyoqXG4gKiBBZmZpY2hlIHVuIG1lc3NhZ2UgZGUgc3RhdHV0IChldCB0eXBlOiBpbmZvLCBzdWNjZXNzLCBkYW5nZXIsIHdhcm5pbmcpXG4gKi9cbmZ1bmN0aW9uIHNob3dTdGF0dXMobWVzc2FnZSwgdHlwZSA9IFwiaW5mb1wiKSB7XG4gIGlmIChzdGF0dXNNZXNzYWdlKSB7XG4gICAgc3RhdHVzTWVzc2FnZS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gICAgLy8gRW5zdXJlIG9ubHkgb25lIGFsZXJ0IGNsYXNzIGlzIGFjdGl2ZSBhdCBhIHRpbWVcbiAgICBzdGF0dXNNZXNzYWdlLmNsYXNzTmFtZSA9IGBzdGF0dXMtbWVzc2FnZSBhbGVydCBhbGVydC0ke3R5cGV9YDtcbiAgICBzdGF0dXNNZXNzYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJkLW5vbmVcIik7IC8vIE1ha2Ugc3VyZSBpdCdzIHZpc2libGVcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLndhcm4oXCJTdGF0dXMgbWVzc2FnZSBlbGVtZW50IG5vdCBmb3VuZC5cIik7XG4gIH1cbn1cblxuLyoqXG4gKiBBZmZpY2hlIG91IGNhY2hlIHVuIHNwaW5uZXIgQm9vdHN0cmFwXG4gKiBAcGFyYW0gc3Bpbm5lckVsZW1lbnQgTCfDqWzDqW1lbnQgU1BBTiBkdSBzcGlubmVyXG4gKiBAcGFyYW0gc2hvdyBUcnVlIHBvdXIgYWZmaWNoZXIsIGZhbHNlIHBvdXIgY2FjaGVyXG4gKi9cbmZ1bmN0aW9uIHRvZ2dsZVNwaW5uZXIoc3Bpbm5lckVsZW1lbnQsIHNob3cpIHtcbiAgaWYgKHNwaW5uZXJFbGVtZW50KSB7XG4gICAgc3Bpbm5lckVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShcImQtbm9uZVwiLCAhc2hvdyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gY29uc29sZS53YXJuKFwiU3Bpbm5lciBlbGVtZW50IG5vdCBmb3VuZCBmb3IgdG9nZ2xpbmcuXCIpOyAvLyBPcHRpb25hbDogbG9nIGlmIHNwaW5uZXIgbWlzc2luZ1xuICB9XG59XG5cbi8qKlxuICogUsOpaW5pdGlhbGlzZSB1biDDqWzDqW1lbnQgc2VsZWN0IGF2ZWMgdW5lIG9wdGlvbiBwYXIgZMOpZmF1dFxuICovXG5mdW5jdGlvbiByZXNldFNlbGVjdChzZWxlY3RFbGVtZW50LCBkZWZhdWx0VGV4dCkge1xuICBpZiAoc2VsZWN0RWxlbWVudCkge1xuICAgIHNlbGVjdEVsZW1lbnQuaW5uZXJIVE1MID0gYDxvcHRpb24gdmFsdWU9XCJcIj4ke1xuICAgICAgZGVmYXVsdFRleHQgfHwgXCJTw6lsZWN0aW9ubmV6IHVuZSBvcHRpb25cIlxuICAgIH08L29wdGlvbj5gO1xuICAgIHNlbGVjdEVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlOyAvLyBEaXNhYmxlIGJ5IGRlZmF1bHQgb24gcmVzZXRcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLndhcm4oXCJTZWxlY3QgZWxlbWVudCBub3QgZm91bmQgZm9yIHJlc2V0LlwiKTtcbiAgfVxufVxuXG4vKipcbiAqIEZvcm1hdGUgdW4gbm9tIHJlw6d1IGRlIGwnQVBJIChlbmzDqHZlIHVuZGVyc2NvcmVzLCBjYXBpdGFsaXNlKVxuICogVXRpbGlzw6kgY29tbWUgZmFsbGJhY2sgc2kgbGUgbWFwcGFnZSBzcMOpY2lmaXF1ZSBuJ2V4aXN0ZSBwYXMuXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdEFwaU5hbWUobmFtZSkge1xuICBpZiAoIW5hbWUpIHJldHVybiBcIlwiO1xuICAvLyBSZXBsYWNlIHVuZGVyc2NvcmVzIHdpdGggc3BhY2VzLCB0aGVuIGNhcGl0YWxpemUgdGhlIGZpcnN0IGxldHRlciBvZiBlYWNoIHdvcmRcbiAgcmV0dXJuIG5hbWUucmVwbGFjZSgvXy9nLCBcIiBcIikucmVwbGFjZSgvXFxiXFx3L2csIChjaGFyKSA9PiBjaGFyLnRvVXBwZXJDYXNlKCkpO1xufVxuXG4vKipcbiAqIFBldXBsZSB1biBzw6lsZWN0ZXVyIGF2ZWMgZGVzIG9wdGlvbnNcbiAqIEBwYXJhbSBzZWxlY3RFbGVtZW50IEwnw6lsw6ltZW50IHNlbGVjdCDDoCByZW1wbGlyXG4gKiBAcGFyYW0gZGF0YSBUYWJsZWF1IGQnb2JqZXRzIHtpZCwgbm9tfVxuICogQHBhcmFtIGRlZmF1bHRPcHRpb25UZXh0IFRleHRlIGRlIGxhIHByZW1pw6hyZSBvcHRpb24gZMOpc2FjdGl2w6llXG4gKiBAcGFyYW0gZW1wdHlEYXRhVGV4dCBUZXh0ZSBzaSBsZSB0YWJsZWF1IGRhdGEgZXN0IHZpZGVcbiAqIEBwYXJhbSBkYXRhVHlwZSAndmlsbGUnLCAnem9uYWdlJywgJ3pvbmUnLCBvdSAndHlwb2xvZ2llJyBwb3VyIGxlIGZvcm1hdGFnZSBjb25kaXRpb25uZWxcbiAqL1xuZnVuY3Rpb24gcG9wdWxhdGVTZWxlY3QoXG4gIHNlbGVjdEVsZW1lbnQsXG4gIGRhdGEsXG4gIGRlZmF1bHRPcHRpb25UZXh0LFxuICBlbXB0eURhdGFUZXh0LFxuICBkYXRhVHlwZSAvLyBVc2VkIGZvciBjb25kaXRpb25hbCBmb3JtYXR0aW5nIChlLmcuLCB6b25lcylcbikge1xuICBpZiAoIXNlbGVjdEVsZW1lbnQpIHtcbiAgICBjb25zb2xlLndhcm4oXCJTZWxlY3QgZWxlbWVudCBub3QgZm91bmQgZm9yIHBvcHVsYXRpb24uXCIpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJlc2V0U2VsZWN0KHNlbGVjdEVsZW1lbnQsIGRlZmF1bHRPcHRpb25UZXh0KTsgLy8gUmVzZXQgZmlyc3RcblxuICBpZiAoIWRhdGEgfHwgZGF0YS5sZW5ndGggPT09IDApIHtcbiAgICBzZWxlY3RFbGVtZW50LmlubmVySFRNTCA9IGA8b3B0aW9uIHZhbHVlPVwiXCI+JHtlbXB0eURhdGFUZXh0fTwvb3B0aW9uPmA7XG4gICAgc2VsZWN0RWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgcmV0dXJuIGZhbHNlOyAvLyBJbmRpY2F0ZSBubyBkYXRhIHdhcyBwb3B1bGF0ZWRcbiAgfVxuXG4gIGRhdGEuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgb3B0aW9uLnZhbHVlID0gaXRlbS5pZDtcblxuICAgIC8vIC0tLSBDb25kaXRpb25hbCBGb3JtYXR0aW5nIExvZ2ljIC0tLVxuICAgIGxldCBkaXNwbGF5VGV4dCA9IFwiXCI7XG4gICAgLy8gSWYgaXQncyBhICd6b25lJyBhbmQgYSBtYXBwaW5nIGV4aXN0cyBmb3IgaXRzICdub20nXG4gICAgaWYgKGRhdGFUeXBlID09PSBcInpvbmVcIiAmJiB6b25lTmFtZU1hcHBpbmdzLmhhc093blByb3BlcnR5KGl0ZW0ubm9tKSkge1xuICAgICAgZGlzcGxheVRleHQgPSB6b25lTmFtZU1hcHBpbmdzW2l0ZW0ubm9tXTsgLy8gVXNlIHRoZSBtYXBwZWQgbmFtZVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPdGhlcndpc2UsIHVzZSB0aGUgZ2VuZXJhbCBmb3JtYXR0aW5nIGZ1bmN0aW9uXG4gICAgICBkaXNwbGF5VGV4dCA9IGZvcm1hdEFwaU5hbWUoaXRlbS5ub20pO1xuICAgIH1cbiAgICBvcHRpb24udGV4dENvbnRlbnQgPSBkaXNwbGF5VGV4dDsgLy8gQXBwbHkgdGhlIGNob3NlbiB0ZXh0XG5cbiAgICBzZWxlY3RFbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gIH0pO1xuXG4gIHNlbGVjdEVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTsgLy8gRW5hYmxlIHRoZSBzZWxlY3QgYXMgaXQgaGFzIG9wdGlvbnNcbiAgcmV0dXJuIHRydWU7IC8vIEluZGljYXRlIGRhdGEgd2FzIHBvcHVsYXRlZFxufVxuXG4vLyAtLS0gRW5kIFVJIFV0aWxpdHkgRnVuY3Rpb25zIC0tLVxuXG4vLyAtLS0gRXhwb3J0IEVsZW1lbnRzIGFuZCBGdW5jdGlvbnMgLS0tXG5leHBvcnQge1xuICB2aWxsZVNlbGVjdCxcbiAgem9uYWdlU2VsZWN0LFxuICB6b25lU2VsZWN0LFxuICB0eXBvbG9naWVTZWxlY3QsXG4gIHN5bnRoZXNpc0J0bixcbiAgc3RhdHVzTWVzc2FnZSxcbiAgdmlsbGVTcGlubmVyLFxuICB6b25hZ2VTcGlubmVyLFxuICB6b25lU3Bpbm5lcixcbiAgdHlwb2xvZ2llU3Bpbm5lcixcbiAgZG9jdW1lbnRTcGlubmVyLFxuICBzaG93U3RhdHVzLFxuICB0b2dnbGVTcGlubmVyLFxuICByZXNldFNlbGVjdCxcbiAgZm9ybWF0QXBpTmFtZSxcbiAgcG9wdWxhdGVTZWxlY3QsXG4gIC8vIEV4cG9ydCBuZXcgYXV0aC1yZWxhdGVkIGVsZW1lbnRzXG4gIHVzZXJTdGF0dXMsXG4gIGxvZ291dEJ0bixcbiAgbG9naW5MaW5rLFxuICBzaWdudXBMaW5rLFxufTtcbiIsIi8vIHNyYy9qcy9hcGkuanNcbi8qKlxuICogU3VwYWJhc2UgQVBJXG4gKiBAbW9kdWxlIGFwaVxuICogQGRlc2NyaXB0aW9uIFRoaXMgbW9kdWxlIGhhbmRsZXMgQVBJIGNhbGxzIHRvIGZldGNoIGRhdGEgZm9yIHZpbGxlcywgem9uaW5nLCB6b25lcywgYW5kIHR5cG9sb2dpZXMuXG4gKiBAdmVyc2lvbiAwLjEuMFxuICogQGF1dGhvciBHcmV5UGFuZGFcbiAqIEB0b2RvXG4gKlxuICogQGNoYW5nZWxvZ1xuICogLSAwLjEuMCAoMjAyNS0wNS0xNSk6IE1pZ3JhdGluZyBTdXBhYmFzZSBBUEkgY2FsbHMgZm9yIGltcHJvdmVkIHBlcmZvcm1hbmNlLlxuICogLSAwLjAuMSAoMjAyNS0wNC0yNik6IFNlcGFyYXRlIG1vZHVsZSBmb3IgQVBJIGNhbGxzIHRvIGltcHJvdmUgY29kZSBvcmdhbml6YXRpb24gYW5kIG1haW50YWluYWJpbGl0eS5cbiAqL1xuXG4vLyBJbXBvcnQgVUkgZnVuY3Rpb25zIGFuZCBlbGVtZW50cyAod2lsbCBiZSBkZWZpbmVkIGluIHVpLmpzKVxuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tIFwiLi9zdXBhYmFzZS1jbGllbnQuanNcIjtcbmltcG9ydCB7XG4gIHRvZ2dsZVNwaW5uZXIsXG4gIHNob3dTdGF0dXMsXG4gIHBvcHVsYXRlU2VsZWN0LFxuICByZXNldFNlbGVjdCxcbiAgZm9ybWF0QXBpTmFtZSxcbiAgdmlsbGVTZWxlY3QsXG4gIHpvbmFnZVNlbGVjdCxcbiAgem9uZVNlbGVjdCxcbiAgc3ludGhlc2lzQnRuLFxuICB2aWxsZVNwaW5uZXIsXG4gIHpvbmFnZVNwaW5uZXIsXG4gIHpvbmVTcGlubmVyLFxuICBkb2N1bWVudFNwaW5uZXIsXG59IGZyb20gXCIuL3VpLmpzXCI7XG5cbmltcG9ydCB7IGN1cnJlbnRVc2VyIH0gZnJvbSBcIi4vYXBwLmpzXCI7XG5cbi8vIFZhcmlhYmxlIHRvIHN0b3JlIHRoZSBmZXRjaGVkIGRvY3VtZW50IGRldGFpbHNcbmxldCBzZWxlY3RlZERvY3VtZW50ID0gbnVsbDtcblxuLyoqXG4gKiBGZXRjaGVzIHZpbGxlcyBmcm9tIFN1cGFiYXNlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRWaWxsZXMoKSB7XG4gIHRvZ2dsZVNwaW5uZXIodmlsbGVTcGlubmVyLCB0cnVlKTtcbiAgc2hvd1N0YXR1cyhcIkNoYXJnZW1lbnQgZGVzIHZpbGxlcy4uLlwiLCBcImluZm9cIik7XG4gIHZpbGxlU2VsZWN0LmRpc2FibGVkID0gdHJ1ZTtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcInZpbGxlc1wiKVxuICAgICAgLnNlbGVjdChcImlkLCBub21cIilcbiAgICAgIC5vcmRlcihcIm5vbVwiKTtcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG5cbiAgICBjb25zdCBoYXNEYXRhID0gcG9wdWxhdGVTZWxlY3QoXG4gICAgICB2aWxsZVNlbGVjdCxcbiAgICAgIGRhdGEubWFwKChjaXR5KSA9PiAoeyBpZDogY2l0eS5pZCwgbm9tOiBjaXR5Lm5vbSB9KSksXG4gICAgICBcIlPDqWxlY3Rpb25uZXogdW5lIHZpbGxlXCIsXG4gICAgICBcIkF1Y3VuZSB2aWxsZSBkaXNwb25pYmxlXCIsXG4gICAgICBcInZpbGxlXCJcbiAgICApO1xuXG4gICAgaWYgKGhhc0RhdGEpIHtcbiAgICAgIHNob3dTdGF0dXMoYFZpbGxlcyBjaGFyZ8OpZXMgOiAke2RhdGEubGVuZ3RofWAsIFwiaW5mb1wiKTtcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRVc2VyID09PSBudWxsKSB7XG4gICAgICBzaG93U3RhdHVzKFxuICAgICAgICBcIlZldWlsbGV6IHZvdXMgY29ubmVjdGVyIHBvdXIgYWNjw6lkZXIgYXV4IGRvbm7DqWVzLlwiLFxuICAgICAgICBcIndhcm5pbmdcIlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hvd1N0YXR1cyhcIkF1Y3VuZSB2aWxsZSBuJ2Egw6l0w6kgdHJvdXbDqWUuXCIsIFwid2FybmluZ1wiKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZGVzIHZpbGxlczpcIiwgZXJyb3IpO1xuICAgIHJlc2V0U2VsZWN0KHZpbGxlU2VsZWN0LCBcIkVycmV1ciBjaGFyZ2VtZW50XCIpO1xuICB9IGZpbmFsbHkge1xuICAgIHRvZ2dsZVNwaW5uZXIodmlsbGVTcGlubmVyLCBmYWxzZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBGZXRjaGVzIHpvbmFnZXMgZm9yIGEgY2l0eSBmcm9tIFN1cGFiYXNlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRab25hZ2VzKHZpbGxlSWQpIHtcbiAgcmVzZXRTZWxlY3Qoem9uYWdlU2VsZWN0LCBcIlPDqWxlY3Rpb25uZXogZCdhYm9yZCB1bmUgdmlsbGVcIik7XG4gIHJlc2V0U2VsZWN0KHpvbmVTZWxlY3QsIFwiU8OpbGVjdGlvbm5leiBkJ2Fib3JkIHVuIHpvbmFnZVwiKTtcbiAgc3ludGhlc2lzQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgc2VsZWN0ZWREb2N1bWVudCA9IG51bGw7XG5cbiAgaWYgKCF2aWxsZUlkKSB7XG4gICAgc2hvd1N0YXR1cyhcIlZldWlsbGV6IHPDqWxlY3Rpb25uZXIgdW5lIHZpbGxlLlwiLCBcImluZm9cIik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdG9nZ2xlU3Bpbm5lcih6b25hZ2VTcGlubmVyLCB0cnVlKTtcbiAgc2hvd1N0YXR1cyhcIkNoYXJnZW1lbnQgZGVzIHpvbmFnZXMuLi5cIiwgXCJpbmZvXCIpO1xuICB6b25hZ2VTZWxlY3QuZGlzYWJsZWQgPSB0cnVlO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwiem9uYWdlc1wiKVxuICAgICAgLnNlbGVjdChcImlkLCBub21cIilcbiAgICAgIC5lcShcInZpbGxlX2lkXCIsIHZpbGxlSWQpXG4gICAgICAub3JkZXIoXCJub21cIik7XG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgY29uc3QgaGFzRGF0YSA9IHBvcHVsYXRlU2VsZWN0KFxuICAgICAgem9uYWdlU2VsZWN0LFxuICAgICAgZGF0YS5tYXAoKHpvbmluZykgPT4gKHsgaWQ6IHpvbmluZy5pZCwgbm9tOiB6b25pbmcubm9tIH0pKSxcbiAgICAgIFwiU8OpbGVjdGlvbm5leiB1biB6b25hZ2VcIixcbiAgICAgIFwiQXVjdW4gem9uYWdlIGRpc3BvbmlibGVcIixcbiAgICAgIFwiem9uYWdlXCJcbiAgICApO1xuXG4gICAgaWYgKGhhc0RhdGEpIHtcbiAgICAgIHNob3dTdGF0dXMoYFpvbmFnZXMgY2hhcmfDqXMgOiAke2RhdGEubGVuZ3RofWAsIFwiaW5mb1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hvd1N0YXR1cyhcIkF1Y3VuIHpvbmFnZSB0cm91dsOpIHBvdXIgY2V0dGUgdmlsbGUuXCIsIFwid2FybmluZ1wiKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZGVzIHpvbmFnZXM6XCIsIGVycm9yKTtcbiAgICByZXNldFNlbGVjdCh6b25hZ2VTZWxlY3QsIFwiRXJyZXVyIGNoYXJnZW1lbnRcIik7XG4gIH0gZmluYWxseSB7XG4gICAgdG9nZ2xlU3Bpbm5lcih6b25hZ2VTcGlubmVyLCBmYWxzZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBGZXRjaGVzIHpvbmVzIGZvciBhIHpvbmluZyBmcm9tIFN1cGFiYXNlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxvYWRab25lcyh6b25hZ2VJZCkge1xuICByZXNldFNlbGVjdCh6b25lU2VsZWN0LCBcIlPDqWxlY3Rpb25uZXogZCdhYm9yZCB1biB6b25hZ2VcIik7XG4gIHN5bnRoZXNpc0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gIHNlbGVjdGVkRG9jdW1lbnQgPSBudWxsO1xuXG4gIGlmICghem9uYWdlSWQpIHtcbiAgICBzaG93U3RhdHVzKFwiVmV1aWxsZXogc8OpbGVjdGlvbm5lciB1biB6b25hZ2UuXCIsIFwiaW5mb1wiKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0b2dnbGVTcGlubmVyKHpvbmVTcGlubmVyLCB0cnVlKTtcbiAgc2hvd1N0YXR1cyhcIkNoYXJnZW1lbnQgZGVzIHpvbmVzLi4uXCIsIFwiaW5mb1wiKTtcbiAgem9uZVNlbGVjdC5kaXNhYmxlZCA9IHRydWU7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJ6b25lc1wiKVxuICAgICAgLnNlbGVjdChcImlkLCBub21cIilcbiAgICAgIC5lcShcInpvbmFnZV9pZFwiLCB6b25hZ2VJZClcbiAgICAgIC5vcmRlcihcIm5vbVwiKTtcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG5cbiAgICBjb25zdCBoYXNEYXRhID0gcG9wdWxhdGVTZWxlY3QoXG4gICAgICB6b25lU2VsZWN0LFxuICAgICAgZGF0YS5tYXAoKHpvbmUpID0+ICh7IGlkOiB6b25lLmlkLCBub206IHpvbmUubm9tIH0pKSxcbiAgICAgIFwiU8OpbGVjdGlvbm5leiB1bmUgem9uZVwiLFxuICAgICAgXCJBdWN1bmUgem9uZSBkaXNwb25pYmxlXCIsXG4gICAgICBcInpvbmVcIlxuICAgICk7XG5cbiAgICBpZiAoaGFzRGF0YSkge1xuICAgICAgc2hvd1N0YXR1cyhgWm9uZXMgY2hhcmfDqWVzIDogJHtkYXRhLmxlbmd0aH1gLCBcImluZm9cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNob3dTdGF0dXMoXCJBdWN1bmUgem9uZSB0cm91dsOpZSBwb3VyIGNlIHpvbmFnZS5cIiwgXCJ3YXJuaW5nXCIpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudCBkZXMgem9uZXM6XCIsIGVycm9yKTtcbiAgICByZXNldFNlbGVjdCh6b25lU2VsZWN0LCBcIkVycmV1ciBjaGFyZ2VtZW50XCIpO1xuICB9IGZpbmFsbHkge1xuICAgIHRvZ2dsZVNwaW5uZXIoem9uZVNwaW5uZXIsIGZhbHNlKTtcbiAgfVxufVxuXG4vKipcbiAqIEZldGNoZXMgZG9jdW1lbnQgZm9yIGEgem9uZSBmcm9tIFN1cGFiYXNlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZpbmREb2N1bWVudCh6b25hZ2VJZCwgem9uZUlkLCB0eXBvbG9naWVJZCkge1xuICBzeW50aGVzaXNCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICBzZWxlY3RlZERvY3VtZW50ID0gbnVsbDtcblxuICBpZiAoIWN1cnJlbnRVc2VyKSB7XG4gICAgc2hvd1N0YXR1cyhcbiAgICAgIFwiVmV1aWxsZXogdm91cyBjb25uZWN0ZXIgcG91ciBhY2PDqWRlciBhdXggZG9jdW1lbnRzLlwiLFxuICAgICAgXCJ3YXJuaW5nXCJcbiAgICApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghem9uYWdlSWQgfHwgIXpvbmVJZCkge1xuICAgIHNob3dTdGF0dXMoXCJTw6lsZWN0aW9uIGluY29tcGzDqHRlIHBvdXIgcmVjaGVyY2hlciBsZSBkb2N1bWVudC5cIiwgXCJpbmZvXCIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRvZ2dsZVNwaW5uZXIoZG9jdW1lbnRTcGlubmVyLCB0cnVlKTtcbiAgc2hvd1N0YXR1cyhcIlJlY2hlcmNoZSBkdSBkb2N1bWVudC4uLlwiLCBcImluZm9cIik7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJkb2N1bWVudHNcIilcbiAgICAgIC8vIFRPRE86IGFkZCBwbHVfcGF0aCBhbmQgcGx1X21hcmtkb3duX2NvbnRlbnQgdG8gdGhlIHF1ZXJ5XG4gICAgICAuc2VsZWN0KFwiaWQsIHNvdXJjZV9wbHVfZGF0ZVwiKVxuICAgICAgLmVxKFwiem9uYWdlX2lkXCIsIHpvbmFnZUlkKVxuICAgICAgLmVxKFwiem9uZV9pZFwiLCB6b25lSWQpXG4gICAgICAuZXEoXCJ0eXBvbG9naWVfaWRcIiwgdHlwb2xvZ2llSWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvci5jb2RlID09PSBcIlBHUlNUMTE2XCIpIHtcbiAgICAgICAgc2hvd1N0YXR1cyhcIkF1Y3VuIGRvY3VtZW50IHRyb3V2w6kgcG91ciBjZXR0ZSB6b25lLlwiLCBcIndhcm5pbmdcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIHNlbGVjdGVkRG9jdW1lbnQgPSBkYXRhO1xuXG4gICAgaWYgKGN1cnJlbnRVc2VyICYmIGRhdGE/LmlkKSB7XG4gICAgICBzeW50aGVzaXNCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHNob3dTdGF0dXMoXG4gICAgICAgIGBEb2N1bWVudCB0cm91dsOpIChTb3VyY2U6ICR7XG4gICAgICAgICAgZm9ybWF0QXBpTmFtZShkYXRhLnNvdXJjZV9wbHVfZGF0ZSkgfHwgXCJOb24gc3DDqWNpZmnDqWVcIlxuICAgICAgICB9KS4gUHLDqnQgw6AgY29uc3VsdGVyLmAsXG4gICAgICAgIFwic3VjY2Vzc1wiXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxlY3RlZERvY3VtZW50ID0gbnVsbDtcbiAgICAgIHNob3dTdGF0dXMoXCJEb2N1bWVudCB0cm91dsOpIG1haXMgbGllbiBtYW5xdWFudC5cIiwgXCJ3YXJuaW5nXCIpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyZXVyIGxvcnMgZGUgbGEgcmVjaGVyY2hlIGR1IGRvY3VtZW50OlwiLCBlcnJvcik7XG4gICAgc2VsZWN0ZWREb2N1bWVudCA9IG51bGw7XG4gIH0gZmluYWxseSB7XG4gICAgdG9nZ2xlU3Bpbm5lcihkb2N1bWVudFNwaW5uZXIsIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTZWxlY3RlZERvY3VtZW50KCkge1xuICByZXR1cm4gc2VsZWN0ZWREb2N1bWVudDtcbn1cblxuZXhwb3J0IHtcbiAgbG9hZFZpbGxlcyxcbiAgbG9hZFpvbmFnZXMsXG4gIGxvYWRab25lcyxcbiAgZmluZERvY3VtZW50LFxuICBnZXRTZWxlY3RlZERvY3VtZW50LFxufTtcbiIsIi8vIHNyYy9hdXRoL2F1dGguanNcbi8qKlxuICogQXV0aGVudGljYXRpb24gTW9kdWxlIC0gQmFzZVxuICogQG1vZHVsZSBhdXRoXG4gKiBAZGVzY3JpcHRpb24gQmFzZSBtb2R1bGUgZm9yIGF1dGhlbnRpY2F0aW9uIHdpdGggY29tbW9uIGZ1bmN0aW9ucyBhbmQgY29uZmlndXJhdGlvblxuICogQHZlcnNpb24gMC4wLjVcbiAqXG4gKiBAY2hhbmdlbG9nXG4gKiAtIDAuMC41ICgyMDI1LTA1LTE1KTogQWRkZWQgc2Vzc2lvbiB2YWxpZGF0aW9uIGFuZCBwcm90ZWN0aW9uIGFnYWluc3Qgc3RhbGUgc2Vzc2lvbnMuXG4gKiAtIDAuMC40ICgyMDI1LTA1LTE1KTogUmVtb3ZhbCBvZiBGaXJlYmFzZSBDbG91ZCBGdW5jdGlvbnMgY29uc3RhbnRzLlxuICogLSAwLjAuMyAoMjAyNS0wNS0xMyk6IE1vZGlmaWVkIHRoZSBhdXRoZW50aWNhdGlvbiBzdGF0ZSBtYW5hZ2VtZW50IHRvIHVzZSBTdXBhYmFzZSBBdXRoIHN5c3RlbS5cbiAqIC0gMC4wLjIgKDIwMjUtMDUtMTMpOiBSZW9yZ2FuaXphdGlvbiBpbnRvIHNlcGFyYXRlIG1vZHVsZXNcbiAqIC0gMC4wLjEgKDIwMjUtMDUtMDMpOiBJbml0aWFsIGNyZWF0aW9uXG4gKi9cblxuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tIFwiLi4vc3VwYWJhc2UtY2xpZW50LmpzXCI7XG5cbi8vIEdsb2JhbCBhdXRoZW50aWNhdGlvbiBzdGF0ZVxubGV0IGN1cnJlbnRVc2VyID0gbnVsbDtcbmxldCBzZXNzaW9uVmFsaWRhdGVkID0gZmFsc2U7XG5cbi8qKlxuICogU2V0cyB0aGUgY3VycmVudCB1c2VyXG4gKiBAcGFyYW0ge09iamVjdH0gdXNlciAtIFVzZXIgZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q3VycmVudFVzZXIodXNlcikge1xuICBjdXJyZW50VXNlciA9IHVzZXI7XG4gIC8vIFBvc3NpYmxlIHN0b3JhZ2UgaW4gbG9jYWxTdG9yYWdlL3Nlc3Npb25TdG9yYWdlXG4gIGlmICh1c2VyKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJjdXJyZW50VXNlclwiLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7XG4gIH0gZWxzZSB7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJjdXJyZW50VXNlclwiKTtcbiAgfVxufVxuXG4vKipcbiAqIFZhbGlkYXRlcyBpZiB0aGUgY3VycmVudCBzZXNzaW9uIGlzIGFjdGl2ZSB3aXRoIFN1cGFiYXNlXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn0gVHJ1ZSBpZiBzZXNzaW9uIGlzIHZhbGlkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHZhbGlkYXRlU2Vzc2lvbigpIHtcbiAgdHJ5IHtcbiAgICAvLyBHZXQgY3VycmVudCBzZXNzaW9uIGZyb20gU3VwYWJhc2VcbiAgICBjb25zdCB7XG4gICAgICBkYXRhOiB7IHNlc3Npb24gfSxcbiAgICAgIGVycm9yOiBzZXNzaW9uRXJyb3IsXG4gICAgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpO1xuXG4gICAgLy8gTm8gc2Vzc2lvbiBvciBlcnJvciByZXRyaWV2aW5nIHNlc3Npb25cbiAgICBpZiAoc2Vzc2lvbkVycm9yIHx8ICFzZXNzaW9uKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIk5vIHZhbGlkIHNlc3Npb24gZm91bmRcIik7XG4gICAgICBzZXRDdXJyZW50VXNlcihudWxsKTtcbiAgICAgIHNlc3Npb25WYWxpZGF0ZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBUcnkgdG8gcmVmcmVzaCB0aGUgdG9rZW4gdG8gdmFsaWRhdGUgaXQgd2l0aCB0aGUgc2VydmVyXG4gICAgY29uc3QgeyBlcnJvcjogcmVmcmVzaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnJlZnJlc2hTZXNzaW9uKCk7XG5cbiAgICBpZiAocmVmcmVzaEVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oXCJTZXNzaW9uIHZhbGlkYXRpb24gZmFpbGVkOlwiLCByZWZyZXNoRXJyb3IpO1xuICAgICAgLy8gRm9yY2UgY2xlYXIgdGhlIGludmFsaWQgc2Vzc2lvblxuICAgICAgYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduT3V0KCk7XG4gICAgICBzZXRDdXJyZW50VXNlcihudWxsKTtcbiAgICAgIHNlc3Npb25WYWxpZGF0ZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBTZXNzaW9uIGlzIHZhbGlkLCB1cGRhdGUgdGhlIGN1cnJlbnQgdXNlclxuICAgIHNldEN1cnJlbnRVc2VyKHNlc3Npb24udXNlcik7XG4gICAgc2Vzc2lvblZhbGlkYXRlZCA9IHRydWU7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiU2Vzc2lvbiB2YWxpZGF0aW9uIGVycm9yOlwiLCBlKTtcbiAgICBzZXRDdXJyZW50VXNlcihudWxsKTtcbiAgICBzZXNzaW9uVmFsaWRhdGVkID0gZmFsc2U7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSBjdXJyZW50IHVzZXJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsaWRhdGUgLSBXaGV0aGVyIHRvIHZhbGlkYXRlIHRoZSBzZXNzaW9uIHdpdGggU3VwYWJhc2VcbiAqIEByZXR1cm5zIHtQcm9taXNlPE9iamVjdHxudWxsPn0gVGhlIGN1cnJlbnQgdXNlciBvciBudWxsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDdXJyZW50VXNlcih2YWxpZGF0ZSA9IHRydWUpIHtcbiAgLy8gSWYgd2UgbmVlZCB0byB2YWxpZGF0ZSBhbmQgaGF2ZW4ndCBkb25lIHNvIHlldFxuICBpZiAodmFsaWRhdGUgJiYgIXNlc3Npb25WYWxpZGF0ZWQpIHtcbiAgICBhd2FpdCB2YWxpZGF0ZVNlc3Npb24oKTtcbiAgfVxuXG4gIC8vIElmIG5vIHZhbGlkYXRpb24gbmVlZGVkIG9yIGFscmVhZHkgdmFsaWRhdGVkXG4gIGlmICghdmFsaWRhdGUgJiYgIWN1cnJlbnRVc2VyKSB7XG4gICAgLy8gVHJ5IHRvIHJldHJpZXZlIGZyb20gc3RvcmFnZSBpZiBub3QgaW4gbWVtb3J5XG4gICAgY29uc3Qgc3RvcmVkVXNlciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3VycmVudFVzZXJcIik7XG4gICAgaWYgKHN0b3JlZFVzZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGN1cnJlbnRVc2VyID0gSlNPTi5wYXJzZShzdG9yZWRVc2VyKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHJldHJpZXZpbmcgdXNlcjpcIiwgZSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiY3VycmVudFVzZXJcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGN1cnJlbnRVc2VyO1xufVxuXG4vKipcbiAqIFN5bmNocm9ub3VzIHZlcnNpb24gb2YgZ2V0Q3VycmVudFVzZXIgZm9yIG5vbi1hc3luYyBjb250ZXh0c1xuICogV0FSTklORzogVGhpcyBtYXkgcmV0dXJuIHN0YWxlIGRhdGEgaWYgc2Vzc2lvbiBpcyBpbnZhbGlkXG4gKiBAcmV0dXJucyB7T2JqZWN0fG51bGx9IFRoZSBjdXJyZW50IHVzZXIgb3IgbnVsbFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXJTeW5jKCkge1xuICBpZiAoIWN1cnJlbnRVc2VyKSB7XG4gICAgY29uc3Qgc3RvcmVkVXNlciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiY3VycmVudFVzZXJcIik7XG4gICAgaWYgKHN0b3JlZFVzZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGN1cnJlbnRVc2VyID0gSlNPTi5wYXJzZShzdG9yZWRVc2VyKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHJldHJpZXZpbmcgdXNlcjpcIiwgZSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiY3VycmVudFVzZXJcIik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGN1cnJlbnRVc2VyO1xufVxuXG4vKipcbiAqIExvZ3Mgb3V0IHRoZSB1c2VyXG4gKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvZ291dCgpIHtcbiAgdHJ5IHtcbiAgICAvLyBTaWduIG91dCBmcm9tIFN1cGFiYXNlXG4gICAgYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduT3V0KCk7XG5cbiAgICAvLyBDbGVhciBsb2NhbCBzdGF0ZVxuICAgIGN1cnJlbnRVc2VyID0gbnVsbDtcbiAgICBzZXNzaW9uVmFsaWRhdGVkID0gZmFsc2U7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJjdXJyZW50VXNlclwiKTtcblxuICAgIC8vIFJlZGlyZWN0IHRvIHRoZSBob21lIHBhZ2UgYWZ0ZXIgbG9nb3V0XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9cIjtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZHVyaW5nIGxvZ291dDpcIiwgZXJyb3IpO1xuICAgIC8vIFN0aWxsIGNsZWFyIGxvY2FsIHN0YXRlIGV2ZW4gaWYgU3VwYWJhc2Ugc2lnbk91dCBmYWlsc1xuICAgIGN1cnJlbnRVc2VyID0gbnVsbDtcbiAgICBzZXNzaW9uVmFsaWRhdGVkID0gZmFsc2U7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJjdXJyZW50VXNlclwiKTtcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL1wiO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSB1c2VyIGlzIGxvZ2dlZCBpbiB3aXRoIHZhbGlkIHNlc3Npb25cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsaWRhdGUgLSBXaGV0aGVyIHRvIHZhbGlkYXRlIHdpdGggU3VwYWJhc2UgZmlyc3RcbiAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBUcnVlIGlmIHRoZSB1c2VyIGlzIGxvZ2dlZCBpbiB3aXRoIHZhbGlkIHNlc3Npb25cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzTG9nZ2VkSW4odmFsaWRhdGUgPSB0cnVlKSB7XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRDdXJyZW50VXNlcih2YWxpZGF0ZSk7XG4gIHJldHVybiB1c2VyICE9PSBudWxsO1xufVxuXG4vKipcbiAqIFN5bmNocm9ub3VzIHZlcnNpb24gb2YgaXNMb2dnZWRJblxuICogV0FSTklORzogVGhpcyBtYXkgcmV0dXJuIGluY29ycmVjdCByZXN1bHRzIGlmIHNlc3Npb24gaXMgaW52YWxpZFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdXNlciBhcHBlYXJzIHRvIGJlIGxvZ2dlZCBpbiBsb2NhbGx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xvZ2dlZEluU3luYygpIHtcbiAgcmV0dXJuIGdldEN1cnJlbnRVc2VyU3luYygpICE9PSBudWxsO1xufVxuXG4vKipcbiAqIFByb3RlY3RzIGEgcGFnZSB0aGF0IHJlcXVpcmVzIGF1dGhlbnRpY2F0aW9uXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVkaXJlY3RVcmwgLSBVUkwgdG8gcmVkaXJlY3QgaWYgbm90IGF1dGhlbnRpY2F0ZWRcbiAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBUcnVlIGlmIGF1dGhlbnRpY2F0ZWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJvdGVjdFBhZ2UocmVkaXJlY3RVcmwgPSBcIi9sb2dpblwiKSB7XG4gIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCB2YWxpZGF0ZVNlc3Npb24oKTtcblxuICBpZiAoIWlzVmFsaWQpIHtcbiAgICAvLyBSZWRpcmVjdCB0byBsb2dpbiBwYWdlXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZWRpcmVjdFVybDtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyBhdXRoIG9uIHBhZ2UgbG9hZFxuICogQ2FsbCB0aGlzIGF0IHRoZSBiZWdpbm5pbmcgb2YgeW91ciBhcHAgaW5pdGlhbGl6YXRpb25cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRBdXRoKCkge1xuICAvLyBWYWxpZGF0ZSBzZXNzaW9uIG9uIHBhZ2UgbG9hZFxuICBhd2FpdCB2YWxpZGF0ZVNlc3Npb24oKTtcblxuICAvLyBTZXQgdXAgYXV0aCBzdGF0ZSBjaGFuZ2UgbGlzdGVuZXJcbiAgc3VwYWJhc2UuYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZShhc3luYyAoZXZlbnQsIHNlc3Npb24pID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIkF1dGggc3RhdGUgY2hhbmdlZDpcIiwgZXZlbnQpO1xuXG4gICAgaWYgKGV2ZW50ID09PSBcIlNJR05FRF9JTlwiICYmIHNlc3Npb24pIHtcbiAgICAgIHNldEN1cnJlbnRVc2VyKHNlc3Npb24udXNlcik7XG4gICAgICBzZXNzaW9uVmFsaWRhdGVkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSBcIlNJR05FRF9PVVRcIikge1xuICAgICAgc2V0Q3VycmVudFVzZXIobnVsbCk7XG4gICAgICBzZXNzaW9uVmFsaWRhdGVkID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gXCJUT0tFTl9SRUZSRVNIRURcIikge1xuICAgICAgc2V0Q3VycmVudFVzZXIoc2Vzc2lvbi51c2VyKTtcbiAgICAgIHNlc3Npb25WYWxpZGF0ZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09IFwiVVNFUl9VUERBVEVEXCIpIHtcbiAgICAgIHNldEN1cnJlbnRVc2VyKHNlc3Npb24udXNlcik7XG4gICAgICBzZXNzaW9uVmFsaWRhdGVkID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIERpc3BsYXlzIGFuIGVycm9yIG1lc3NhZ2VcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gRXJyb3IgbWVzc2FnZSB0byBkaXNwbGF5XG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudElkIC0gSUQgb2YgdGhlIGVsZW1lbnQgd2hlcmUgdG8gZGlzcGxheSB0aGUgZXJyb3JcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3dFcnJvcihtZXNzYWdlLCBlbGVtZW50SWQgPSBcImVycm9yTWVzc2FnZVwiKSB7XG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCk7XG4gIGlmIChlcnJvckVsZW1lbnQpIHtcbiAgICBlcnJvckVsZW1lbnQuaW5uZXJIVE1MID0gbWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZWxlbWVudCBub3QgZm91bmQ6XCIsIGVsZW1lbnRJZCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwbGF5cyBhIHN0YXR1cyBtZXNzYWdlXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIE1lc3NhZ2UgdG8gZGlzcGxheVxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBNZXNzYWdlIHR5cGUgKHN1Y2Nlc3MsIGluZm8sIHdhcm5pbmcsIGRhbmdlcilcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50SWQgLSBJRCBvZiB0aGUgZWxlbWVudCB3aGVyZSB0byBkaXNwbGF5IHRoZSBtZXNzYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaG93U3RhdHVzKFxuICBtZXNzYWdlLFxuICB0eXBlID0gXCJpbmZvXCIsXG4gIGVsZW1lbnRJZCA9IFwic3RhdHVzTWVzc2FnZVwiXG4pIHtcbiAgY29uc3Qgc3RhdHVzRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCk7XG4gIGlmIChzdGF0dXNFbGVtZW50KSB7XG4gICAgc3RhdHVzRWxlbWVudC50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG5cbiAgICAvLyBSZW1vdmUgYWxsIGFsZXJ0LSogY2xhc3Nlc1xuICAgIHN0YXR1c0VsZW1lbnQuY2xhc3NMaXN0LmZvckVhY2goKGNsYXNzTmFtZSkgPT4ge1xuICAgICAgaWYgKGNsYXNzTmFtZS5zdGFydHNXaXRoKFwiYWxlcnQtXCIpKSB7XG4gICAgICAgIHN0YXR1c0VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQWRkIHRoZSBjbGFzcyBjb3JyZXNwb25kaW5nIHRvIHRoZSB0eXBlXG4gICAgc3RhdHVzRWxlbWVudC5jbGFzc0xpc3QuYWRkKGBhbGVydC0ke3R5cGV9YCk7XG4gICAgc3RhdHVzRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJTdGF0dXMgZWxlbWVudCBub3QgZm91bmQ6XCIsIGVsZW1lbnRJZCk7XG4gIH1cbn1cblxuLyoqXG4gKiBIaWRlcyBhbiBlbGVtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudElkIC0gSUQgb2YgdGhlIGVsZW1lbnQgdG8gaGlkZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGlkZUVsZW1lbnQoZWxlbWVudElkKSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpO1xuICBpZiAoZWxlbWVudCkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgfVxufVxuXG4vKipcbiAqIFNob3dzIGFuIGVsZW1lbnRcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50SWQgLSBJRCBvZiB0aGUgZWxlbWVudCB0byBzaG93XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaG93RWxlbWVudChlbGVtZW50SWQpIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCk7XG4gIGlmIChlbGVtZW50KSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICB9XG59XG5cbi8qKlxuICogU2hvd3MgdGhlIGxvYWRpbmcgaW5kaWNhdG9yXG4gKiBAcGFyYW0ge3N0cmluZ30gYnV0dG9uSWQgLSBJRCBvZiB0aGUgYnV0dG9uXG4gKiBAcGFyYW0ge3N0cmluZ30gc3Bpbm5lcklkIC0gSUQgb2YgdGhlIHNwaW5uZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3dMb2FkaW5nKGJ1dHRvbklkLCBzcGlubmVySWQpIHtcbiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYnV0dG9uSWQpO1xuICBjb25zdCBzcGlubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3Bpbm5lcklkKTtcblxuICBpZiAoYnV0dG9uKSBidXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICBpZiAoc3Bpbm5lcikgc3Bpbm5lci5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xufVxuXG4vKipcbiAqIEhpZGVzIHRoZSBsb2FkaW5nIGluZGljYXRvclxuICogQHBhcmFtIHtzdHJpbmd9IGJ1dHRvbklkIC0gSUQgb2YgdGhlIGJ1dHRvblxuICogQHBhcmFtIHtzdHJpbmd9IHNwaW5uZXJJZCAtIElEIG9mIHRoZSBzcGlubmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoaWRlTG9hZGluZyhidXR0b25JZCwgc3Bpbm5lcklkKSB7XG4gIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJ1dHRvbklkKTtcbiAgY29uc3Qgc3Bpbm5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNwaW5uZXJJZCk7XG5cbiAgaWYgKGJ1dHRvbikgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIGlmIChzcGlubmVyKSBzcGlubmVyLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG59XG5cbi8vIEV4cG9ydCB0aGUgbmVjZXNzYXJ5IGZ1bmN0aW9ucyBhbmQgdmFyaWFibGVzXG5leHBvcnQgZGVmYXVsdCB7XG4gIGdldEN1cnJlbnRVc2VyLFxuICBnZXRDdXJyZW50VXNlclN5bmMsXG4gIHNldEN1cnJlbnRVc2VyLFxuICBsb2dvdXQsXG4gIGlzTG9nZ2VkSW4sXG4gIGlzTG9nZ2VkSW5TeW5jLFxuICB2YWxpZGF0ZVNlc3Npb24sXG4gIHByb3RlY3RQYWdlLFxuICBpbml0QXV0aCxcbiAgc2hvd0Vycm9yLFxuICBzaG93U3RhdHVzLFxuICBoaWRlRWxlbWVudCxcbiAgc2hvd0VsZW1lbnQsXG4gIHNob3dMb2FkaW5nLFxuICBoaWRlTG9hZGluZyxcbn07XG4iLCIvLyBwdWJsaWMvanMvYXBwLmpzIC0gTWFpbiBhcHBsaWNhdGlvbiBsb2dpY1xuLyoqXG4gKiBGaXJlYmFzZSBBcHBcbiAqIEBtb2R1bGUgYXBwXG4gKiBAZGVzY3JpcHRpb24gVGhpcyBtb2R1bGUgaGFuZGxlcyB0aGUgbWFpbiBhcHBsaWNhdGlvbiBsb2dpYy5cbiAqIEB2ZXJzaW9uIDAuMC41XG4gKiBAYXV0aG9yIEdyZXlQYW5kYVxuICpcbiAqIEBjaGFuZ2Vsb2dcbiAqIC0gMC4wLjUgKDIwMjUtMDUtMTMpOiBBZGRpbmcgYWNjb3VudCBidXR0b24gdG8gdGhlIHByb2ZpbGUgcGFnZSwgY29ycmVjdGluZyB0aGUgbG9naW4gcHJvbXB0LlxuICogLSAwLjAuNCAoMjAyNS0wNS0wOSk6IE1vZGlmaWVkIHRoZSBhdXRoZW50aWNhdGlvbiBzdGF0ZSBtYW5hZ2VtZW50IHRvIHVzZSBTdXBhYmFzZSBBdXRoIHN5c3RlbS5cbiAqIC0gMC4wLjMgKDIwMjUtMDUtMDgpOiBNb3ZlZCBGaXJlYmFzZSBjb25maWd1cmF0aW9uIGludG8gYSBzZXBhcmF0ZSBmaWxlLlxuICogLSAwLjAuMiAoMjAyNS0wNC0yNyk6IEFkZGVkIGF1dGhlbnRpY2F0aW9uIHN0YXRlIG1hbmFnZW1lbnQgYW5kIGRvY3VtZW50IGRvd25sb2FkIGZ1bmN0aW9uYWxpdHkgd2l0aCBGaXJlYmFzZSBBdXRoLlxuICogLSAwLjAuMSAoMjAyNS0wNC0yMSk6IEluaXRpYWwgdmVyc2lvbiB3aXRoIGJhc2ljIGRvY3VtZW50IGRvd25sb2FkIGZ1bmN0aW9uYWxpdHkuXG4gKi9cblxuLy8gSW1wb3J0IFN1cGFiYXNlIENsaWVudFxuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tIFwiLi9zdXBhYmFzZS1jbGllbnQuanNcIjtcblxuLy8gSW1wb3J0IEFQSSBmdW5jdGlvbnNcbmltcG9ydCB7XG4gIGxvYWRWaWxsZXMsXG4gIGxvYWRab25hZ2VzLFxuICBsb2FkWm9uZXMsXG4gIGZpbmREb2N1bWVudCxcbiAgZ2V0U2VsZWN0ZWREb2N1bWVudCwgLy8gRnVuY3Rpb24gdG8gZ2V0IHRoZSBkb2N1bWVudCBkZXRhaWxzIGZyb20gYXBpLmpzXG59IGZyb20gXCIuL2FwaS5qc1wiO1xuXG4vLyBJbXBvcnQgVUkgZWxlbWVudHMgYW5kIGZ1bmN0aW9uc1xuaW1wb3J0IHtcbiAgdmlsbGVTZWxlY3QsXG4gIHpvbmFnZVNlbGVjdCxcbiAgem9uZVNlbGVjdCxcbiAgc3ludGhlc2lzQnRuLFxuICBzaG93U3RhdHVzLFxuICByZXNldFNlbGVjdCxcbiAgZm9ybWF0QXBpTmFtZSxcbiAgLy8gUmVmZXJlbmNlcyB0byBVSSBlbGVtZW50cyBmcm9tIHVpLmpzXG4gIHVzZXJTdGF0dXMsXG4gIGxvZ291dEJ0bixcbiAgbG9naW5MaW5rLFxuICBzaWdudXBMaW5rLFxufSBmcm9tIFwiLi91aS5qc1wiO1xuXG5pbXBvcnQgKiBhcyBhdXRoTW9kdWxlIGZyb20gXCIuL2F1dGgvYXV0aC5qc1wiO1xuXG5sZXQgY3VycmVudFVzZXIgPSBudWxsOyAvLyBWYXJpYWJsZSB0byBob2xkIHRoZSBjdXJyZW50IHVzZXIgc3RhdGVcblxuLy8gLS0tIEF1dGhlbnRpY2F0aW9uIFN0YXRlIE1hbmFnZW1lbnQgLS0tXG5mdW5jdGlvbiB1cGRhdGVVSUZvckF1dGhTdGF0ZSh1c2VyKSB7XG4gIGN1cnJlbnRVc2VyID0gdXNlcjsgLy8gVXBkYXRlIGdsb2JhbCB1c2VyIHN0YXRlXG4gIGlmICh1c2VyKSB7XG4gICAgLy8gVXNlciBpcyBzaWduZWQgaW5cbiAgICBpZiAodXNlclN0YXR1cykge1xuICAgICAgdXNlclN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICAgIH1cbiAgICBpZiAobG9naW5MaW5rKSBsb2dpbkxpbmsuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICBpZiAoc2lnbnVwTGluaykgc2lnbnVwTGluay5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgIGlmIChsb2dvdXRCdG4pIGxvZ291dEJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuXG4gICAgY29uc3Qgc2VsZWN0ZWREb2N1bWVudCA9IGdldFNlbGVjdGVkRG9jdW1lbnQoKTtcbiAgICBpZiAoc2VsZWN0ZWREb2N1bWVudCAmJiBzZWxlY3RlZERvY3VtZW50LmlkKSB7XG4gICAgICBpZiAoc3ludGhlc2lzQnRuKSBzeW50aGVzaXNCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgIHNob3dTdGF0dXMoXG4gICAgICAgIGBEb2N1bWVudCB0cm91dsOpIChTb3VyY2U6ICR7XG4gICAgICAgICAgZm9ybWF0QXBpTmFtZShzZWxlY3RlZERvY3VtZW50LnNvdXJjZV9wbHVfZGF0ZSkgfHwgXCJOb24gc3DDqWNpZmnDqWVcIlxuICAgICAgICB9KS4gUHLDqnQgw6AgY29uc3VsdGVyLmAsXG4gICAgICAgIFwic3VjY2Vzc1wiXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoc3ludGhlc2lzQnRuKSBzeW50aGVzaXNCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBVc2VyIGlzIHNpZ25lZCBvdXRcbiAgICBpZiAodXNlclN0YXR1cykgdXNlclN0YXR1cy5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgIGlmIChsb2dpbkxpbmspIGxvZ2luTGluay5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuICAgIGlmIChzaWdudXBMaW5rKSBzaWdudXBMaW5rLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gICAgaWYgKGxvZ291dEJ0bikgbG9nb3V0QnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgaWYgKHN5bnRoZXNpc0J0bikgc3ludGhlc2lzQnRuLmRpc2FibGVkID0gdHJ1ZTsgLy8gQWx3YXlzIGRpc2FibGUgZG93bmxvYWQgaWYgbG9nZ2VkIG91dFxuICB9XG59XG5cbnN1cGFiYXNlLmF1dGgub25BdXRoU3RhdGVDaGFuZ2UoKGV2ZW50LCBzZXNzaW9uKSA9PiB7XG4gIGNvbnN0IHVzZXIgPSBzZXNzaW9uPy51c2VyIHx8IG51bGw7XG5cbiAgYXV0aE1vZHVsZS5zZXRDdXJyZW50VXNlcih1c2VyKTtcblxuICB1cGRhdGVVSUZvckF1dGhTdGF0ZSh1c2VyKTtcblxuICBpZiAoZXZlbnQgPT09IFwiU0lHTkVEX09VVFwiKSB7XG4gICAgY29uc29sZS5sb2coXCJFdmVudCBTSUdORURfT1VUIHJlY2VpdmVkLiBSZWRpcmVjdGluZy5cIik7XG4gICAgLy8gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJjdXJyZW50VXNlclwiKTsgLy8gVGhpcyBpcyBoYW5kbGVkIGJ5IGF1dGhNb2R1bGUuc2V0Q3VycmVudFVzZXIobnVsbClcbiAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL1wiO1xuICB9IGVsc2UgaWYgKGV2ZW50ID09PSBcIlNJR05FRF9JTlwiKSB7XG4gICAgY29uc29sZS5sb2coXCJFdmVudCBTSUdORURfSU4gcmVjZWl2ZWQuIFVzZXIgZGF0YTpcIiwgdXNlci5lbWFpbCk7XG4gICAgLy8gVXNlciBpcyBzaWduZWQgaW4uIHNlc3Npb24udXNlciBoYXMgZGV0YWlscy5cbiAgICAvLyBMb2dpbi5qcyBoYW5kbGVzIHJlZGlyZWN0IGFmdGVyIGxvZ2luLCBzbyBubyBzcGVjaWZpYyBhY3Rpb24gaGVyZSB1bmxlc3MgbmVlZGVkLlxuICB9IGVsc2UgaWYgKGV2ZW50ID09PSBcIklOSVRJQUxfU0VTU0lPTlwiKSB7XG4gICAgY29uc29sZS5sb2coXCJFdmVudCBJTklUSUFMX1NFU1NJT04gcmVjZWl2ZWQuIFVzZXIgZGF0YTpcIiwgdXNlci5lbWFpbCk7XG4gIH0gZWxzZSBpZiAoZXZlbnQgPT09IFwiVE9LRU5fUkVGUkVTSEVEXCIpIHtcbiAgICBjb25zb2xlLmxvZyhcIkV2ZW50IFRPS0VOX1JFRlJFU0hFRCByZWNlaXZlZC4gVXNlciBkYXRhOlwiLCB1c2VyLmVtYWlsKTtcbiAgfVxufSk7XG5cbi8vIExvZ291dCBmdW5jdGlvbmFsaXR5XG5sb2dvdXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcbiAgc2hvd1N0YXR1cyhcIkTDqWNvbm5leGlvbi4uLlwiLCBcImluZm9cIik7XG4gIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnbk91dCgpO1xuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9nZ2luZyBvdXQgd2l0aCBTdXBhYmFzZTpcIiwgZXJyb3IubWVzc2FnZSk7XG4gICAgc2hvd1N0YXR1cyhgRXJyZXVyIGxvcnMgZGUgbGEgZMOpY29ubmV4aW9uOiAke2Vycm9yLm1lc3NhZ2V9YCwgXCJkYW5nZXJcIik7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5sb2coXG4gICAgICBcIlN1cGFiYXNlIHNpZ25PdXQgc3VjY2Vzc2Z1bC4gb25BdXRoU3RhdGVDaGFuZ2Ugd2lsbCBoYW5kbGUgVUkgYW5kIHJlZGlyZWN0LlwiXG4gICAgKTtcbiAgfVxufSk7XG5cbi8vIC0tLSBEb2N1bWVudCBEb3dubG9hZCBMb2dpYyAtLS1cbmZ1bmN0aW9uIGRvd25sb2FkRG9jdW1lbnQoKSB7XG4gIGlmICghY3VycmVudFVzZXIpIHtcbiAgICBzaG93U3RhdHVzKFwiQXV0aGVudGlmaWNhdGlvbiByZXF1aXNlIHBvdXIgdMOpbMOpY2hhcmdlci5cIiwgXCJ3YXJuaW5nXCIpO1xuICAgIHN5bnRoZXNpc0J0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgcmV0dXJuOyAvLyBFeGl0IGlmIG5vdCBhdXRoZW50aWNhdGVkXG4gIH1cblxuICBjb25zdCBzZWxlY3RlZERvY3VtZW50ID0gZ2V0U2VsZWN0ZWREb2N1bWVudCgpOyAvLyBHZXQgZnJvbSBhcGkuanNcbiAgaWYgKHNlbGVjdGVkRG9jdW1lbnQgJiYgc2VsZWN0ZWREb2N1bWVudC5pZCkge1xuICAgIHNob3dTdGF0dXMoXCJPdXZlcnR1cmUgZHUgZG9jdW1lbnQuLi5cIiwgXCJpbmZvXCIpO1xuICAgIHdpbmRvdy5vcGVuKGAvcGx1LXN1bW1hcnk/aWQ9JHtzZWxlY3RlZERvY3VtZW50LmlkfWAsIFwiX2JsYW5rXCIpO1xuICAgIC8vIFJlLWRpc3BsYXkgc3VjY2VzcyBtZXNzYWdlIGFmdGVyIGEgZGVsYXlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIENoZWNrIGlmIGJ1dHRvbiBpcyBzdGlsbCBlbmFibGVkIChpLmUuLCBkb2N1bWVudCBpcyBzdGlsbCBjb25zaWRlcmVkIHZhbGlkKVxuICAgICAgaWYgKCFzeW50aGVzaXNCdG4uZGlzYWJsZWQpIHtcbiAgICAgICAgc2hvd1N0YXR1cyhcbiAgICAgICAgICBgRG9jdW1lbnQgdHJvdXbDqSAoU291cmNlOiAke1xuICAgICAgICAgICAgZm9ybWF0QXBpTmFtZShzZWxlY3RlZERvY3VtZW50LnNvdXJjZV9wbHVfZGF0ZSkgfHwgXCJOb24gc3DDqWNpZmnDqWVcIlxuICAgICAgICAgIH0pLiBQcsOqdCDDoCBjb25zdWx0ZXIuYCxcbiAgICAgICAgICBcInN1Y2Nlc3NcIlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sIDE1MDApO1xuICB9IGVsc2Uge1xuICAgIHNob3dTdGF0dXMoXCJMaWVuIGR1IGRvY3VtZW50IG5vbiBkaXNwb25pYmxlLlwiLCBcIndhcm5pbmdcIik7XG4gICAgc3ludGhlc2lzQnRuLmRpc2FibGVkID0gdHJ1ZTsgLy8gRW5zdXJlIGJ1dHRvbiBpcyBkaXNhYmxlZCBpZiBubyBVUkxcbiAgfVxufVxuXG4vLyA9PT0gRXZlbnQgbGlzdGVuZXJzID09PVxudmlsbGVTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZXZlbnQpID0+IHtcbiAgY29uc3QgdmlsbGVJZCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgbG9hZFpvbmFnZXModmlsbGVJZCk7IC8vIENhbGwgQVBJIGZ1bmN0aW9uXG59KTtcblxuem9uYWdlU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGV2ZW50KSA9PiB7XG4gIGNvbnN0IHpvbmFnZUlkID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICBsb2FkWm9uZXMoem9uYWdlSWQpOyAvLyBDYWxsIEFQSSBmdW5jdGlvblxufSk7XG5cbnpvbmVTZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZXZlbnQpID0+IHtcbiAgY29uc3Qgem9uZUlkID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICBjb25zdCB6b25hZ2VJZCA9IHpvbmFnZVNlbGVjdC52YWx1ZTsgLy8gR2V0IGN1cnJlbnQgem9uYWdlIHNlbGVjdGlvblxuICAvLyBUT0RPIDogdHlwb2xvZ2llU2VsZWN0IGxvZ2ljXG4gIGlmICh6b25lSWQgJiYgem9uYWdlSWQpIHtcbiAgICBmaW5kRG9jdW1lbnQoem9uYWdlSWQsIHpvbmVJZCwgXCJkNmNkMjMzNy01ODAzLTQ4MDItYTIwOC0xY2ZhNGVlYmE5MDVcIik7IC8vIENhbGwgQVBJIGZ1bmN0aW9uXG4gIH0gZWxzZSB7XG4gICAgc2hvd1N0YXR1cyhcIlZldWlsbGV6IGQnYWJvcmQgc8OpbGVjdGlvbm5lciB1biB6b25hZ2UuXCIsIFwid2FybmluZ1wiKTtcbiAgfVxuICAvLyBpZiAoem9uYWdlSWQpIHtcbiAgLy8gICBsb2FkVHlwb2xvZ2llcyh6b25lSWQsIHpvbmFnZUlkKTsgLy8gQ2FsbCBBUEkgZnVuY3Rpb25cbiAgLy8gfSBlbHNlIHtcbiAgLy8gICBzaG93U3RhdHVzKFwiVmV1aWxsZXogZCdhYm9yZCBzw6lsZWN0aW9ubmVyIHVuIHpvbmFnZS5cIiwgXCJ3YXJuaW5nXCIpO1xuICAvLyB9XG59KTtcblxuLy8gdHlwb2xvZ2llU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGV2ZW50KSA9PiB7XG4vLyAgIGNvbnN0IHR5cG9sb2dpZUlkID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuLy8gICBjb25zdCB6b25lSWQgPSB6b25lU2VsZWN0LnZhbHVlO1xuLy8gICBjb25zdCB6b25hZ2VJZCA9IHpvbmFnZVNlbGVjdC52YWx1ZTtcbi8vICAgaWYgKHpvbmVJZCAmJiB6b25hZ2VJZCkge1xuLy8gICAgIGZpbmREb2N1bWVudCh6b25hZ2VJZCwgem9uZUlkLCB0eXBvbG9naWVJZCk7IC8vIENhbGwgQVBJIGZ1bmN0aW9uXG4vLyAgIH0gZWxzZSB7XG4vLyAgICAgc2hvd1N0YXR1cyhcbi8vICAgICAgIFwiVmV1aWxsZXogZCdhYm9yZCBzw6lsZWN0aW9ubmVyIHVuIHpvbmFnZSBldCB1bmUgem9uZS5cIixcbi8vICAgICAgIFwid2FybmluZ1wiXG4vLyAgICAgKTtcbi8vICAgfVxuLy8gfSk7XG5cbnN5bnRoZXNpc0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZG93bmxvYWREb2N1bWVudCk7XG5cbi8vID09PSBJbml0aWFsaXNhdGlvbiA9PT1cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGFzeW5jICgpID0+IHtcbiAgLy8gSW5pdGlhbGl6ZSBVSSBzdGF0ZVxuICByZXNldFNlbGVjdCh2aWxsZVNlbGVjdCwgXCJDaGFyZ2VtZW50Li4uXCIpO1xuICByZXNldFNlbGVjdCh6b25hZ2VTZWxlY3QsIFwiU8OpbGVjdGlvbm5leiBkJ2Fib3JkIHVuZSB2aWxsZVwiKTtcbiAgcmVzZXRTZWxlY3Qoem9uZVNlbGVjdCwgXCJTw6lsZWN0aW9ubmV6IGQnYWJvcmQgdW4gem9uYWdlXCIpO1xuICAvLyByZXNldFNlbGVjdCh0eXBvbG9naWVTZWxlY3QsIFwiU8OpbGVjdGlvbm5leiBkJ2Fib3JkIHVuZSB6b25lXCIpO1xuICBpZiAoc3ludGhlc2lzQnRuKSBzeW50aGVzaXNCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICAvLyBzaG93U3RhdHVzKFwiSW5pdGlhbGlzYXRpb24uLi5cIiwgXCJpbmZvXCIpOyAvLyBUaGlzIG1pZ2h0IGJlIHByZW1hdHVyZSBvciBvdmVycmlkZGVuXG5cbiAgLy8gVGhlIG9uQXV0aFN0YXRlQ2hhbmdlIGxpc3RlbmVyIGlzIHNldCB1cCBhYm92ZSBhbmQgd2lsbCBjYWxsIHVwZGF0ZVVJRm9yQXV0aFN0YXRlLlxuICAvLyBJdCBoYW5kbGVzIElOSVRJQUxfU0VTU0lPTiwgd2hpY2ggc2hvdWxkIGNvdmVyIHRoZSB1c2VyJ3Mgc3RhdGUgb24gcGFnZSBsb2FkLlxuICAvLyBFeHBsaWNpdGx5IGNhbGxpbmcgZ2V0Q3VycmVudFVzZXIgYW5kIHVwZGF0ZVVJRm9yQXV0aFN0YXRlIGhlcmUgbWlnaHQgYmUgcmVkdW5kYW50XG4gIC8vIG9yIGNvdWxkIGNhdXNlIGEgZmxpY2tlciBpZiBvbkF1dGhTdGF0ZUNoYW5nZSBoYXNuJ3QgZmlyZWQgeWV0IHdpdGggdGhlIHRydWUgc3RhdGUuXG4gIC8vIEhvd2V2ZXIsIGl0IGNhbiBiZSBhIGZhbGxiYWNrLiBMZXQncyBlbnN1cmUgaXQgb25seSB1cGRhdGVzIGlmIGVsZW1lbnRzIGV4aXN0LlxuXG4gIGNvbnN0IGluaXRpYWxseVN0b3JlZFVzZXIgPSBhdXRoTW9kdWxlLmdldEN1cnJlbnRVc2VyKCk7XG4gIHVwZGF0ZVVJRm9yQXV0aFN0YXRlKGluaXRpYWxseVN0b3JlZFVzZXIpOyAvLyBUaGlzIHdpbGwgc2V0IHRoZSBpbml0aWFsIFVJIGJhc2VkIG9uIGxvY2FsU3RvcmFnZVxuXG4gIC8vIExvYWQgaW5pdGlhbCBkYXRhIGlmIG9uIHRoZSBtYWluIHBhZ2VcbiAgaWYgKHZpbGxlU2VsZWN0ICYmIHpvbmFnZVNlbGVjdCAmJiB6b25lU2VsZWN0KSB7XG4gICAgc2hvd1N0YXR1cyhcIkluaXRpYWxpc2F0aW9uLi4uXCIsIFwiaW5mb1wiKTsgLy8gU2hvdyB0aGlzIG9ubHkgd2hlbiByZWxldmFudCBzZWxlY3RvcnMgYXJlIHByZXNlbnRcbiAgICByZXNldFNlbGVjdCh2aWxsZVNlbGVjdCwgXCJDaGFyZ2VtZW50Li4uXCIpO1xuICAgIHJlc2V0U2VsZWN0KHpvbmFnZVNlbGVjdCwgXCJTw6lsZWN0aW9ubmV6IGQnYWJvcmQgdW5lIHZpbGxlXCIpO1xuICAgIHJlc2V0U2VsZWN0KHpvbmVTZWxlY3QsIFwiU8OpbGVjdGlvbm5leiBkJ2Fib3JkIHVuIHpvbmFnZVwiKTtcbiAgICAvLyByZXNldFNlbGVjdCh0eXBvbG9naWVTZWxlY3QsIFwiU8OpbGVjdGlvbm5leiBkJ2Fib3JkIHVuZSB6b25lXCIpO1xuICAgIGF3YWl0IGxvYWRWaWxsZXMoKTsgLy8gU3RhcnQgbG9hZGluZyBjaXRpZXNcbiAgfSBlbHNlIHtcbiAgICAvLyBJZiBub3Qgb24gdGhlIG1haW4gcGFnZSB3aXRoIHNlbGVjdG9ycywgZW5zdXJlIGEgcmVsZXZhbnQgc3RhdHVzIG9yIGNsZWFyIGl0XG4gICAgLy8gRm9yIGV4YW1wbGUsIG9uIGxvZ2luL3NpZ251cCBwYWdlcywgc3RhdHVzTWVzc2FnZSBtaWdodCBiZSB1c2VkIGZvciBvdGhlciB0aGluZ3MuXG4gICAgLy8gSWYgc3RhdHVzTWVzc2FnZSBleGlzdHMgYW5kIGlzbid0IG1lYW50IGZvciBhdXRoIHN0YXRlIGhlcmUsIGNsZWFyIGl0IG9yIHNldCBhcHByb3ByaWF0ZWx5LlxuICAgIC8vIFRoaXMgZGVwZW5kcyBvbiB3aGV0aGVyIHN0YXR1c01lc3NhZ2UgaXMgYSBzaGFyZWQgZWxlbWVudCBvciBwYWdlLXNwZWNpZmljLlxuICAgIC8vIEZvciBub3csIHdlIGFzc3VtZSB1cGRhdGVVSUZvckF1dGhTdGF0ZSBoYW5kbGVzIGl0cyBwYXJ0IG9mIHN0YXR1cyBtZXNzYWdlcyByZWxhdGVkIHRvIGxvZ2luIHByb21wdC5cbiAgfVxufSk7XG5cbi8vIEV4cG9ydCBjdXJyZW50VXNlciBmb3IgdXNlIGluIGFwaS5qc1xuZXhwb3J0IHsgY3VycmVudFVzZXIgfTtcbiIsIi8vIGpzL21hcHBpbmdzLmpzXG4vKipcbiAqIEZpcmViYXNlIE1hcHBpbmdzXG4gKiBAbW9kdWxlIG1hcHBpbmdzXG4gKiBAZGVzY3JpcHRpb24gVGhpcyBtb2R1bGUgY29udGFpbnMgbWFwcGluZ3MgZm9yIHpvbmUgbmFtZXMgdXNlZCBpbiB0aGUgYXBwbGljYXRpb24uXG4gKiBAdmVyc2lvbiAwLjAuMVxuICogQGF1dGhvciBHcmV5UGFuZGFcbiAqIEB0b2RvIEFkZCBtb3JlIG1hcHBpbmdzIGFzIG5lZWRlZC5cbiAqXG4gKiBAY2hhbmdlbG9nXG4gKiAtIDAuMC4xICgyMDI1LTA0LTIxKTogTWFwcGluZ3MgZm9yIEdyZW5vYmxlLlxuICovXG5cbi8vIEtleXM6IG5hbWUgaW4gdGhlIGRhdGFiYXNlIChsb3dlcmNhc2UsIHVuZGVyc2NvcmUpXG4vLyBWYWx1ZXM6IGRpc3BsYXllZCBuYW1lZCBvbiB3ZWIgYXBwIChzcGVjaWZpYyBmb3JtYXQpXG5leHBvcnQgY29uc3Qgem9uZU5hbWVNYXBwaW5ncyA9IHtcbiAgem9uZV9hdTogXCJab25lIEFVXCIsXG4gIHpvbmVfYXVjMTogXCJab25lIEFVQzFcIixcbiAgem9uZV9hdWMyOiBcIlpvbmUgQVVDMlwiLFxuICB6b25lX2F1YzM6IFwiWm9uZSBBVUMzXCIsXG4gIHpvbmVfYXVjcnUxMDogXCJab25lIEFVQ1JVMTBcIixcbiAgem9uZV9hdWQxOiBcIlpvbmUgQVVEMVwiLFxuICB6b25lX2F1ZDI6IFwiWm9uZSBBVUQyXCIsXG4gIHpvbmVfYXVkMzogXCJab25lIEFVRDNcIixcbiAgem9uZV9hdWQ0OiBcIlpvbmUgQVVENFwiLFxuICB6b25lX2F1ZTE6IFwiWm9uZSBBVUUxXCIsXG4gIHpvbmVfYXVwMXI6IFwiWm9uZSBBVVAxclwiLFxuICB6b25lX2E6IFwiWm9uZSBBXCIsXG4gIHpvbmVfYWw6IFwiWm9uZSBBTFwiLFxuICB6b25lX246IFwiWm9uZSBOXCIsXG4gIHpvbmVfbmw6IFwiWm9uZSBOTFwiLFxuICB6b25lX3VlMTogXCJab25lIFVFMVwiLFxuICB6b25lX3VlMjogXCJab25lIFVFMlwiLFxuICB6b25lX3VlMzogXCJab25lIFVFM1wiLFxuICB6b25lX3VlNDogXCJab25lIFVFNFwiLFxuICB6b25lX3V2OiBcIlpvbmUgVVZcIixcbiAgem9uZV91ejE6IFwiWm9uZSBVWjFcIixcbiAgem9uZV91ejI6IFwiWm9uZSBVWjJcIixcbiAgem9uZV91ejM6IFwiWm9uZSBVWjNcIixcbiAgem9uZV91ejQ6IFwiWm9uZSBVWjRcIixcbiAgem9uZV91YTE6IFwiWm9uZSBVQTFcIixcbiAgem9uZV91YTI6IFwiWm9uZSBVQTJcIixcbiAgem9uZV91YTM6IFwiWm9uZSBVQTNcIixcbiAgem9uZV91YjogXCJab25lIFVCXCIsXG4gIHpvbmVfdWMxOiBcIlpvbmUgVUMxXCIsXG4gIHpvbmVfdWMyOiBcIlpvbmUgVUMyXCIsXG4gIHpvbmVfdWMzOiBcIlpvbmUgVUMzXCIsXG4gIHpvbmVfdWNydTE6IFwiWm9uZSBVQ1JVMVwiLFxuICB6b25lX3VjcnUyOiBcIlpvbmUgVUNSVTJcIixcbiAgem9uZV91Y3J1MzogXCJab25lIFVDUlUzXCIsXG4gIHpvbmVfdWNydTQ6IFwiWm9uZSBVQ1JVNFwiLFxuICB6b25lX3VjcnU1OiBcIlpvbmUgVUNSVTVcIixcbiAgem9uZV91Y3J1NjogXCJab25lIFVDUlU2XCIsXG4gIHpvbmVfdWNydTc6IFwiWm9uZSBVQ1JVN1wiLFxuICB6b25lX3VjcnU4OiBcIlpvbmUgVUNSVThcIixcbiAgem9uZV91Y3J1OTogXCJab25lIFVDUlU5XCIsXG4gIHpvbmVfdWNydTExOiBcIlpvbmUgVUNSVTExXCIsXG4gIHpvbmVfdWQxOiBcIlpvbmUgVUQxXCIsXG4gIHpvbmVfdWQyOiBcIlpvbmUgVUQyXCIsXG4gIHpvbmVfdWQzOiBcIlpvbmUgVUQzXCIsXG4gIHpvbmVfdWQ0OiBcIlpvbmUgVUQ0XCIsXG59O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmYgPSB7fTtcbi8vIFRoaXMgZmlsZSBjb250YWlucyBvbmx5IHRoZSBlbnRyeSBjaHVuay5cbi8vIFRoZSBjaHVuayBsb2FkaW5nIGZ1bmN0aW9uIGZvciBhZGRpdGlvbmFsIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5lID0gKGNodW5rSWQpID0+IHtcblx0cmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uZikucmVkdWNlKChwcm9taXNlcywga2V5KSA9PiB7XG5cdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5mW2tleV0oY2h1bmtJZCwgcHJvbWlzZXMpO1xuXHRcdHJldHVybiBwcm9taXNlcztcblx0fSwgW10pKTtcbn07IiwiLy8gVGhpcyBmdW5jdGlvbiBhbGxvdyB0byByZWZlcmVuY2UgYXN5bmMgY2h1bmtzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnUgPSAoY2h1bmtJZCkgPT4ge1xuXHQvLyByZXR1cm4gdXJsIGZvciBmaWxlbmFtZXMgYmFzZWQgb24gdGVtcGxhdGVcblx0cmV0dXJuIFwianMvXCIgKyBjaHVua0lkICsgXCIuYnVuZGxlLmpzXCI7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdCAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PT0gJ1NDUklQVCcpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICghc2NyaXB0VXJsIHx8ICEvXmh0dHAocz8pOi8udGVzdChzY3JpcHRVcmwpKSkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvXmJsb2I6LywgXCJcIikucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsICsgXCIuLi9cIjsiLCIvLyBubyBiYXNlVVJJXG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0NTQ6IDAsXG5cdDUyNDogMFxufTtcblxuX193ZWJwYWNrX3JlcXVpcmVfXy5mLmogPSAoY2h1bmtJZCwgcHJvbWlzZXMpID0+IHtcblx0XHQvLyBKU09OUCBjaHVuayBsb2FkaW5nIGZvciBqYXZhc2NyaXB0XG5cdFx0dmFyIGluc3RhbGxlZENodW5rRGF0YSA9IF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpID8gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdIDogdW5kZWZpbmVkO1xuXHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSAhPT0gMCkgeyAvLyAwIG1lYW5zIFwiYWxyZWFkeSBpbnN0YWxsZWRcIi5cblxuXHRcdFx0Ly8gYSBQcm9taXNlIG1lYW5zIFwiY3VycmVudGx5IGxvYWRpbmdcIi5cblx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuXHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZih0cnVlKSB7IC8vIGFsbCBjaHVua3MgaGF2ZSBKU1xuXHRcdFx0XHRcdC8vIHNldHVwIFByb21pc2UgaW4gY2h1bmsgY2FjaGVcblx0XHRcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IChpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSBbcmVzb2x2ZSwgcmVqZWN0XSkpO1xuXHRcdFx0XHRcdHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ2h1bmtEYXRhWzJdID0gcHJvbWlzZSk7XG5cblx0XHRcdFx0XHQvLyBzdGFydCBjaHVuayBsb2FkaW5nXG5cdFx0XHRcdFx0dmFyIHVybCA9IF9fd2VicGFja19yZXF1aXJlX18ucCArIF9fd2VicGFja19yZXF1aXJlX18udShjaHVua0lkKTtcblx0XHRcdFx0XHQvLyBjcmVhdGUgZXJyb3IgYmVmb3JlIHN0YWNrIHVud291bmQgdG8gZ2V0IHVzZWZ1bCBzdGFja3RyYWNlIGxhdGVyXG5cdFx0XHRcdFx0dmFyIGVycm9yID0gbmV3IEVycm9yKCk7XG5cdFx0XHRcdFx0dmFyIGxvYWRpbmdFbmRlZCA9IChldmVudCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGluc3RhbGxlZENodW5rcywgY2h1bmtJZCkpIHtcblx0XHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuXHRcdFx0XHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEgIT09IDApIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IHVuZGVmaW5lZDtcblx0XHRcdFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGVycm9yVHlwZSA9IGV2ZW50ICYmIChldmVudC50eXBlID09PSAnbG9hZCcgPyAnbWlzc2luZycgOiBldmVudC50eXBlKTtcblx0XHRcdFx0XHRcdFx0XHR2YXIgcmVhbFNyYyA9IGV2ZW50ICYmIGV2ZW50LnRhcmdldCAmJiBldmVudC50YXJnZXQuc3JjO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLm1lc3NhZ2UgPSAnTG9hZGluZyBjaHVuayAnICsgY2h1bmtJZCArICcgZmFpbGVkLlxcbignICsgZXJyb3JUeXBlICsgJzogJyArIHJlYWxTcmMgKyAnKSc7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IubmFtZSA9ICdDaHVua0xvYWRFcnJvcic7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IudHlwZSA9IGVycm9yVHlwZTtcblx0XHRcdFx0XHRcdFx0XHRlcnJvci5yZXF1ZXN0ID0gcmVhbFNyYztcblx0XHRcdFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua0RhdGFbMV0oZXJyb3IpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmwodXJsLCBsb2FkaW5nRW5kZWQsIFwiY2h1bmstXCIgKyBjaHVua0lkLCBjaHVua0lkKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cbn07XG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbl9fd2VicGFja19yZXF1aXJlX18uTy5qID0gKGNodW5rSWQpID0+IChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPT09IDApO1xuXG4vLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbnZhciB3ZWJwYWNrSnNvbnBDYWxsYmFjayA9IChwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiwgZGF0YSkgPT4ge1xuXHR2YXIgW2NodW5rSWRzLCBtb3JlTW9kdWxlcywgcnVudGltZV0gPSBkYXRhO1xuXHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcblx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG5cdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDA7XG5cdGlmKGNodW5rSWRzLnNvbWUoKGlkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2lkXSAhPT0gMCkpKSB7XG5cdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG5cdFx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8obW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuXHRcdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZihydW50aW1lKSB2YXIgcmVzdWx0ID0gcnVudGltZShfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0fVxuXHRpZihwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbikgcGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24oZGF0YSk7XG5cdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpICYmIGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKCk7XG5cdFx0fVxuXHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG5cdH1cblx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uTyhyZXN1bHQpO1xufVxuXG52YXIgY2h1bmtMb2FkaW5nR2xvYmFsID0gc2VsZltcIndlYnBhY2tDaHVua3VyYmFuZG9jc193ZWJhcHBcIl0gPSBzZWxmW1wid2VicGFja0NodW5rdXJiYW5kb2NzX3dlYmFwcFwiXSB8fCBbXTtcbmNodW5rTG9hZGluZ0dsb2JhbC5mb3JFYWNoKHdlYnBhY2tKc29ucENhbGxiYWNrLmJpbmQobnVsbCwgMCkpO1xuY2h1bmtMb2FkaW5nR2xvYmFsLnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIGNodW5rTG9hZGluZ0dsb2JhbC5wdXNoLmJpbmQoY2h1bmtMb2FkaW5nR2xvYmFsKSk7IiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBkZXBlbmRzIG9uIG90aGVyIGxvYWRlZCBjaHVua3MgYW5kIGV4ZWN1dGlvbiBuZWVkIHRvIGJlIGRlbGF5ZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHVuZGVmaW5lZCwgWzMwM10sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDIwNCkpKVxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiJdLCJuYW1lcyI6WyJkZWZlcnJlZCIsImxlYWZQcm90b3R5cGVzIiwiZ2V0UHJvdG8iLCJpblByb2dyZXNzIiwiZGF0YVdlYnBhY2tQcmVmaXgiLCJzdXBhYmFzZSIsInZpbGxlU2VsZWN0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInpvbmFnZVNlbGVjdCIsInpvbmVTZWxlY3QiLCJzeW50aGVzaXNCdG4iLCJzdGF0dXNNZXNzYWdlIiwidmlsbGVTcGlubmVyIiwiem9uYWdlU3Bpbm5lciIsInpvbmVTcGlubmVyIiwiZG9jdW1lbnRTcGlubmVyIiwidXNlclN0YXR1cyIsImxvZ291dEJ0biIsImxvZ2luTGluayIsInNpZ251cExpbmsiLCJzaG93U3RhdHVzIiwibWVzc2FnZSIsInR5cGUiLCJ0ZXh0Q29udGVudCIsImNsYXNzTmFtZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImNvbnNvbGUiLCJ3YXJuIiwidG9nZ2xlU3Bpbm5lciIsInNwaW5uZXJFbGVtZW50Iiwic2hvdyIsInRvZ2dsZSIsInJlc2V0U2VsZWN0Iiwic2VsZWN0RWxlbWVudCIsImRlZmF1bHRUZXh0IiwiaW5uZXJIVE1MIiwiZGlzYWJsZWQiLCJmb3JtYXRBcGlOYW1lIiwibmFtZSIsInJlcGxhY2UiLCJjaGFyIiwidG9VcHBlckNhc2UiLCJwb3B1bGF0ZVNlbGVjdCIsImRhdGEiLCJkZWZhdWx0T3B0aW9uVGV4dCIsImVtcHR5RGF0YVRleHQiLCJkYXRhVHlwZSIsImxlbmd0aCIsImZvckVhY2giLCJpdGVtIiwib3B0aW9uIiwiY3JlYXRlRWxlbWVudCIsInZhbHVlIiwiaWQiLCJkaXNwbGF5VGV4dCIsImhhc093blByb3BlcnR5Iiwibm9tIiwiYXBwZW5kQ2hpbGQiLCJzZWxlY3RlZERvY3VtZW50IiwiZ2V0U2VsZWN0ZWREb2N1bWVudCIsImN1cnJlbnRVc2VyIiwic2Vzc2lvblZhbGlkYXRlZCIsInNldEN1cnJlbnRVc2VyIiwidXNlciIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJKU09OIiwic3RyaW5naWZ5IiwicmVtb3ZlSXRlbSIsImFzeW5jIiwiZ2V0Q3VycmVudFVzZXIiLCJ2YWxpZGF0ZSIsInNlc3Npb24iLCJlcnJvciIsInNlc3Npb25FcnJvciIsImF1dGgiLCJnZXRTZXNzaW9uIiwibG9nIiwicmVmcmVzaEVycm9yIiwicmVmcmVzaFNlc3Npb24iLCJzaWduT3V0IiwiZSIsInZhbGlkYXRlU2Vzc2lvbiIsInN0b3JlZFVzZXIiLCJnZXRJdGVtIiwicGFyc2UiLCJ1cGRhdGVVSUZvckF1dGhTdGF0ZSIsImFkZCIsInNvdXJjZV9wbHVfZGF0ZSIsIm9uQXV0aFN0YXRlQ2hhbmdlIiwiZXZlbnQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJlbWFpbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ2aWxsZUlkIiwiZnJvbSIsInNlbGVjdCIsImVxIiwib3JkZXIiLCJtYXAiLCJ6b25pbmciLCJsb2FkWm9uYWdlcyIsInRhcmdldCIsInpvbmFnZUlkIiwiem9uZSIsImxvYWRab25lcyIsInpvbmVJZCIsInNpbmdsZSIsImNvZGUiLCJmaW5kRG9jdW1lbnQiLCJvcGVuIiwic2V0VGltZW91dCIsImNpdHkiLCJsb2FkVmlsbGVzIiwiem9uZU5hbWVNYXBwaW5ncyIsInpvbmVfYXUiLCJ6b25lX2F1YzEiLCJ6b25lX2F1YzIiLCJ6b25lX2F1YzMiLCJ6b25lX2F1Y3J1MTAiLCJ6b25lX2F1ZDEiLCJ6b25lX2F1ZDIiLCJ6b25lX2F1ZDMiLCJ6b25lX2F1ZDQiLCJ6b25lX2F1ZTEiLCJ6b25lX2F1cDFyIiwiem9uZV9hIiwiem9uZV9hbCIsInpvbmVfbiIsInpvbmVfbmwiLCJ6b25lX3VlMSIsInpvbmVfdWUyIiwiem9uZV91ZTMiLCJ6b25lX3VlNCIsInpvbmVfdXYiLCJ6b25lX3V6MSIsInpvbmVfdXoyIiwiem9uZV91ejMiLCJ6b25lX3V6NCIsInpvbmVfdWExIiwiem9uZV91YTIiLCJ6b25lX3VhMyIsInpvbmVfdWIiLCJ6b25lX3VjMSIsInpvbmVfdWMyIiwiem9uZV91YzMiLCJ6b25lX3VjcnUxIiwiem9uZV91Y3J1MiIsInpvbmVfdWNydTMiLCJ6b25lX3VjcnU0Iiwiem9uZV91Y3J1NSIsInpvbmVfdWNydTYiLCJ6b25lX3VjcnU3Iiwiem9uZV91Y3J1OCIsInpvbmVfdWNydTkiLCJ6b25lX3VjcnUxMSIsInpvbmVfdWQxIiwiem9uZV91ZDIiLCJ6b25lX3VkMyIsInpvbmVfdWQ0IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjYWxsIiwibSIsIk8iLCJyZXN1bHQiLCJjaHVua0lkcyIsImZuIiwicHJpb3JpdHkiLCJub3RGdWxmaWxsZWQiLCJJbmZpbml0eSIsImkiLCJmdWxmaWxsZWQiLCJqIiwiT2JqZWN0Iiwia2V5cyIsImV2ZXJ5Iiwia2V5Iiwic3BsaWNlIiwiciIsImdldFByb3RvdHlwZU9mIiwib2JqIiwidCIsIm1vZGUiLCJ0aGlzIiwiX19lc01vZHVsZSIsInRoZW4iLCJucyIsImNyZWF0ZSIsImRlZiIsImN1cnJlbnQiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImQiLCJkZWZpbml0aW9uIiwibyIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImYiLCJjaHVua0lkIiwiUHJvbWlzZSIsImFsbCIsInJlZHVjZSIsInByb21pc2VzIiwidSIsImciLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJwcm9wIiwicHJvdG90eXBlIiwibCIsInVybCIsImRvbmUiLCJwdXNoIiwic2NyaXB0IiwibmVlZEF0dGFjaCIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInMiLCJnZXRBdHRyaWJ1dGUiLCJjaGFyc2V0IiwidGltZW91dCIsIm5jIiwic2V0QXR0cmlidXRlIiwic3JjIiwib25TY3JpcHRDb21wbGV0ZSIsInByZXYiLCJvbmVycm9yIiwib25sb2FkIiwiY2xlYXJUaW1lb3V0IiwiZG9uZUZucyIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImJpbmQiLCJoZWFkIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwiY3VycmVudFNjcmlwdCIsInRhZ05hbWUiLCJ0ZXN0IiwiRXJyb3IiLCJwIiwiaW5zdGFsbGVkQ2h1bmtzIiwiaW5zdGFsbGVkQ2h1bmtEYXRhIiwicHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJlcnJvclR5cGUiLCJyZWFsU3JjIiwicmVxdWVzdCIsIndlYnBhY2tKc29ucENhbGxiYWNrIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJtb3JlTW9kdWxlcyIsInJ1bnRpbWUiLCJzb21lIiwiY2h1bmtMb2FkaW5nR2xvYmFsIiwic2VsZiIsIl9fd2VicGFja19leHBvcnRzX18iXSwic291cmNlUm9vdCI6IiJ9