/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/api.js":
/*!***********************!*\
  !*** ./src/js/api.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findDocument: () => (/* binding */ findDocument),\n/* harmony export */   getSelectedDocument: () => (/* binding */ getSelectedDocument),\n/* harmony export */   loadTypologies: () => (/* binding */ loadTypologies),\n/* harmony export */   loadVilles: () => (/* binding */ loadVilles),\n/* harmony export */   loadZonages: () => (/* binding */ loadZonages),\n/* harmony export */   loadZones: () => (/* binding */ loadZones)\n/* harmony export */ });\n/* harmony import */ var _ui_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui.js */ \"./src/js/ui.js\");\n// public/js/api.js\n\n// Import UI functions and elements (will be defined in ui.js)\n // Adjust path if needed\n\n// --- API URL Definitions ---\nconst IS_LOCAL =\n  location.hostname === \"localhost\" || location.hostname === \"127.0.0.1\";\n\nconst GET_VILLES_URL = IS_LOCAL\n  ? \"http://127.0.0.1:5001/urbandocs/us-central1/get_villes\"\n  : \"https://get-villes-up3k3hddtq-uc.a.run.app\";\n\nconst GET_ZONAGES_URL = IS_LOCAL\n  ? \"http://127.0.0.1:5001/urbandocs/us-central1/get_zonages\"\n  : \"https://get-zonages-up3k3hddtq-uc.a.run.app\";\n\nconst GET_ZONES_URL = IS_LOCAL\n  ? \"http://127.0.0.1:5001/urbandocs/us-central1/get_zones\"\n  : \"https://get-zones-up3k3hddtq-uc.a.run.app\";\n\nconst GET_TYPOLOGIES_URL = IS_LOCAL\n  ? \"http://127.0.0.1:5001/urbandocs/us-central1/get_typologies\"\n  : \"https://get-typologies-up3k3hddtq-uc.a.run.app\";\n\nconst GET_DOCUMENT_URL = IS_LOCAL\n  ? \"http://127.0.0.1:5001/urbandocs/us-central1/get_document\"\n  : \"https://get-document-up3k3hddtq-uc.a.run.app\";\n// --- End of API URL Definitions ---\n\n// Variable to store the fetched document details\nlet selectedDocument = null;\n\n/**\n * Appelle l'API pour récupérer les villes\n */\nasync function loadVilles() {\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.toggleSpinner)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.villeSpinner, true);\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\"Chargement des villes...\", \"info\");\n  _ui_js__WEBPACK_IMPORTED_MODULE_0__.villeSelect.disabled = true;\n\n  try {\n    const url = GET_VILLES_URL;\n    console.log(\"Fetching Villes from:\", url);\n    const response = await fetch(url);\n\n    if (!response.ok) throw new Error(`Erreur HTTP: ${response.status}`);\n    const data = await response.json();\n\n    const hasData = (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.populateSelect)(\n      _ui_js__WEBPACK_IMPORTED_MODULE_0__.villeSelect,\n      data,\n      \"Sélectionnez une ville\",\n      \"Aucune ville disponible\",\n      \"ville\" // Pass dataType for formatting logic in populateSelect\n    );\n\n    if (hasData) {\n      (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\n        `${data.length} villes chargées. Veuillez en sélectionner une.`,\n        \"success\"\n      );\n    } else {\n      (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\"Aucune ville n'a été trouvée.\", \"warning\");\n    }\n  } catch (error) {\n    console.error(\"Erreur lors du chargement des villes:\", error);\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(`Erreur chargement villes: ${error.message}`, \"danger\");\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.resetSelect)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.villeSelect, \"Erreur chargement\");\n  } finally {\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.toggleSpinner)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.villeSpinner, false);\n  }\n}\n\n/**\n * Appelle l'API pour récupérer les zonages pour une ville\n */\nasync function loadZonages(villeId) {\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.resetSelect)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.zonageSelect, \"Sélectionnez d'abord une ville\");\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.resetSelect)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.zoneSelect, \"Sélectionnez d'abord un zonage\");\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.resetSelect)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.typologieSelect, \"Sélectionnez d'abord une zone\");\n  _ui_js__WEBPACK_IMPORTED_MODULE_0__.downloadBtn.disabled = true;\n  selectedDocument = null;\n\n  if (!villeId) {\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\"Veuillez sélectionner une ville.\", \"info\");\n    return;\n  }\n\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.toggleSpinner)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.zonageSpinner, true);\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\"Chargement des zonages...\", \"info\");\n  _ui_js__WEBPACK_IMPORTED_MODULE_0__.zonageSelect.disabled = true;\n\n  try {\n    const url = `${GET_ZONAGES_URL}?villeId=${villeId}`;\n    console.log(\"Fetching Zonages from:\", url);\n    const response = await fetch(url);\n\n    if (!response.ok) throw new Error(`Erreur HTTP: ${response.status}`);\n    const data = await response.json();\n\n    const hasData = (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.populateSelect)(\n      _ui_js__WEBPACK_IMPORTED_MODULE_0__.zonageSelect,\n      data,\n      \"Sélectionnez un zonage\",\n      \"Aucun zonage disponible\",\n      \"zonage\"\n    );\n\n    if (hasData) {\n      (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(`${data.length} zonages chargés pour cette ville.`, \"success\");\n    } else {\n      (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\"Aucun zonage trouvé pour cette ville.\", \"warning\");\n    }\n  } catch (error) {\n    console.error(\"Erreur lors du chargement des zonages:\", error);\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(`Erreur chargement zonages: ${error.message}`, \"danger\");\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.resetSelect)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.zonageSelect, \"Erreur chargement\");\n  } finally {\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.toggleSpinner)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.zonageSpinner, false);\n  }\n}\n\n/**\n * Appelle l'API pour récupérer les zones pour un zonage\n */\nasync function loadZones(zonageId) {\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.resetSelect)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.zoneSelect, \"Sélectionnez d'abord un zonage\");\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.resetSelect)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.typologieSelect, \"Sélectionnez d'abord une zone\");\n  _ui_js__WEBPACK_IMPORTED_MODULE_0__.downloadBtn.disabled = true;\n  selectedDocument = null;\n\n  if (!zonageId) {\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\"Veuillez sélectionner un zonage.\", \"info\");\n    return;\n  }\n\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.toggleSpinner)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.zoneSpinner, true);\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\"Chargement des zones...\", \"info\");\n  _ui_js__WEBPACK_IMPORTED_MODULE_0__.zoneSelect.disabled = true;\n\n  try {\n    const url = `${GET_ZONES_URL}?zonageId=${zonageId}`;\n    console.log(\"Fetching Zones from:\", url);\n    const response = await fetch(url);\n\n    if (!response.ok) throw new Error(`Erreur HTTP: ${response.status}`);\n    const data = await response.json();\n\n    // Pass zoneNameMappings to populateSelect or handle mapping inside populateSelect\n    const hasData = (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.populateSelect)(\n      _ui_js__WEBPACK_IMPORTED_MODULE_0__.zoneSelect,\n      data,\n      \"Sélectionnez une zone\",\n      \"Aucune zone disponible\",\n      \"zone\" // Pass dataType for formatting logic\n    );\n\n    if (hasData) {\n      (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(`${data.length} zones chargées pour ce zonage.`, \"success\");\n    } else {\n      (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\"Aucune zone trouvée pour ce zonage.\", \"warning\");\n    }\n  } catch (error) {\n    console.error(\"Erreur lors du chargement des zones:\", error);\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(`Erreur chargement zones: ${error.message}`, \"danger\");\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.resetSelect)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.zoneSelect, \"Erreur chargement\");\n  } finally {\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.toggleSpinner)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.zoneSpinner, false);\n  }\n}\n\n/**\n * Appelle l'API pour récupérer les typologies pour une zone/zonage\n */\nasync function loadTypologies(zoneId, zonageId) {\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.resetSelect)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.typologieSelect, \"Sélectionnez d'abord une zone\");\n  _ui_js__WEBPACK_IMPORTED_MODULE_0__.downloadBtn.disabled = true;\n  selectedDocument = null;\n\n  if (!zoneId || !zonageId) {\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\"Veuillez sélectionner un zonage et une zone.\", \"info\");\n    return;\n  }\n\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.toggleSpinner)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.typologieSpinner, true);\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\"Chargement des typologies...\", \"info\");\n  _ui_js__WEBPACK_IMPORTED_MODULE_0__.typologieSelect.disabled = true;\n\n  try {\n    const url = `${GET_TYPOLOGIES_URL}?zonageId=${zonageId}&zoneId=${zoneId}`;\n    console.log(\"Fetching Typologies from:\", url);\n    const response = await fetch(url);\n\n    if (!response.ok) throw new Error(`Erreur HTTP: ${response.status}`);\n    const data = await response.json();\n\n    const hasData = (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.populateSelect)(\n      _ui_js__WEBPACK_IMPORTED_MODULE_0__.typologieSelect,\n      data,\n      \"Sélectionnez une typologie\",\n      \"Aucune typologie disponible\",\n      \"typologie\"\n    );\n\n    if (hasData) {\n      (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(`${data.length} typologies chargées.`, \"success\");\n    } else {\n      (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\"Aucune typologie trouvée pour cette sélection.\", \"warning\");\n    }\n  } catch (error) {\n    console.error(\"Erreur lors du chargement des typologies:\", error);\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(`Erreur chargement typologies: ${error.message}`, \"danger\");\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.resetSelect)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.typologieSelect, \"Erreur chargement\");\n  } finally {\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.toggleSpinner)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.typologieSpinner, false);\n  }\n}\n\n/**\n * Recherche le document correspondant aux sélections\n */\nasync function findDocument(zonageId, zoneId, typologieId) {\n  _ui_js__WEBPACK_IMPORTED_MODULE_0__.downloadBtn.disabled = true;\n  selectedDocument = null; // Reset before search\n\n  if (!zonageId || !zoneId || !typologieId) {\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\"Sélection incomplète pour rechercher le document.\", \"info\");\n    return;\n  }\n\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.toggleSpinner)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.documentSpinner, true);\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\"Recherche du document...\", \"info\");\n\n  try {\n    const url = `${GET_DOCUMENT_URL}?zonageId=${zonageId}&zoneId=${zoneId}&typologieId=${typologieId}`;\n    console.log(\"Fetching Document from:\", url);\n    const response = await fetch(url);\n\n    if (!response.ok) {\n      if (response.status === 404) {\n        (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\"Aucun document trouvé pour cette combinaison.\", \"warning\");\n        return;\n      }\n      throw new Error(`Erreur HTTP: ${response.status}`);\n    }\n\n    const data = await response.json();\n    selectedDocument = data; // Store the found document details\n\n    if (data && data.plu_url) {\n      _ui_js__WEBPACK_IMPORTED_MODULE_0__.downloadBtn.disabled = false;\n      (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\n        `Document trouvé (Source: ${\n          (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.formatApiName)(data.source_plu_date) || \"Non spécifiée\"\n        }). Prêt à consulter.`,\n        \"success\"\n      );\n    } else {\n      selectedDocument = null; // Ensure consistency if URL is missing\n      (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(\"Document trouvé mais lien manquant.\", \"warning\");\n    }\n  } catch (error) {\n    selectedDocument = null;\n    console.error(\"Erreur lors de la recherche du document:\", error);\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.showStatus)(`Erreur recherche document: ${error.message}`, \"danger\");\n  } finally {\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_0__.toggleSpinner)(_ui_js__WEBPACK_IMPORTED_MODULE_0__.documentSpinner, false);\n  }\n}\n\n// Function to get the currently selected document (needed by app.js/main.js)\nfunction getSelectedDocument() {\n  return selectedDocument;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NzBlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHB1YmxpYy9qcy9hcGkuanNcblxuLy8gSW1wb3J0IFVJIGZ1bmN0aW9ucyBhbmQgZWxlbWVudHMgKHdpbGwgYmUgZGVmaW5lZCBpbiB1aS5qcylcbmltcG9ydCB7XG4gIHRvZ2dsZVNwaW5uZXIsXG4gIHNob3dTdGF0dXMsXG4gIHBvcHVsYXRlU2VsZWN0LFxuICByZXNldFNlbGVjdCxcbiAgZm9ybWF0QXBpTmFtZSwgLy8gQXNzdW1pbmcgZm9ybWF0QXBpTmFtZSBtb3ZlcyB0byB1aS5qcyBvciBhIHV0aWxzLmpzXG4gIHZpbGxlU2VsZWN0LFxuICB6b25hZ2VTZWxlY3QsXG4gIHpvbmVTZWxlY3QsXG4gIHR5cG9sb2dpZVNlbGVjdCxcbiAgZG93bmxvYWRCdG4sXG4gIHZpbGxlU3Bpbm5lcixcbiAgem9uYWdlU3Bpbm5lcixcbiAgem9uZVNwaW5uZXIsXG4gIHR5cG9sb2dpZVNwaW5uZXIsXG4gIGRvY3VtZW50U3Bpbm5lcixcbn0gZnJvbSBcIi4vdWkuanNcIjsgLy8gQWRqdXN0IHBhdGggaWYgbmVlZGVkXG5cbi8vIC0tLSBBUEkgVVJMIERlZmluaXRpb25zIC0tLVxuY29uc3QgSVNfTE9DQUwgPVxuICBsb2NhdGlvbi5ob3N0bmFtZSA9PT0gXCJsb2NhbGhvc3RcIiB8fCBsb2NhdGlvbi5ob3N0bmFtZSA9PT0gXCIxMjcuMC4wLjFcIjtcblxuY29uc3QgR0VUX1ZJTExFU19VUkwgPSBJU19MT0NBTFxuICA/IFwiaHR0cDovLzEyNy4wLjAuMTo1MDAxL3VyYmFuZG9jcy91cy1jZW50cmFsMS9nZXRfdmlsbGVzXCJcbiAgOiBcImh0dHBzOi8vZ2V0LXZpbGxlcy11cDNrM2hkZHRxLXVjLmEucnVuLmFwcFwiO1xuXG5jb25zdCBHRVRfWk9OQUdFU19VUkwgPSBJU19MT0NBTFxuICA/IFwiaHR0cDovLzEyNy4wLjAuMTo1MDAxL3VyYmFuZG9jcy91cy1jZW50cmFsMS9nZXRfem9uYWdlc1wiXG4gIDogXCJodHRwczovL2dldC16b25hZ2VzLXVwM2szaGRkdHEtdWMuYS5ydW4uYXBwXCI7XG5cbmNvbnN0IEdFVF9aT05FU19VUkwgPSBJU19MT0NBTFxuICA/IFwiaHR0cDovLzEyNy4wLjAuMTo1MDAxL3VyYmFuZG9jcy91cy1jZW50cmFsMS9nZXRfem9uZXNcIlxuICA6IFwiaHR0cHM6Ly9nZXQtem9uZXMtdXAzazNoZGR0cS11Yy5hLnJ1bi5hcHBcIjtcblxuY29uc3QgR0VUX1RZUE9MT0dJRVNfVVJMID0gSVNfTE9DQUxcbiAgPyBcImh0dHA6Ly8xMjcuMC4wLjE6NTAwMS91cmJhbmRvY3MvdXMtY2VudHJhbDEvZ2V0X3R5cG9sb2dpZXNcIlxuICA6IFwiaHR0cHM6Ly9nZXQtdHlwb2xvZ2llcy11cDNrM2hkZHRxLXVjLmEucnVuLmFwcFwiO1xuXG5jb25zdCBHRVRfRE9DVU1FTlRfVVJMID0gSVNfTE9DQUxcbiAgPyBcImh0dHA6Ly8xMjcuMC4wLjE6NTAwMS91cmJhbmRvY3MvdXMtY2VudHJhbDEvZ2V0X2RvY3VtZW50XCJcbiAgOiBcImh0dHBzOi8vZ2V0LWRvY3VtZW50LXVwM2szaGRkdHEtdWMuYS5ydW4uYXBwXCI7XG4vLyAtLS0gRW5kIG9mIEFQSSBVUkwgRGVmaW5pdGlvbnMgLS0tXG5cbi8vIFZhcmlhYmxlIHRvIHN0b3JlIHRoZSBmZXRjaGVkIGRvY3VtZW50IGRldGFpbHNcbmxldCBzZWxlY3RlZERvY3VtZW50ID0gbnVsbDtcblxuLyoqXG4gKiBBcHBlbGxlIGwnQVBJIHBvdXIgcsOpY3Vww6lyZXIgbGVzIHZpbGxlc1xuICovXG5hc3luYyBmdW5jdGlvbiBsb2FkVmlsbGVzKCkge1xuICB0b2dnbGVTcGlubmVyKHZpbGxlU3Bpbm5lciwgdHJ1ZSk7XG4gIHNob3dTdGF0dXMoXCJDaGFyZ2VtZW50IGRlcyB2aWxsZXMuLi5cIiwgXCJpbmZvXCIpO1xuICB2aWxsZVNlbGVjdC5kaXNhYmxlZCA9IHRydWU7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB1cmwgPSBHRVRfVklMTEVTX1VSTDtcbiAgICBjb25zb2xlLmxvZyhcIkZldGNoaW5nIFZpbGxlcyBmcm9tOlwiLCB1cmwpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcihgRXJyZXVyIEhUVFA6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBjb25zdCBoYXNEYXRhID0gcG9wdWxhdGVTZWxlY3QoXG4gICAgICB2aWxsZVNlbGVjdCxcbiAgICAgIGRhdGEsXG4gICAgICBcIlPDqWxlY3Rpb25uZXogdW5lIHZpbGxlXCIsXG4gICAgICBcIkF1Y3VuZSB2aWxsZSBkaXNwb25pYmxlXCIsXG4gICAgICBcInZpbGxlXCIgLy8gUGFzcyBkYXRhVHlwZSBmb3IgZm9ybWF0dGluZyBsb2dpYyBpbiBwb3B1bGF0ZVNlbGVjdFxuICAgICk7XG5cbiAgICBpZiAoaGFzRGF0YSkge1xuICAgICAgc2hvd1N0YXR1cyhcbiAgICAgICAgYCR7ZGF0YS5sZW5ndGh9IHZpbGxlcyBjaGFyZ8OpZXMuIFZldWlsbGV6IGVuIHPDqWxlY3Rpb25uZXIgdW5lLmAsXG4gICAgICAgIFwic3VjY2Vzc1wiXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzaG93U3RhdHVzKFwiQXVjdW5lIHZpbGxlIG4nYSDDqXTDqSB0cm91dsOpZS5cIiwgXCJ3YXJuaW5nXCIpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyZXVyIGxvcnMgZHUgY2hhcmdlbWVudCBkZXMgdmlsbGVzOlwiLCBlcnJvcik7XG4gICAgc2hvd1N0YXR1cyhgRXJyZXVyIGNoYXJnZW1lbnQgdmlsbGVzOiAke2Vycm9yLm1lc3NhZ2V9YCwgXCJkYW5nZXJcIik7XG4gICAgcmVzZXRTZWxlY3QodmlsbGVTZWxlY3QsIFwiRXJyZXVyIGNoYXJnZW1lbnRcIik7XG4gIH0gZmluYWxseSB7XG4gICAgdG9nZ2xlU3Bpbm5lcih2aWxsZVNwaW5uZXIsIGZhbHNlKTtcbiAgfVxufVxuXG4vKipcbiAqIEFwcGVsbGUgbCdBUEkgcG91ciByw6ljdXDDqXJlciBsZXMgem9uYWdlcyBwb3VyIHVuZSB2aWxsZVxuICovXG5hc3luYyBmdW5jdGlvbiBsb2FkWm9uYWdlcyh2aWxsZUlkKSB7XG4gIHJlc2V0U2VsZWN0KHpvbmFnZVNlbGVjdCwgXCJTw6lsZWN0aW9ubmV6IGQnYWJvcmQgdW5lIHZpbGxlXCIpO1xuICByZXNldFNlbGVjdCh6b25lU2VsZWN0LCBcIlPDqWxlY3Rpb25uZXogZCdhYm9yZCB1biB6b25hZ2VcIik7XG4gIHJlc2V0U2VsZWN0KHR5cG9sb2dpZVNlbGVjdCwgXCJTw6lsZWN0aW9ubmV6IGQnYWJvcmQgdW5lIHpvbmVcIik7XG4gIGRvd25sb2FkQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgc2VsZWN0ZWREb2N1bWVudCA9IG51bGw7XG5cbiAgaWYgKCF2aWxsZUlkKSB7XG4gICAgc2hvd1N0YXR1cyhcIlZldWlsbGV6IHPDqWxlY3Rpb25uZXIgdW5lIHZpbGxlLlwiLCBcImluZm9cIik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdG9nZ2xlU3Bpbm5lcih6b25hZ2VTcGlubmVyLCB0cnVlKTtcbiAgc2hvd1N0YXR1cyhcIkNoYXJnZW1lbnQgZGVzIHpvbmFnZXMuLi5cIiwgXCJpbmZvXCIpO1xuICB6b25hZ2VTZWxlY3QuZGlzYWJsZWQgPSB0cnVlO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gYCR7R0VUX1pPTkFHRVNfVVJMfT92aWxsZUlkPSR7dmlsbGVJZH1gO1xuICAgIGNvbnNvbGUubG9nKFwiRmV0Y2hpbmcgWm9uYWdlcyBmcm9tOlwiLCB1cmwpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcihgRXJyZXVyIEhUVFA6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBjb25zdCBoYXNEYXRhID0gcG9wdWxhdGVTZWxlY3QoXG4gICAgICB6b25hZ2VTZWxlY3QsXG4gICAgICBkYXRhLFxuICAgICAgXCJTw6lsZWN0aW9ubmV6IHVuIHpvbmFnZVwiLFxuICAgICAgXCJBdWN1biB6b25hZ2UgZGlzcG9uaWJsZVwiLFxuICAgICAgXCJ6b25hZ2VcIlxuICAgICk7XG5cbiAgICBpZiAoaGFzRGF0YSkge1xuICAgICAgc2hvd1N0YXR1cyhgJHtkYXRhLmxlbmd0aH0gem9uYWdlcyBjaGFyZ8OpcyBwb3VyIGNldHRlIHZpbGxlLmAsIFwic3VjY2Vzc1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hvd1N0YXR1cyhcIkF1Y3VuIHpvbmFnZSB0cm91dsOpIHBvdXIgY2V0dGUgdmlsbGUuXCIsIFwid2FybmluZ1wiKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycmV1ciBsb3JzIGR1IGNoYXJnZW1lbnQgZGVzIHpvbmFnZXM6XCIsIGVycm9yKTtcbiAgICBzaG93U3RhdHVzKGBFcnJldXIgY2hhcmdlbWVudCB6b25hZ2VzOiAke2Vycm9yLm1lc3NhZ2V9YCwgXCJkYW5nZXJcIik7XG4gICAgcmVzZXRTZWxlY3Qoem9uYWdlU2VsZWN0LCBcIkVycmV1ciBjaGFyZ2VtZW50XCIpO1xuICB9IGZpbmFsbHkge1xuICAgIHRvZ2dsZVNwaW5uZXIoem9uYWdlU3Bpbm5lciwgZmFsc2UpO1xuICB9XG59XG5cbi8qKlxuICogQXBwZWxsZSBsJ0FQSSBwb3VyIHLDqWN1cMOpcmVyIGxlcyB6b25lcyBwb3VyIHVuIHpvbmFnZVxuICovXG5hc3luYyBmdW5jdGlvbiBsb2FkWm9uZXMoem9uYWdlSWQpIHtcbiAgcmVzZXRTZWxlY3Qoem9uZVNlbGVjdCwgXCJTw6lsZWN0aW9ubmV6IGQnYWJvcmQgdW4gem9uYWdlXCIpO1xuICByZXNldFNlbGVjdCh0eXBvbG9naWVTZWxlY3QsIFwiU8OpbGVjdGlvbm5leiBkJ2Fib3JkIHVuZSB6b25lXCIpO1xuICBkb3dubG9hZEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gIHNlbGVjdGVkRG9jdW1lbnQgPSBudWxsO1xuXG4gIGlmICghem9uYWdlSWQpIHtcbiAgICBzaG93U3RhdHVzKFwiVmV1aWxsZXogc8OpbGVjdGlvbm5lciB1biB6b25hZ2UuXCIsIFwiaW5mb1wiKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0b2dnbGVTcGlubmVyKHpvbmVTcGlubmVyLCB0cnVlKTtcbiAgc2hvd1N0YXR1cyhcIkNoYXJnZW1lbnQgZGVzIHpvbmVzLi4uXCIsIFwiaW5mb1wiKTtcbiAgem9uZVNlbGVjdC5kaXNhYmxlZCA9IHRydWU7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB1cmwgPSBgJHtHRVRfWk9ORVNfVVJMfT96b25hZ2VJZD0ke3pvbmFnZUlkfWA7XG4gICAgY29uc29sZS5sb2coXCJGZXRjaGluZyBab25lcyBmcm9tOlwiLCB1cmwpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcihgRXJyZXVyIEhUVFA6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAvLyBQYXNzIHpvbmVOYW1lTWFwcGluZ3MgdG8gcG9wdWxhdGVTZWxlY3Qgb3IgaGFuZGxlIG1hcHBpbmcgaW5zaWRlIHBvcHVsYXRlU2VsZWN0XG4gICAgY29uc3QgaGFzRGF0YSA9IHBvcHVsYXRlU2VsZWN0KFxuICAgICAgem9uZVNlbGVjdCxcbiAgICAgIGRhdGEsXG4gICAgICBcIlPDqWxlY3Rpb25uZXogdW5lIHpvbmVcIixcbiAgICAgIFwiQXVjdW5lIHpvbmUgZGlzcG9uaWJsZVwiLFxuICAgICAgXCJ6b25lXCIgLy8gUGFzcyBkYXRhVHlwZSBmb3IgZm9ybWF0dGluZyBsb2dpY1xuICAgICk7XG5cbiAgICBpZiAoaGFzRGF0YSkge1xuICAgICAgc2hvd1N0YXR1cyhgJHtkYXRhLmxlbmd0aH0gem9uZXMgY2hhcmfDqWVzIHBvdXIgY2Ugem9uYWdlLmAsIFwic3VjY2Vzc1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hvd1N0YXR1cyhcIkF1Y3VuZSB6b25lIHRyb3V2w6llIHBvdXIgY2Ugem9uYWdlLlwiLCBcIndhcm5pbmdcIik7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50IGRlcyB6b25lczpcIiwgZXJyb3IpO1xuICAgIHNob3dTdGF0dXMoYEVycmV1ciBjaGFyZ2VtZW50IHpvbmVzOiAke2Vycm9yLm1lc3NhZ2V9YCwgXCJkYW5nZXJcIik7XG4gICAgcmVzZXRTZWxlY3Qoem9uZVNlbGVjdCwgXCJFcnJldXIgY2hhcmdlbWVudFwiKTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0b2dnbGVTcGlubmVyKHpvbmVTcGlubmVyLCBmYWxzZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBcHBlbGxlIGwnQVBJIHBvdXIgcsOpY3Vww6lyZXIgbGVzIHR5cG9sb2dpZXMgcG91ciB1bmUgem9uZS96b25hZ2VcbiAqL1xuYXN5bmMgZnVuY3Rpb24gbG9hZFR5cG9sb2dpZXMoem9uZUlkLCB6b25hZ2VJZCkge1xuICByZXNldFNlbGVjdCh0eXBvbG9naWVTZWxlY3QsIFwiU8OpbGVjdGlvbm5leiBkJ2Fib3JkIHVuZSB6b25lXCIpO1xuICBkb3dubG9hZEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gIHNlbGVjdGVkRG9jdW1lbnQgPSBudWxsO1xuXG4gIGlmICghem9uZUlkIHx8ICF6b25hZ2VJZCkge1xuICAgIHNob3dTdGF0dXMoXCJWZXVpbGxleiBzw6lsZWN0aW9ubmVyIHVuIHpvbmFnZSBldCB1bmUgem9uZS5cIiwgXCJpbmZvXCIpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRvZ2dsZVNwaW5uZXIodHlwb2xvZ2llU3Bpbm5lciwgdHJ1ZSk7XG4gIHNob3dTdGF0dXMoXCJDaGFyZ2VtZW50IGRlcyB0eXBvbG9naWVzLi4uXCIsIFwiaW5mb1wiKTtcbiAgdHlwb2xvZ2llU2VsZWN0LmRpc2FibGVkID0gdHJ1ZTtcblxuICB0cnkge1xuICAgIGNvbnN0IHVybCA9IGAke0dFVF9UWVBPTE9HSUVTX1VSTH0/em9uYWdlSWQ9JHt6b25hZ2VJZH0mem9uZUlkPSR7em9uZUlkfWA7XG4gICAgY29uc29sZS5sb2coXCJGZXRjaGluZyBUeXBvbG9naWVzIGZyb206XCIsIHVybCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwpO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykgdGhyb3cgbmV3IEVycm9yKGBFcnJldXIgSFRUUDogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIGNvbnN0IGhhc0RhdGEgPSBwb3B1bGF0ZVNlbGVjdChcbiAgICAgIHR5cG9sb2dpZVNlbGVjdCxcbiAgICAgIGRhdGEsXG4gICAgICBcIlPDqWxlY3Rpb25uZXogdW5lIHR5cG9sb2dpZVwiLFxuICAgICAgXCJBdWN1bmUgdHlwb2xvZ2llIGRpc3BvbmlibGVcIixcbiAgICAgIFwidHlwb2xvZ2llXCJcbiAgICApO1xuXG4gICAgaWYgKGhhc0RhdGEpIHtcbiAgICAgIHNob3dTdGF0dXMoYCR7ZGF0YS5sZW5ndGh9IHR5cG9sb2dpZXMgY2hhcmfDqWVzLmAsIFwic3VjY2Vzc1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2hvd1N0YXR1cyhcIkF1Y3VuZSB0eXBvbG9naWUgdHJvdXbDqWUgcG91ciBjZXR0ZSBzw6lsZWN0aW9uLlwiLCBcIndhcm5pbmdcIik7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJldXIgbG9ycyBkdSBjaGFyZ2VtZW50IGRlcyB0eXBvbG9naWVzOlwiLCBlcnJvcik7XG4gICAgc2hvd1N0YXR1cyhgRXJyZXVyIGNoYXJnZW1lbnQgdHlwb2xvZ2llczogJHtlcnJvci5tZXNzYWdlfWAsIFwiZGFuZ2VyXCIpO1xuICAgIHJlc2V0U2VsZWN0KHR5cG9sb2dpZVNlbGVjdCwgXCJFcnJldXIgY2hhcmdlbWVudFwiKTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0b2dnbGVTcGlubmVyKHR5cG9sb2dpZVNwaW5uZXIsIGZhbHNlKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlY2hlcmNoZSBsZSBkb2N1bWVudCBjb3JyZXNwb25kYW50IGF1eCBzw6lsZWN0aW9uc1xuICovXG5hc3luYyBmdW5jdGlvbiBmaW5kRG9jdW1lbnQoem9uYWdlSWQsIHpvbmVJZCwgdHlwb2xvZ2llSWQpIHtcbiAgZG93bmxvYWRCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICBzZWxlY3RlZERvY3VtZW50ID0gbnVsbDsgLy8gUmVzZXQgYmVmb3JlIHNlYXJjaFxuXG4gIGlmICghem9uYWdlSWQgfHwgIXpvbmVJZCB8fCAhdHlwb2xvZ2llSWQpIHtcbiAgICBzaG93U3RhdHVzKFwiU8OpbGVjdGlvbiBpbmNvbXBsw6h0ZSBwb3VyIHJlY2hlcmNoZXIgbGUgZG9jdW1lbnQuXCIsIFwiaW5mb1wiKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0b2dnbGVTcGlubmVyKGRvY3VtZW50U3Bpbm5lciwgdHJ1ZSk7XG4gIHNob3dTdGF0dXMoXCJSZWNoZXJjaGUgZHUgZG9jdW1lbnQuLi5cIiwgXCJpbmZvXCIpO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gYCR7R0VUX0RPQ1VNRU5UX1VSTH0/em9uYWdlSWQ9JHt6b25hZ2VJZH0mem9uZUlkPSR7em9uZUlkfSZ0eXBvbG9naWVJZD0ke3R5cG9sb2dpZUlkfWA7XG4gICAgY29uc29sZS5sb2coXCJGZXRjaGluZyBEb2N1bWVudCBmcm9tOlwiLCB1cmwpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICBzaG93U3RhdHVzKFwiQXVjdW4gZG9jdW1lbnQgdHJvdXbDqSBwb3VyIGNldHRlIGNvbWJpbmFpc29uLlwiLCBcIndhcm5pbmdcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyZXVyIEhUVFA6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgc2VsZWN0ZWREb2N1bWVudCA9IGRhdGE7IC8vIFN0b3JlIHRoZSBmb3VuZCBkb2N1bWVudCBkZXRhaWxzXG5cbiAgICBpZiAoZGF0YSAmJiBkYXRhLnBsdV91cmwpIHtcbiAgICAgIGRvd25sb2FkQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICBzaG93U3RhdHVzKFxuICAgICAgICBgRG9jdW1lbnQgdHJvdXbDqSAoU291cmNlOiAke1xuICAgICAgICAgIGZvcm1hdEFwaU5hbWUoZGF0YS5zb3VyY2VfcGx1X2RhdGUpIHx8IFwiTm9uIHNww6ljaWZpw6llXCJcbiAgICAgICAgfSkuIFByw6p0IMOgIGNvbnN1bHRlci5gLFxuICAgICAgICBcInN1Y2Nlc3NcIlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0ZWREb2N1bWVudCA9IG51bGw7IC8vIEVuc3VyZSBjb25zaXN0ZW5jeSBpZiBVUkwgaXMgbWlzc2luZ1xuICAgICAgc2hvd1N0YXR1cyhcIkRvY3VtZW50IHRyb3V2w6kgbWFpcyBsaWVuIG1hbnF1YW50LlwiLCBcIndhcm5pbmdcIik7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHNlbGVjdGVkRG9jdW1lbnQgPSBudWxsO1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJldXIgbG9ycyBkZSBsYSByZWNoZXJjaGUgZHUgZG9jdW1lbnQ6XCIsIGVycm9yKTtcbiAgICBzaG93U3RhdHVzKGBFcnJldXIgcmVjaGVyY2hlIGRvY3VtZW50OiAke2Vycm9yLm1lc3NhZ2V9YCwgXCJkYW5nZXJcIik7XG4gIH0gZmluYWxseSB7XG4gICAgdG9nZ2xlU3Bpbm5lcihkb2N1bWVudFNwaW5uZXIsIGZhbHNlKTtcbiAgfVxufVxuXG4vLyBGdW5jdGlvbiB0byBnZXQgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBkb2N1bWVudCAobmVlZGVkIGJ5IGFwcC5qcy9tYWluLmpzKVxuZnVuY3Rpb24gZ2V0U2VsZWN0ZWREb2N1bWVudCgpIHtcbiAgcmV0dXJuIHNlbGVjdGVkRG9jdW1lbnQ7XG59XG5cbmV4cG9ydCB7XG4gIGxvYWRWaWxsZXMsXG4gIGxvYWRab25hZ2VzLFxuICBsb2FkWm9uZXMsXG4gIGxvYWRUeXBvbG9naWVzLFxuICBmaW5kRG9jdW1lbnQsXG4gIGdldFNlbGVjdGVkRG9jdW1lbnQsXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/api.js\n");

/***/ }),

/***/ "./src/js/app.js":
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api.js */ \"./src/js/api.js\");\n/* harmony import */ var _ui_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui.js */ \"./src/js/ui.js\");\n// public/js/app.js - Main application logic\n\n// Import API functions\n\n\n// Import UI elements and functions\n\n\n/**\n * Opens the selected document in a new tab.\n * Retrieves the document details using getSelectedDocument from api.js.\n */\nfunction downloadDocument() {\n  const selectedDocument = (0,_api_js__WEBPACK_IMPORTED_MODULE_0__.getSelectedDocument)(); // Get from api.js\n  if (selectedDocument && selectedDocument.plu_url) {\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_1__.showStatus)(\"Ouverture du document...\", \"info\");\n    window.open(selectedDocument.plu_url, \"_blank\");\n    // Re-display success message after a delay\n    setTimeout(() => {\n      // Check if button is still enabled (i.e., document is still considered valid)\n      if (!_ui_js__WEBPACK_IMPORTED_MODULE_1__.downloadBtn.disabled) {\n        (0,_ui_js__WEBPACK_IMPORTED_MODULE_1__.showStatus)(\n          `Document trouvé (Source: ${\n            (0,_ui_js__WEBPACK_IMPORTED_MODULE_1__.formatApiName)(selectedDocument.source_plu_date) || \"Non spécifiée\"\n          }). Prêt à consulter.`,\n          \"success\"\n        );\n      }\n    }, 1500);\n  } else {\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_1__.showStatus)(\"Lien du document non disponible.\", \"warning\");\n    _ui_js__WEBPACK_IMPORTED_MODULE_1__.downloadBtn.disabled = true; // Ensure button is disabled if no URL\n  }\n}\n\n// === Event listeners ===\n_ui_js__WEBPACK_IMPORTED_MODULE_1__.villeSelect.addEventListener(\"change\", (event) => {\n  const villeId = event.target.value;\n  (0,_api_js__WEBPACK_IMPORTED_MODULE_0__.loadZonages)(villeId); // Call API function\n});\n\n_ui_js__WEBPACK_IMPORTED_MODULE_1__.zonageSelect.addEventListener(\"change\", (event) => {\n  const zonageId = event.target.value;\n  (0,_api_js__WEBPACK_IMPORTED_MODULE_0__.loadZones)(zonageId); // Call API function\n});\n\n_ui_js__WEBPACK_IMPORTED_MODULE_1__.zoneSelect.addEventListener(\"change\", (event) => {\n  const zoneId = event.target.value;\n  const zonageId = _ui_js__WEBPACK_IMPORTED_MODULE_1__.zonageSelect.value; // Get current zonage selection\n  // TODO : Remove the if/else right bellow when typologieSelect is available\n  if (zoneId && zonageId) {\n    (0,_api_js__WEBPACK_IMPORTED_MODULE_0__.findDocument)(zonageId, zoneId, \"d6cd2337-5803-4802-a208-1cfa4eeba905\"); // Call API function\n  } else {\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_1__.showStatus)(\"Veuillez d'abord sélectionner un zonage.\", \"warning\");\n  }\n  // TODO : Uncomment when typologieSelect is available\n  // if (zonageId) {\n  //   loadTypologies(zoneId, zonageId); // Call API function\n  // } else {\n  //   showStatus(\"Veuillez d'abord sélectionner un zonage.\", \"warning\");\n  // }\n});\n\n// TODO : Uncomment when typologieSelect is available\n// typologieSelect.addEventListener(\"change\", (event) => {\n//   const typologieId = event.target.value;\n//   const zoneId = zoneSelect.value;\n//   const zonageId = zonageSelect.value;\n//   if (zoneId && zonageId) {\n//     findDocument(zonageId, zoneId, typologieId); // Call API function\n//   } else {\n//     showStatus(\n//       \"Veuillez d'abord sélectionner un zonage et une zone.\",\n//       \"warning\"\n//     );\n//   }\n// });\n\n_ui_js__WEBPACK_IMPORTED_MODULE_1__.downloadBtn.addEventListener(\"click\", downloadDocument);\n\n// === Initialisation ===\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\n  // Initialize UI state\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_1__.resetSelect)(_ui_js__WEBPACK_IMPORTED_MODULE_1__.villeSelect, \"Chargement...\");\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_1__.resetSelect)(_ui_js__WEBPACK_IMPORTED_MODULE_1__.zonageSelect, \"Sélectionnez d'abord une ville\");\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_1__.resetSelect)(_ui_js__WEBPACK_IMPORTED_MODULE_1__.zoneSelect, \"Sélectionnez d'abord un zonage\");\n  // resetSelect(typologieSelect, \"Sélectionnez d'abord une zone\");\n  _ui_js__WEBPACK_IMPORTED_MODULE_1__.downloadBtn.disabled = true;\n  (0,_ui_js__WEBPACK_IMPORTED_MODULE_1__.showStatus)(\"Initialisation...\", \"info\");\n\n  // Load initial data\n  await (0,_api_js__WEBPACK_IMPORTED_MODULE_0__.loadVilles)(); // Start loading cities\n\n  // --- FirebaseUI Configuration ---\n  // Check if FirebaseUI is loaded\n  if (typeof firebaseui !== \"undefined\" && window.firebaseAuth) {\n    // Initialize the FirebaseUI Widget using Firebase.\n    const ui = new firebaseui.auth.AuthUI(window.firebaseAuth);\n\n    const uiConfig = {\n      callbacks: {\n        signInSuccessWithAuthResult: function (authResult, redirectUrl) {\n          // User successfully signed in.\n          // Return type determines whether we continue the redirect automatically\n          // or whether we leave that to developer to handle.\n          console.log(\"Sign-in successful!\", authResult);\n          (0,_ui_js__WEBPACK_IMPORTED_MODULE_1__.showStatus)(`Bienvenue ${authResult.user.email}!`, \"success\");\n          // Hide the sign-in container after success?\n          // document.getElementById('firebaseui-auth-container').style.display = 'none';\n          return false; // Prevent redirect\n        },\n        uiShown: function () {\n          // The widget is rendered.\n          // Hide the loader.\n          // document.getElementById('loader').style.display = 'none';\n          console.log(\"FirebaseUI widget shown.\");\n        },\n      },\n      // Will use popup for IDP Providers sign-in flow instead of redirect flow.\n      signInFlow: \"popup\",\n      // We will display Email as auth provider.\n      signInOptions: [\n        // Use the constant provided by the globally loaded Firebase library\n        firebase.auth.EmailAuthProvider.PROVIDER_ID,\n      ],\n      // Terms of service url.\n      // tosUrl: '<your-tos-url>', // Optional\n      // Privacy policy url.\n      // privacyPolicyUrl: '<your-privacy-policy-url>' // Optional\n    };\n\n    // The start method will wait until the DOM is loaded.\n    ui.start(\"#firebaseui-auth-container\", uiConfig);\n  } else {\n    console.error(\n      \"FirebaseUI or Firebase Auth not loaded. Cannot start Auth UI.\"\n    );\n    (0,_ui_js__WEBPACK_IMPORTED_MODULE_1__.showStatus)(\n      \"Erreur: Impossible d'initialiser le module d'authentification.\",\n      \"danger\"\n    );\n  }\n  // --- End FirebaseUI Configuration ---\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYXBwLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBOztBQUVBO0FBUWtCOztBQUVsQjtBQVdpQjs7QUFFakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw0REFBbUIsSUFBSTtBQUNsRDtBQUNBLElBQUksa0RBQVU7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0NBQVc7QUFDdEIsUUFBUSxrREFBVTtBQUNsQjtBQUNBLFlBQVkscURBQWE7QUFDekIsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0osSUFBSSxrREFBVTtBQUNkLElBQUksK0NBQVcsa0JBQWtCO0FBQ2pDO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBVztBQUNYO0FBQ0EsRUFBRSxvREFBVyxXQUFXO0FBQ3hCLENBQUM7O0FBRUQsZ0RBQVk7QUFDWjtBQUNBLEVBQUUsa0RBQVMsWUFBWTtBQUN2QixDQUFDOztBQUVELDhDQUFVO0FBQ1Y7QUFDQSxtQkFBbUIsZ0RBQVksUUFBUTtBQUN2QztBQUNBO0FBQ0EsSUFBSSxxREFBWSw0REFBNEQ7QUFDNUUsSUFBSTtBQUNKLElBQUksa0RBQVU7QUFDZDtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMsT0FBTztBQUNQO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRDtBQUNwRCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUosK0NBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0EsRUFBRSxtREFBVyxDQUFDLCtDQUFXO0FBQ3pCLEVBQUUsbURBQVcsQ0FBQyxnREFBWTtBQUMxQixFQUFFLG1EQUFXLENBQUMsOENBQVU7QUFDeEI7QUFDQSxFQUFFLCtDQUFXO0FBQ2IsRUFBRSxrREFBVTs7QUFFWjtBQUNBLFFBQVEsbURBQVUsSUFBSTs7QUFFdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsa0RBQVUsY0FBYyxzQkFBc0I7QUFDeEQ7QUFDQTtBQUNBLHdCQUF3QjtBQUN4QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsSUFBSSxrREFBVTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL2FwcC5qcz85MGU5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHB1YmxpYy9qcy9hcHAuanMgLSBNYWluIGFwcGxpY2F0aW9uIGxvZ2ljXG5cbi8vIEltcG9ydCBBUEkgZnVuY3Rpb25zXG5pbXBvcnQge1xuICBsb2FkVmlsbGVzLFxuICBsb2FkWm9uYWdlcyxcbiAgbG9hZFpvbmVzLFxuICBsb2FkVHlwb2xvZ2llcyxcbiAgZmluZERvY3VtZW50LFxuICBnZXRTZWxlY3RlZERvY3VtZW50LCAvLyBGdW5jdGlvbiB0byBnZXQgdGhlIGRvY3VtZW50IGRldGFpbHMgZnJvbSBhcGkuanNcbn0gZnJvbSBcIi4vYXBpLmpzXCI7XG5cbi8vIEltcG9ydCBVSSBlbGVtZW50cyBhbmQgZnVuY3Rpb25zXG5pbXBvcnQge1xuICB2aWxsZVNlbGVjdCxcbiAgem9uYWdlU2VsZWN0LFxuICB6b25lU2VsZWN0LFxuICAvLyBUT0RPIDogVW5jb21tZW50IHdoZW4gdHlwb2xvZ2llU2VsZWN0IGlzIGF2YWlsYWJsZVxuICAvLyB0eXBvbG9naWVTZWxlY3QsXG4gIGRvd25sb2FkQnRuLFxuICBzaG93U3RhdHVzLFxuICByZXNldFNlbGVjdCxcbiAgZm9ybWF0QXBpTmFtZSwgLy8gS2VlcCBmb3JtYXRBcGlOYW1lIGFjY2Vzc2libGUgaWYgbmVlZGVkIGRpcmVjdGx5IGhlcmUsIHRob3VnaCBpdCdzIG1haW5seSB1c2VkIGluIGFwaS5qcyB2aWEgdWkuanNcbn0gZnJvbSBcIi4vdWkuanNcIjtcblxuLyoqXG4gKiBPcGVucyB0aGUgc2VsZWN0ZWQgZG9jdW1lbnQgaW4gYSBuZXcgdGFiLlxuICogUmV0cmlldmVzIHRoZSBkb2N1bWVudCBkZXRhaWxzIHVzaW5nIGdldFNlbGVjdGVkRG9jdW1lbnQgZnJvbSBhcGkuanMuXG4gKi9cbmZ1bmN0aW9uIGRvd25sb2FkRG9jdW1lbnQoKSB7XG4gIGNvbnN0IHNlbGVjdGVkRG9jdW1lbnQgPSBnZXRTZWxlY3RlZERvY3VtZW50KCk7IC8vIEdldCBmcm9tIGFwaS5qc1xuICBpZiAoc2VsZWN0ZWREb2N1bWVudCAmJiBzZWxlY3RlZERvY3VtZW50LnBsdV91cmwpIHtcbiAgICBzaG93U3RhdHVzKFwiT3V2ZXJ0dXJlIGR1IGRvY3VtZW50Li4uXCIsIFwiaW5mb1wiKTtcbiAgICB3aW5kb3cub3BlbihzZWxlY3RlZERvY3VtZW50LnBsdV91cmwsIFwiX2JsYW5rXCIpO1xuICAgIC8vIFJlLWRpc3BsYXkgc3VjY2VzcyBtZXNzYWdlIGFmdGVyIGEgZGVsYXlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vIENoZWNrIGlmIGJ1dHRvbiBpcyBzdGlsbCBlbmFibGVkIChpLmUuLCBkb2N1bWVudCBpcyBzdGlsbCBjb25zaWRlcmVkIHZhbGlkKVxuICAgICAgaWYgKCFkb3dubG9hZEJ0bi5kaXNhYmxlZCkge1xuICAgICAgICBzaG93U3RhdHVzKFxuICAgICAgICAgIGBEb2N1bWVudCB0cm91dsOpIChTb3VyY2U6ICR7XG4gICAgICAgICAgICBmb3JtYXRBcGlOYW1lKHNlbGVjdGVkRG9jdW1lbnQuc291cmNlX3BsdV9kYXRlKSB8fCBcIk5vbiBzcMOpY2lmacOpZVwiXG4gICAgICAgICAgfSkuIFByw6p0IMOgIGNvbnN1bHRlci5gLFxuICAgICAgICAgIFwic3VjY2Vzc1wiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSwgMTUwMCk7XG4gIH0gZWxzZSB7XG4gICAgc2hvd1N0YXR1cyhcIkxpZW4gZHUgZG9jdW1lbnQgbm9uIGRpc3BvbmlibGUuXCIsIFwid2FybmluZ1wiKTtcbiAgICBkb3dubG9hZEJ0bi5kaXNhYmxlZCA9IHRydWU7IC8vIEVuc3VyZSBidXR0b24gaXMgZGlzYWJsZWQgaWYgbm8gVVJMXG4gIH1cbn1cblxuLy8gPT09IEV2ZW50IGxpc3RlbmVycyA9PT1cbnZpbGxlU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGV2ZW50KSA9PiB7XG4gIGNvbnN0IHZpbGxlSWQgPSBldmVudC50YXJnZXQudmFsdWU7XG4gIGxvYWRab25hZ2VzKHZpbGxlSWQpOyAvLyBDYWxsIEFQSSBmdW5jdGlvblxufSk7XG5cbnpvbmFnZVNlbGVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIChldmVudCkgPT4ge1xuICBjb25zdCB6b25hZ2VJZCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgbG9hZFpvbmVzKHpvbmFnZUlkKTsgLy8gQ2FsbCBBUEkgZnVuY3Rpb25cbn0pO1xuXG56b25lU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGV2ZW50KSA9PiB7XG4gIGNvbnN0IHpvbmVJZCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgY29uc3Qgem9uYWdlSWQgPSB6b25hZ2VTZWxlY3QudmFsdWU7IC8vIEdldCBjdXJyZW50IHpvbmFnZSBzZWxlY3Rpb25cbiAgLy8gVE9ETyA6IFJlbW92ZSB0aGUgaWYvZWxzZSByaWdodCBiZWxsb3cgd2hlbiB0eXBvbG9naWVTZWxlY3QgaXMgYXZhaWxhYmxlXG4gIGlmICh6b25lSWQgJiYgem9uYWdlSWQpIHtcbiAgICBmaW5kRG9jdW1lbnQoem9uYWdlSWQsIHpvbmVJZCwgXCJkNmNkMjMzNy01ODAzLTQ4MDItYTIwOC0xY2ZhNGVlYmE5MDVcIik7IC8vIENhbGwgQVBJIGZ1bmN0aW9uXG4gIH0gZWxzZSB7XG4gICAgc2hvd1N0YXR1cyhcIlZldWlsbGV6IGQnYWJvcmQgc8OpbGVjdGlvbm5lciB1biB6b25hZ2UuXCIsIFwid2FybmluZ1wiKTtcbiAgfVxuICAvLyBUT0RPIDogVW5jb21tZW50IHdoZW4gdHlwb2xvZ2llU2VsZWN0IGlzIGF2YWlsYWJsZVxuICAvLyBpZiAoem9uYWdlSWQpIHtcbiAgLy8gICBsb2FkVHlwb2xvZ2llcyh6b25lSWQsIHpvbmFnZUlkKTsgLy8gQ2FsbCBBUEkgZnVuY3Rpb25cbiAgLy8gfSBlbHNlIHtcbiAgLy8gICBzaG93U3RhdHVzKFwiVmV1aWxsZXogZCdhYm9yZCBzw6lsZWN0aW9ubmVyIHVuIHpvbmFnZS5cIiwgXCJ3YXJuaW5nXCIpO1xuICAvLyB9XG59KTtcblxuLy8gVE9ETyA6IFVuY29tbWVudCB3aGVuIHR5cG9sb2dpZVNlbGVjdCBpcyBhdmFpbGFibGVcbi8vIHR5cG9sb2dpZVNlbGVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIChldmVudCkgPT4ge1xuLy8gICBjb25zdCB0eXBvbG9naWVJZCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbi8vICAgY29uc3Qgem9uZUlkID0gem9uZVNlbGVjdC52YWx1ZTtcbi8vICAgY29uc3Qgem9uYWdlSWQgPSB6b25hZ2VTZWxlY3QudmFsdWU7XG4vLyAgIGlmICh6b25lSWQgJiYgem9uYWdlSWQpIHtcbi8vICAgICBmaW5kRG9jdW1lbnQoem9uYWdlSWQsIHpvbmVJZCwgdHlwb2xvZ2llSWQpOyAvLyBDYWxsIEFQSSBmdW5jdGlvblxuLy8gICB9IGVsc2Uge1xuLy8gICAgIHNob3dTdGF0dXMoXG4vLyAgICAgICBcIlZldWlsbGV6IGQnYWJvcmQgc8OpbGVjdGlvbm5lciB1biB6b25hZ2UgZXQgdW5lIHpvbmUuXCIsXG4vLyAgICAgICBcIndhcm5pbmdcIlxuLy8gICAgICk7XG4vLyAgIH1cbi8vIH0pO1xuXG5kb3dubG9hZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZG93bmxvYWREb2N1bWVudCk7XG5cbi8vID09PSBJbml0aWFsaXNhdGlvbiA9PT1cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGFzeW5jICgpID0+IHtcbiAgLy8gSW5pdGlhbGl6ZSBVSSBzdGF0ZVxuICByZXNldFNlbGVjdCh2aWxsZVNlbGVjdCwgXCJDaGFyZ2VtZW50Li4uXCIpO1xuICByZXNldFNlbGVjdCh6b25hZ2VTZWxlY3QsIFwiU8OpbGVjdGlvbm5leiBkJ2Fib3JkIHVuZSB2aWxsZVwiKTtcbiAgcmVzZXRTZWxlY3Qoem9uZVNlbGVjdCwgXCJTw6lsZWN0aW9ubmV6IGQnYWJvcmQgdW4gem9uYWdlXCIpO1xuICAvLyByZXNldFNlbGVjdCh0eXBvbG9naWVTZWxlY3QsIFwiU8OpbGVjdGlvbm5leiBkJ2Fib3JkIHVuZSB6b25lXCIpO1xuICBkb3dubG9hZEJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gIHNob3dTdGF0dXMoXCJJbml0aWFsaXNhdGlvbi4uLlwiLCBcImluZm9cIik7XG5cbiAgLy8gTG9hZCBpbml0aWFsIGRhdGFcbiAgYXdhaXQgbG9hZFZpbGxlcygpOyAvLyBTdGFydCBsb2FkaW5nIGNpdGllc1xuXG4gIC8vIC0tLSBGaXJlYmFzZVVJIENvbmZpZ3VyYXRpb24gLS0tXG4gIC8vIENoZWNrIGlmIEZpcmViYXNlVUkgaXMgbG9hZGVkXG4gIGlmICh0eXBlb2YgZmlyZWJhc2V1aSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cuZmlyZWJhc2VBdXRoKSB7XG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgRmlyZWJhc2VVSSBXaWRnZXQgdXNpbmcgRmlyZWJhc2UuXG4gICAgY29uc3QgdWkgPSBuZXcgZmlyZWJhc2V1aS5hdXRoLkF1dGhVSSh3aW5kb3cuZmlyZWJhc2VBdXRoKTtcblxuICAgIGNvbnN0IHVpQ29uZmlnID0ge1xuICAgICAgY2FsbGJhY2tzOiB7XG4gICAgICAgIHNpZ25JblN1Y2Nlc3NXaXRoQXV0aFJlc3VsdDogZnVuY3Rpb24gKGF1dGhSZXN1bHQsIHJlZGlyZWN0VXJsKSB7XG4gICAgICAgICAgLy8gVXNlciBzdWNjZXNzZnVsbHkgc2lnbmVkIGluLlxuICAgICAgICAgIC8vIFJldHVybiB0eXBlIGRldGVybWluZXMgd2hldGhlciB3ZSBjb250aW51ZSB0aGUgcmVkaXJlY3QgYXV0b21hdGljYWxseVxuICAgICAgICAgIC8vIG9yIHdoZXRoZXIgd2UgbGVhdmUgdGhhdCB0byBkZXZlbG9wZXIgdG8gaGFuZGxlLlxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiU2lnbi1pbiBzdWNjZXNzZnVsIVwiLCBhdXRoUmVzdWx0KTtcbiAgICAgICAgICBzaG93U3RhdHVzKGBCaWVudmVudWUgJHthdXRoUmVzdWx0LnVzZXIuZW1haWx9IWAsIFwic3VjY2Vzc1wiKTtcbiAgICAgICAgICAvLyBIaWRlIHRoZSBzaWduLWluIGNvbnRhaW5lciBhZnRlciBzdWNjZXNzP1xuICAgICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaXJlYmFzZXVpLWF1dGgtY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFByZXZlbnQgcmVkaXJlY3RcbiAgICAgICAgfSxcbiAgICAgICAgdWlTaG93bjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIFRoZSB3aWRnZXQgaXMgcmVuZGVyZWQuXG4gICAgICAgICAgLy8gSGlkZSB0aGUgbG9hZGVyLlxuICAgICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiRmlyZWJhc2VVSSB3aWRnZXQgc2hvd24uXCIpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIC8vIFdpbGwgdXNlIHBvcHVwIGZvciBJRFAgUHJvdmlkZXJzIHNpZ24taW4gZmxvdyBpbnN0ZWFkIG9mIHJlZGlyZWN0IGZsb3cuXG4gICAgICBzaWduSW5GbG93OiBcInBvcHVwXCIsXG4gICAgICAvLyBXZSB3aWxsIGRpc3BsYXkgRW1haWwgYXMgYXV0aCBwcm92aWRlci5cbiAgICAgIHNpZ25Jbk9wdGlvbnM6IFtcbiAgICAgICAgLy8gVXNlIHRoZSBjb25zdGFudCBwcm92aWRlZCBieSB0aGUgZ2xvYmFsbHkgbG9hZGVkIEZpcmViYXNlIGxpYnJhcnlcbiAgICAgICAgZmlyZWJhc2UuYXV0aC5FbWFpbEF1dGhQcm92aWRlci5QUk9WSURFUl9JRCxcbiAgICAgIF0sXG4gICAgICAvLyBUZXJtcyBvZiBzZXJ2aWNlIHVybC5cbiAgICAgIC8vIHRvc1VybDogJzx5b3VyLXRvcy11cmw+JywgLy8gT3B0aW9uYWxcbiAgICAgIC8vIFByaXZhY3kgcG9saWN5IHVybC5cbiAgICAgIC8vIHByaXZhY3lQb2xpY3lVcmw6ICc8eW91ci1wcml2YWN5LXBvbGljeS11cmw+JyAvLyBPcHRpb25hbFxuICAgIH07XG5cbiAgICAvLyBUaGUgc3RhcnQgbWV0aG9kIHdpbGwgd2FpdCB1bnRpbCB0aGUgRE9NIGlzIGxvYWRlZC5cbiAgICB1aS5zdGFydChcIiNmaXJlYmFzZXVpLWF1dGgtY29udGFpbmVyXCIsIHVpQ29uZmlnKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKFxuICAgICAgXCJGaXJlYmFzZVVJIG9yIEZpcmViYXNlIEF1dGggbm90IGxvYWRlZC4gQ2Fubm90IHN0YXJ0IEF1dGggVUkuXCJcbiAgICApO1xuICAgIHNob3dTdGF0dXMoXG4gICAgICBcIkVycmV1cjogSW1wb3NzaWJsZSBkJ2luaXRpYWxpc2VyIGxlIG1vZHVsZSBkJ2F1dGhlbnRpZmljYXRpb24uXCIsXG4gICAgICBcImRhbmdlclwiXG4gICAgKTtcbiAgfVxuICAvLyAtLS0gRW5kIEZpcmViYXNlVUkgQ29uZmlndXJhdGlvbiAtLS1cbn0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/app.js\n");

/***/ }),

/***/ "./src/js/mappings.js":
/*!****************************!*\
  !*** ./src/js/mappings.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   zoneNameMappings: () => (/* binding */ zoneNameMappings)\n/* harmony export */ });\n// js/mappings.js\n\n// Clés: noms de l'API (minuscules, underscore)\n// Valeurs: noms à afficher (format spécifié)\nconst zoneNameMappings = {\n  zone_au: \"Zone AU\",\n  zone_auc1: \"Zone AUC1\",\n  zone_auc2: \"Zone AUC2\",\n  zone_auc3: \"Zone AUC3\",\n  zone_aucru10: \"Zone AUCRU10\",\n  zone_aud1: \"Zone AUD1\",\n  zone_aud2: \"Zone AUD2\",\n  zone_aud3: \"Zone AUD3\",\n  zone_aud4: \"Zone AUD4\",\n  zone_aue1: \"Zone AUE1\",\n  zone_aup1r: \"Zone AUP1r\",\n  zone_a: \"Zone A\",\n  zone_al: \"Zone AL\",\n  zone_n: \"Zone N\",\n  zone_nl: \"Zone NL\",\n  zone_ue1: \"Zone UE1\",\n  zone_ue2: \"Zone UE2\",\n  zone_ue3: \"Zone UE3\",\n  zone_ue4: \"Zone UE4\",\n  zone_uv: \"Zone UV\",\n  zone_uz1: \"Zone UZ1\",\n  zone_uz2: \"Zone UZ2\",\n  zone_uz3: \"Zone UZ3\",\n  zone_uz4: \"Zone UZ4\",\n  zone_ua1: \"Zone UA1\",\n  zone_ua2: \"Zone UA2\",\n  zone_ua3: \"Zone UA3\",\n  zone_ub: \"Zone UB\",\n  zone_uc1: \"Zone UC1\",\n  zone_uc2: \"Zone UC2\",\n  zone_uc3: \"Zone UC3\",\n  zone_ucru1: \"Zone UCRU1\",\n  zone_ucru2: \"Zone UCRU2\",\n  zone_ucru3: \"Zone UCRU3\",\n  zone_ucru4: \"Zone UCRU4\",\n  zone_ucru5: \"Zone UCRU5\",\n  zone_ucru6: \"Zone UCRU6\",\n  zone_ucru7: \"Zone UCRU7\",\n  zone_ucru8: \"Zone UCRU8\",\n  zone_ucru9: \"Zone UCRU9\",\n  zone_ucru11: \"Zone UCRU11\",\n  zone_ud1: \"Zone UD1\",\n  zone_ud2: \"Zone UD2\",\n  zone_ud3: \"Zone UD3\",\n  zone_ud4: \"Zone UD4\",\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvbWFwcGluZ3MuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBOztBQUVBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL2pzL21hcHBpbmdzLmpzPzE0NjciXSwic291cmNlc0NvbnRlbnQiOlsiLy8ganMvbWFwcGluZ3MuanNcblxuLy8gQ2zDqXM6IG5vbXMgZGUgbCdBUEkgKG1pbnVzY3VsZXMsIHVuZGVyc2NvcmUpXG4vLyBWYWxldXJzOiBub21zIMOgIGFmZmljaGVyIChmb3JtYXQgc3DDqWNpZmnDqSlcbmV4cG9ydCBjb25zdCB6b25lTmFtZU1hcHBpbmdzID0ge1xuICB6b25lX2F1OiBcIlpvbmUgQVVcIixcbiAgem9uZV9hdWMxOiBcIlpvbmUgQVVDMVwiLFxuICB6b25lX2F1YzI6IFwiWm9uZSBBVUMyXCIsXG4gIHpvbmVfYXVjMzogXCJab25lIEFVQzNcIixcbiAgem9uZV9hdWNydTEwOiBcIlpvbmUgQVVDUlUxMFwiLFxuICB6b25lX2F1ZDE6IFwiWm9uZSBBVUQxXCIsXG4gIHpvbmVfYXVkMjogXCJab25lIEFVRDJcIixcbiAgem9uZV9hdWQzOiBcIlpvbmUgQVVEM1wiLFxuICB6b25lX2F1ZDQ6IFwiWm9uZSBBVUQ0XCIsXG4gIHpvbmVfYXVlMTogXCJab25lIEFVRTFcIixcbiAgem9uZV9hdXAxcjogXCJab25lIEFVUDFyXCIsXG4gIHpvbmVfYTogXCJab25lIEFcIixcbiAgem9uZV9hbDogXCJab25lIEFMXCIsXG4gIHpvbmVfbjogXCJab25lIE5cIixcbiAgem9uZV9ubDogXCJab25lIE5MXCIsXG4gIHpvbmVfdWUxOiBcIlpvbmUgVUUxXCIsXG4gIHpvbmVfdWUyOiBcIlpvbmUgVUUyXCIsXG4gIHpvbmVfdWUzOiBcIlpvbmUgVUUzXCIsXG4gIHpvbmVfdWU0OiBcIlpvbmUgVUU0XCIsXG4gIHpvbmVfdXY6IFwiWm9uZSBVVlwiLFxuICB6b25lX3V6MTogXCJab25lIFVaMVwiLFxuICB6b25lX3V6MjogXCJab25lIFVaMlwiLFxuICB6b25lX3V6MzogXCJab25lIFVaM1wiLFxuICB6b25lX3V6NDogXCJab25lIFVaNFwiLFxuICB6b25lX3VhMTogXCJab25lIFVBMVwiLFxuICB6b25lX3VhMjogXCJab25lIFVBMlwiLFxuICB6b25lX3VhMzogXCJab25lIFVBM1wiLFxuICB6b25lX3ViOiBcIlpvbmUgVUJcIixcbiAgem9uZV91YzE6IFwiWm9uZSBVQzFcIixcbiAgem9uZV91YzI6IFwiWm9uZSBVQzJcIixcbiAgem9uZV91YzM6IFwiWm9uZSBVQzNcIixcbiAgem9uZV91Y3J1MTogXCJab25lIFVDUlUxXCIsXG4gIHpvbmVfdWNydTI6IFwiWm9uZSBVQ1JVMlwiLFxuICB6b25lX3VjcnUzOiBcIlpvbmUgVUNSVTNcIixcbiAgem9uZV91Y3J1NDogXCJab25lIFVDUlU0XCIsXG4gIHpvbmVfdWNydTU6IFwiWm9uZSBVQ1JVNVwiLFxuICB6b25lX3VjcnU2OiBcIlpvbmUgVUNSVTZcIixcbiAgem9uZV91Y3J1NzogXCJab25lIFVDUlU3XCIsXG4gIHpvbmVfdWNydTg6IFwiWm9uZSBVQ1JVOFwiLFxuICB6b25lX3VjcnU5OiBcIlpvbmUgVUNSVTlcIixcbiAgem9uZV91Y3J1MTE6IFwiWm9uZSBVQ1JVMTFcIixcbiAgem9uZV91ZDE6IFwiWm9uZSBVRDFcIixcbiAgem9uZV91ZDI6IFwiWm9uZSBVRDJcIixcbiAgem9uZV91ZDM6IFwiWm9uZSBVRDNcIixcbiAgem9uZV91ZDQ6IFwiWm9uZSBVRDRcIixcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/js/mappings.js\n");

/***/ }),

/***/ "./src/js/ui.js":
/*!**********************!*\
  !*** ./src/js/ui.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   documentSpinner: () => (/* binding */ documentSpinner),\n/* harmony export */   downloadBtn: () => (/* binding */ downloadBtn),\n/* harmony export */   formatApiName: () => (/* binding */ formatApiName),\n/* harmony export */   populateSelect: () => (/* binding */ populateSelect),\n/* harmony export */   resetSelect: () => (/* binding */ resetSelect),\n/* harmony export */   showStatus: () => (/* binding */ showStatus),\n/* harmony export */   statusMessage: () => (/* binding */ statusMessage),\n/* harmony export */   toggleSpinner: () => (/* binding */ toggleSpinner),\n/* harmony export */   typologieSelect: () => (/* binding */ typologieSelect),\n/* harmony export */   typologieSpinner: () => (/* binding */ typologieSpinner),\n/* harmony export */   villeSelect: () => (/* binding */ villeSelect),\n/* harmony export */   villeSpinner: () => (/* binding */ villeSpinner),\n/* harmony export */   zonageSelect: () => (/* binding */ zonageSelect),\n/* harmony export */   zonageSpinner: () => (/* binding */ zonageSpinner),\n/* harmony export */   zoneSelect: () => (/* binding */ zoneSelect),\n/* harmony export */   zoneSpinner: () => (/* binding */ zoneSpinner)\n/* harmony export */ });\n/* harmony import */ var _mappings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mappings */ \"./src/js/mappings.js\");\n// public/js/ui.js\n\n// Import mappings needed for formatting\n\n\n// --- DOM Element References ---\nconst villeSelect = document.getElementById(\"villeSelect\");\nconst zonageSelect = document.getElementById(\"zonageSelect\");\nconst zoneSelect = document.getElementById(\"zoneSelect\");\nconst typologieSelect = document.getElementById(\"typologieSelect\");\nconst downloadBtn = document.getElementById(\"downloadBtn\");\nconst statusMessage = document.getElementById(\"statusMessage\");\n\n// Spinners (ensure these IDs exist in your index.html)\nconst villeSpinner = document.getElementById(\"villeSpinner\");\nconst zonageSpinner = document.getElementById(\"zonageSpinner\");\nconst zoneSpinner = document.getElementById(\"zoneSpinner\");\nconst typologieSpinner = document.getElementById(\"typologieSpinner\");\nconst documentSpinner = document.getElementById(\"documentSpinner\"); // For the final search/download button area\n// --- End DOM Element References ---\n\n// --- UI Utility Functions ---\n\n/**\n * Affiche un message de statut (et type: info, success, danger, warning)\n */\nfunction showStatus(message, type = \"info\") {\n  if (statusMessage) {\n    statusMessage.textContent = message;\n    // Ensure only one alert class is active at a time\n    statusMessage.className = `status-message alert alert-${type}`;\n    statusMessage.classList.remove(\"d-none\"); // Make sure it's visible\n  } else {\n    console.warn(\"Status message element not found.\");\n  }\n}\n\n/**\n * Affiche ou cache un spinner Bootstrap\n * @param spinnerElement L'élément SPAN du spinner\n * @param show True pour afficher, false pour cacher\n */\nfunction toggleSpinner(spinnerElement, show) {\n  if (spinnerElement) {\n    spinnerElement.classList.toggle(\"d-none\", !show);\n  } else {\n    // console.warn(\"Spinner element not found for toggling.\"); // Optional: log if spinner missing\n  }\n}\n\n/**\n * Réinitialise un élément select avec une option par défaut\n */\nfunction resetSelect(selectElement, defaultText) {\n  if (selectElement) {\n    selectElement.innerHTML = `<option value=\"\">${\n      defaultText || \"Sélectionnez une option\"\n    }</option>`;\n    selectElement.disabled = true; // Disable by default on reset\n  } else {\n    console.warn(\"Select element not found for reset.\");\n  }\n}\n\n/**\n * Formate un nom reçu de l'API (enlève underscores, capitalise)\n * Utilisé comme fallback si le mappage spécifique n'existe pas.\n */\nfunction formatApiName(name) {\n  if (!name) return \"\";\n  // Replace underscores with spaces, then capitalize the first letter of each word\n  return name.replace(/_/g, \" \").replace(/\\b\\w/g, (char) => char.toUpperCase());\n}\n\n/**\n * Peuple un sélecteur avec des options\n * @param selectElement L'élément select à remplir\n * @param data Tableau d'objets {id, nom}\n * @param defaultOptionText Texte de la première option désactivée\n * @param emptyDataText Texte si le tableau data est vide\n * @param dataType 'ville', 'zonage', 'zone', ou 'typologie' pour le formatage conditionnel\n */\nfunction populateSelect(\n  selectElement,\n  data,\n  defaultOptionText,\n  emptyDataText,\n  dataType // Used for conditional formatting (e.g., zones)\n) {\n  if (!selectElement) {\n    console.warn(\"Select element not found for population.\");\n    return false;\n  }\n\n  resetSelect(selectElement, defaultOptionText); // Reset first\n\n  if (!data || data.length === 0) {\n    selectElement.innerHTML = `<option value=\"\">${emptyDataText}</option>`;\n    selectElement.disabled = true;\n    return false; // Indicate no data was populated\n  }\n\n  data.forEach((item) => {\n    const option = document.createElement(\"option\");\n    option.value = item.id;\n\n    // --- Conditional Formatting Logic ---\n    let displayText = \"\";\n    // If it's a 'zone' and a mapping exists for its 'nom'\n    if (dataType === \"zone\" && _mappings__WEBPACK_IMPORTED_MODULE_0__.zoneNameMappings.hasOwnProperty(item.nom)) {\n      displayText = _mappings__WEBPACK_IMPORTED_MODULE_0__.zoneNameMappings[item.nom]; // Use the mapped name\n    } else {\n      // Otherwise, use the general formatting function\n      displayText = formatApiName(item.nom);\n    }\n    option.textContent = displayText; // Apply the chosen text\n\n    selectElement.appendChild(option);\n  });\n\n  selectElement.disabled = false; // Enable the select as it has options\n  return true; // Indicate data was populated\n}\n\n// --- End UI Utility Functions ---\n\n// --- Export Elements and Functions ---\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvdWkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQTtBQUM4Qzs7QUFFOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRTtBQUNwRTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxLQUFLO0FBQ2pFLDhDQUE4QztBQUM5QyxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osZ0VBQWdFO0FBQ2hFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsbUNBQW1DO0FBQ25DLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsaURBQWlEOztBQUVqRDtBQUNBLGtEQUFrRCxjQUFjO0FBQ2hFO0FBQ0Esa0JBQWtCO0FBQ2xCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsdURBQWdCO0FBQy9DLG9CQUFvQix1REFBZ0IsWUFBWTtBQUNoRCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0Esc0NBQXNDOztBQUV0QztBQUNBLEdBQUc7O0FBRUgsa0NBQWtDO0FBQ2xDLGVBQWU7QUFDZjs7QUFFQTs7QUFFQTtBQWtCRSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy91aS5qcz9hYWY3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIHB1YmxpYy9qcy91aS5qc1xuXG4vLyBJbXBvcnQgbWFwcGluZ3MgbmVlZGVkIGZvciBmb3JtYXR0aW5nXG5pbXBvcnQgeyB6b25lTmFtZU1hcHBpbmdzIH0gZnJvbSBcIi4vbWFwcGluZ3NcIjtcblxuLy8gLS0tIERPTSBFbGVtZW50IFJlZmVyZW5jZXMgLS0tXG5jb25zdCB2aWxsZVNlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlsbGVTZWxlY3RcIik7XG5jb25zdCB6b25hZ2VTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInpvbmFnZVNlbGVjdFwiKTtcbmNvbnN0IHpvbmVTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInpvbmVTZWxlY3RcIik7XG5jb25zdCB0eXBvbG9naWVTZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR5cG9sb2dpZVNlbGVjdFwiKTtcbmNvbnN0IGRvd25sb2FkQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkb3dubG9hZEJ0blwiKTtcbmNvbnN0IHN0YXR1c01lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXR1c01lc3NhZ2VcIik7XG5cbi8vIFNwaW5uZXJzIChlbnN1cmUgdGhlc2UgSURzIGV4aXN0IGluIHlvdXIgaW5kZXguaHRtbClcbmNvbnN0IHZpbGxlU3Bpbm5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidmlsbGVTcGlubmVyXCIpO1xuY29uc3Qgem9uYWdlU3Bpbm5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiem9uYWdlU3Bpbm5lclwiKTtcbmNvbnN0IHpvbmVTcGlubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ6b25lU3Bpbm5lclwiKTtcbmNvbnN0IHR5cG9sb2dpZVNwaW5uZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR5cG9sb2dpZVNwaW5uZXJcIik7XG5jb25zdCBkb2N1bWVudFNwaW5uZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRvY3VtZW50U3Bpbm5lclwiKTsgLy8gRm9yIHRoZSBmaW5hbCBzZWFyY2gvZG93bmxvYWQgYnV0dG9uIGFyZWFcbi8vIC0tLSBFbmQgRE9NIEVsZW1lbnQgUmVmZXJlbmNlcyAtLS1cblxuLy8gLS0tIFVJIFV0aWxpdHkgRnVuY3Rpb25zIC0tLVxuXG4vKipcbiAqIEFmZmljaGUgdW4gbWVzc2FnZSBkZSBzdGF0dXQgKGV0IHR5cGU6IGluZm8sIHN1Y2Nlc3MsIGRhbmdlciwgd2FybmluZylcbiAqL1xuZnVuY3Rpb24gc2hvd1N0YXR1cyhtZXNzYWdlLCB0eXBlID0gXCJpbmZvXCIpIHtcbiAgaWYgKHN0YXR1c01lc3NhZ2UpIHtcbiAgICBzdGF0dXNNZXNzYWdlLnRleHRDb250ZW50ID0gbWVzc2FnZTtcbiAgICAvLyBFbnN1cmUgb25seSBvbmUgYWxlcnQgY2xhc3MgaXMgYWN0aXZlIGF0IGEgdGltZVxuICAgIHN0YXR1c01lc3NhZ2UuY2xhc3NOYW1lID0gYHN0YXR1cy1tZXNzYWdlIGFsZXJ0IGFsZXJ0LSR7dHlwZX1gO1xuICAgIHN0YXR1c01lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZShcImQtbm9uZVwiKTsgLy8gTWFrZSBzdXJlIGl0J3MgdmlzaWJsZVxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2FybihcIlN0YXR1cyBtZXNzYWdlIGVsZW1lbnQgbm90IGZvdW5kLlwiKTtcbiAgfVxufVxuXG4vKipcbiAqIEFmZmljaGUgb3UgY2FjaGUgdW4gc3Bpbm5lciBCb290c3RyYXBcbiAqIEBwYXJhbSBzcGlubmVyRWxlbWVudCBMJ8OpbMOpbWVudCBTUEFOIGR1IHNwaW5uZXJcbiAqIEBwYXJhbSBzaG93IFRydWUgcG91ciBhZmZpY2hlciwgZmFsc2UgcG91ciBjYWNoZXJcbiAqL1xuZnVuY3Rpb24gdG9nZ2xlU3Bpbm5lcihzcGlubmVyRWxlbWVudCwgc2hvdykge1xuICBpZiAoc3Bpbm5lckVsZW1lbnQpIHtcbiAgICBzcGlubmVyRWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKFwiZC1ub25lXCIsICFzaG93KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBjb25zb2xlLndhcm4oXCJTcGlubmVyIGVsZW1lbnQgbm90IGZvdW5kIGZvciB0b2dnbGluZy5cIik7IC8vIE9wdGlvbmFsOiBsb2cgaWYgc3Bpbm5lciBtaXNzaW5nXG4gIH1cbn1cblxuLyoqXG4gKiBSw6lpbml0aWFsaXNlIHVuIMOpbMOpbWVudCBzZWxlY3QgYXZlYyB1bmUgb3B0aW9uIHBhciBkw6lmYXV0XG4gKi9cbmZ1bmN0aW9uIHJlc2V0U2VsZWN0KHNlbGVjdEVsZW1lbnQsIGRlZmF1bHRUZXh0KSB7XG4gIGlmIChzZWxlY3RFbGVtZW50KSB7XG4gICAgc2VsZWN0RWxlbWVudC5pbm5lckhUTUwgPSBgPG9wdGlvbiB2YWx1ZT1cIlwiPiR7XG4gICAgICBkZWZhdWx0VGV4dCB8fCBcIlPDqWxlY3Rpb25uZXogdW5lIG9wdGlvblwiXG4gICAgfTwvb3B0aW9uPmA7XG4gICAgc2VsZWN0RWxlbWVudC5kaXNhYmxlZCA9IHRydWU7IC8vIERpc2FibGUgYnkgZGVmYXVsdCBvbiByZXNldFxuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUud2FybihcIlNlbGVjdCBlbGVtZW50IG5vdCBmb3VuZCBmb3IgcmVzZXQuXCIpO1xuICB9XG59XG5cbi8qKlxuICogRm9ybWF0ZSB1biBub20gcmXDp3UgZGUgbCdBUEkgKGVubMOodmUgdW5kZXJzY29yZXMsIGNhcGl0YWxpc2UpXG4gKiBVdGlsaXPDqSBjb21tZSBmYWxsYmFjayBzaSBsZSBtYXBwYWdlIHNww6ljaWZpcXVlIG4nZXhpc3RlIHBhcy5cbiAqL1xuZnVuY3Rpb24gZm9ybWF0QXBpTmFtZShuYW1lKSB7XG4gIGlmICghbmFtZSkgcmV0dXJuIFwiXCI7XG4gIC8vIFJlcGxhY2UgdW5kZXJzY29yZXMgd2l0aCBzcGFjZXMsIHRoZW4gY2FwaXRhbGl6ZSB0aGUgZmlyc3QgbGV0dGVyIG9mIGVhY2ggd29yZFxuICByZXR1cm4gbmFtZS5yZXBsYWNlKC9fL2csIFwiIFwiKS5yZXBsYWNlKC9cXGJcXHcvZywgKGNoYXIpID0+IGNoYXIudG9VcHBlckNhc2UoKSk7XG59XG5cbi8qKlxuICogUGV1cGxlIHVuIHPDqWxlY3RldXIgYXZlYyBkZXMgb3B0aW9uc1xuICogQHBhcmFtIHNlbGVjdEVsZW1lbnQgTCfDqWzDqW1lbnQgc2VsZWN0IMOgIHJlbXBsaXJcbiAqIEBwYXJhbSBkYXRhIFRhYmxlYXUgZCdvYmpldHMge2lkLCBub219XG4gKiBAcGFyYW0gZGVmYXVsdE9wdGlvblRleHQgVGV4dGUgZGUgbGEgcHJlbWnDqHJlIG9wdGlvbiBkw6lzYWN0aXbDqWVcbiAqIEBwYXJhbSBlbXB0eURhdGFUZXh0IFRleHRlIHNpIGxlIHRhYmxlYXUgZGF0YSBlc3QgdmlkZVxuICogQHBhcmFtIGRhdGFUeXBlICd2aWxsZScsICd6b25hZ2UnLCAnem9uZScsIG91ICd0eXBvbG9naWUnIHBvdXIgbGUgZm9ybWF0YWdlIGNvbmRpdGlvbm5lbFxuICovXG5mdW5jdGlvbiBwb3B1bGF0ZVNlbGVjdChcbiAgc2VsZWN0RWxlbWVudCxcbiAgZGF0YSxcbiAgZGVmYXVsdE9wdGlvblRleHQsXG4gIGVtcHR5RGF0YVRleHQsXG4gIGRhdGFUeXBlIC8vIFVzZWQgZm9yIGNvbmRpdGlvbmFsIGZvcm1hdHRpbmcgKGUuZy4sIHpvbmVzKVxuKSB7XG4gIGlmICghc2VsZWN0RWxlbWVudCkge1xuICAgIGNvbnNvbGUud2FybihcIlNlbGVjdCBlbGVtZW50IG5vdCBmb3VuZCBmb3IgcG9wdWxhdGlvbi5cIik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmVzZXRTZWxlY3Qoc2VsZWN0RWxlbWVudCwgZGVmYXVsdE9wdGlvblRleHQpOyAvLyBSZXNldCBmaXJzdFxuXG4gIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA9PT0gMCkge1xuICAgIHNlbGVjdEVsZW1lbnQuaW5uZXJIVE1MID0gYDxvcHRpb24gdmFsdWU9XCJcIj4ke2VtcHR5RGF0YVRleHR9PC9vcHRpb24+YDtcbiAgICBzZWxlY3RFbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7IC8vIEluZGljYXRlIG5vIGRhdGEgd2FzIHBvcHVsYXRlZFxuICB9XG5cbiAgZGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICBvcHRpb24udmFsdWUgPSBpdGVtLmlkO1xuXG4gICAgLy8gLS0tIENvbmRpdGlvbmFsIEZvcm1hdHRpbmcgTG9naWMgLS0tXG4gICAgbGV0IGRpc3BsYXlUZXh0ID0gXCJcIjtcbiAgICAvLyBJZiBpdCdzIGEgJ3pvbmUnIGFuZCBhIG1hcHBpbmcgZXhpc3RzIGZvciBpdHMgJ25vbSdcbiAgICBpZiAoZGF0YVR5cGUgPT09IFwiem9uZVwiICYmIHpvbmVOYW1lTWFwcGluZ3MuaGFzT3duUHJvcGVydHkoaXRlbS5ub20pKSB7XG4gICAgICBkaXNwbGF5VGV4dCA9IHpvbmVOYW1lTWFwcGluZ3NbaXRlbS5ub21dOyAvLyBVc2UgdGhlIG1hcHBlZCBuYW1lXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE90aGVyd2lzZSwgdXNlIHRoZSBnZW5lcmFsIGZvcm1hdHRpbmcgZnVuY3Rpb25cbiAgICAgIGRpc3BsYXlUZXh0ID0gZm9ybWF0QXBpTmFtZShpdGVtLm5vbSk7XG4gICAgfVxuICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGRpc3BsYXlUZXh0OyAvLyBBcHBseSB0aGUgY2hvc2VuIHRleHRcblxuICAgIHNlbGVjdEVsZW1lbnQuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgfSk7XG5cbiAgc2VsZWN0RWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlOyAvLyBFbmFibGUgdGhlIHNlbGVjdCBhcyBpdCBoYXMgb3B0aW9uc1xuICByZXR1cm4gdHJ1ZTsgLy8gSW5kaWNhdGUgZGF0YSB3YXMgcG9wdWxhdGVkXG59XG5cbi8vIC0tLSBFbmQgVUkgVXRpbGl0eSBGdW5jdGlvbnMgLS0tXG5cbi8vIC0tLSBFeHBvcnQgRWxlbWVudHMgYW5kIEZ1bmN0aW9ucyAtLS1cbmV4cG9ydCB7XG4gIHZpbGxlU2VsZWN0LFxuICB6b25hZ2VTZWxlY3QsXG4gIHpvbmVTZWxlY3QsXG4gIHR5cG9sb2dpZVNlbGVjdCxcbiAgZG93bmxvYWRCdG4sXG4gIHN0YXR1c01lc3NhZ2UsXG4gIHZpbGxlU3Bpbm5lcixcbiAgem9uYWdlU3Bpbm5lcixcbiAgem9uZVNwaW5uZXIsXG4gIHR5cG9sb2dpZVNwaW5uZXIsXG4gIGRvY3VtZW50U3Bpbm5lcixcbiAgc2hvd1N0YXR1cyxcbiAgdG9nZ2xlU3Bpbm5lcixcbiAgcmVzZXRTZWxlY3QsXG4gIGZvcm1hdEFwaU5hbWUsXG4gIHBvcHVsYXRlU2VsZWN0LFxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/js/ui.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/js/app.js");
/******/ 	
/******/ })()
;