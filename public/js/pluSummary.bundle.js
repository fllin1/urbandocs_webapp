(()=>{"use strict";var e,t,n,r,o,a={5852:(e,t,n)=>{var r=n(9660),o=n(9251),a=n(2387);let i=null,c=null,d=null,l=[],s=null;async function u(){try{const{data:e,error:t}=await r.N.from("ratings").select("rating, user_id").eq("document_id",c.id);if(t)throw t;if(l=e||[],l.length>0){const e=l.reduce(((e,t)=>e+t.rating),0)/l.length;document.getElementById("average-rating").textContent=e.toFixed(1),document.getElementById("rating-count").textContent=l.length;const t=function(e){const t={1:0,2:0,3:0,4:0,5:0};return e.forEach((e=>{t[e.rating]++})),t}(l);m(t);const n=l.find((e=>e.user_id===i.id));s=n?n.rating:null}else document.getElementById("average-rating").textContent="0",document.getElementById("rating-count").textContent="0",m({1:0,2:0,3:0,4:0,5:0}),s=null;y()}catch(e){console.error("Error loading ratings:",e)}}function m(e){const t=l.length||1;for(let n=1;n<=5;n++){const r=e[n]/t*100;document.getElementById(`rating-${n}`).style.width=`${r}%`,document.getElementById(`rating-${n}-percent`).textContent=`${Math.round(r)}%`}}async function g(){try{const{data:e,error:t}=await r.N.from("comments").select("*").eq("document_id",c.id).order("created_at",{ascending:!1});if(t)throw t;if(0===e.length)return void p([]);const n=[...new Set(e.map((e=>e.user_id)))],{data:o,error:a}=await r.N.from("profiles").select("id, full_name, avatar_url").in("id",n);if(a)return console.warn("Could not fetch profiles:",a),void p(e.map((e=>({...e,profiles:null}))));const i=o.reduce(((e,t)=>(e[t.id]=t,e)),{});p(e.map((e=>({...e,profiles:i[e.user_id]||null}))))}catch(e){console.error("Error loading comments:",e),p([])}}function p(e){const t=document.getElementById("comments-list");t.innerHTML="",0!==e.length?e.forEach((e=>{const n=function(e){const t=document.createElement("div");t.className="comment",t.dataset.commentId=e.id;const n=e.user_id===i.id,r=e.profiles?.full_name||"Utilisateur anonyme",o=e.profiles?.avatar_url||"assets/icons/default-avatar.svg",a=new Date(e.created_at).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),c=document.createElement("div");c.className="comment-header";const d=document.createElement("div");d.style.display="flex",d.style.alignItems="center",d.style.gap="1rem",d.innerHTML=`\n    <img src="${o}" alt="${r}" class="comment-avatar">\n    <div class="comment-meta">\n      <div class="comment-author">${r}</div>\n      <div class="comment-date">${a}${e.updated_at!==e.created_at?" (modifié)":""}</div>\n    </div>\n  `,c.appendChild(d),t.appendChild(c);const l=document.createElement("div");if(l.className="comment-content",l.textContent=e.content,t.appendChild(l),n){const n=document.createElement("div");n.className="comment-actions",n.innerHTML=`\n      <button class="comment-action edit-comment" data-id="${e.id}">\n        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n          <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>\n          <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>\n        </svg>\n        Modifier\n      </button>\n      <button class="comment-action delete-comment" data-id="${e.id}">\n        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n          <polyline points="3 6 5 6 21 6"></polyline>\n          <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>\n        </svg>\n        Supprimer\n      </button>\n    `,t.appendChild(n)}return t}(e);t.appendChild(n)})):t.innerHTML='<p style="text-align: center; color: var(--text-gray); padding: 2rem;">Aucun commentaire pour le moment. Soyez le premier à commenter!</p>'}function f(e){const t=e.target.dataset.tab;document.querySelectorAll(".tab-btn").forEach((e=>{e.classList.toggle("active",e.dataset.tab===t)})),document.getElementById("synthese-tab").style.display="synthese"===t?"block":"none",document.getElementById("commentaires-tab").style.display="commentaires"===t?"block":"none",document.getElementById("sources-tab").style.display="sources"===t?"block":"none"}function y(){const e=document.querySelectorAll("#user-rating .star-btn");if(s)e.forEach(((e,t)=>{e.classList.toggle("selected",t<s),e.classList.remove("hovered"),e.setAttribute("data-star-type","full")}));else{const t=parseFloat(document.getElementById("average-rating").textContent);!isNaN(t)&&t>0?displayAverageRating(t):e.forEach((e=>{e.classList.remove("selected","hovered"),e.setAttribute("data-star-type","empty")}))}}async function h(e){const t=parseInt(e.target.dataset.rating);if(s!==t)try{const{data:e}=await r.N.from("ratings").select("id").eq("document_id",c.id).eq("user_id",i.id).single();e?await r.N.from("ratings").update({rating:t,updated_at:(new Date).toISOString()}).eq("id",e.id):await r.N.from("ratings").insert({document_id:c.id,user_id:i.id,rating:t}),s=t,await u()}catch(e){console.error("Error rating document:",e),alert("Erreur lors de l'enregistrement de votre note")}else try{const{error:e}=await r.N.from("ratings").delete().eq("document_id",c.id).eq("user_id",i.id);if(e)throw e;s=null,await u()}catch(e){console.error("Error removing rating:",e),alert("Erreur lors de la suppression de votre note")}}async function v(){try{console.log("PDF storage path:",c.pdf_storage_path);const e=c.pdf_storage_path.replace(/^\//,""),{data:t,error:n}=await r.N.storage.from("pdfs").createSignedUrl(e,60,{download:!0});if(n)throw console.error("URL Error details:",n),n;await r.N.from("downloads").insert({document_id:c.id,user_id:i.id});const o=document.createElement("a");o.href=t.signedUrl,o.download=`PLU_${c.zoning.city.name}_${c.zone.name}.pdf`,document.body.appendChild(o),o.click(),document.body.removeChild(o)}catch(e){console.error("Error downloading document:",e),e.message&&e.message.includes("Object not found")?alert("Le fichier PDF n'a pas été trouvé. Veuillez contacter l'administrateur."):alert("Erreur lors du téléchargement")}}async function E(){const e=document.getElementById("comment-input").value.trim();if(e)try{const{error:t}=await r.N.from("comments").insert({document_id:c.id,user_id:i.id,content:e});if(t)throw t;document.getElementById("comment-input").value="",await g()}catch(e){console.error("Error submitting comment:",e),alert("Erreur lors de la publication du commentaire")}else alert("Veuillez entrer un commentaire")}function b(e){const t=e.target.closest(".edit-comment"),n=e.target.closest(".delete-comment");t?async function(e){d=e;const{data:t}=await r.N.from("comments").select("content").eq("id",e).single();document.getElementById("edit-comment-input").value=t.content,document.getElementById("edit-modal").style.display="flex"}(t.dataset.id):n&&async function(e){if(confirm("Êtes-vous sûr de vouloir supprimer ce commentaire?"))try{const{data:t,error:n}=await r.N.rpc("soft_delete_comment",{comment_id:e,user_id:i.id});if(n)throw n;alert("Commentaire supprimé. Il sera définitivement supprimé dans 30 jours. Contactez le support si vous souhaitez le récupérer."),await g()}catch(e){console.error("Error deleting comment:",e),alert("Erreur lors de la suppression")}}(n.dataset.id)}function w(){document.getElementById("edit-modal").style.display="none",d=null}async function _(){const e=document.getElementById("edit-comment-input").value.trim();if(e)try{await r.N.from("comments").update({content:e,updated_at:(new Date).toISOString()}).eq("id",d),w(),await g()}catch(e){console.error("Error updating comment:",e),alert("Erreur lors de la modification")}else alert("Le commentaire ne peut pas être vide")}async function I(){await r.N.auth.signOut(),window.location.href="/auth/login"}function B(e){document.getElementById("loading-state").style.display="none",document.getElementById("error-message").textContent=e,document.getElementById("error-state").style.display="flex"}document.addEventListener("DOMContentLoaded",(async()=>{try{if(!await(0,a.Kv)(!1))return;(0,o.Mt)();const{data:{user:e}}=await r.N.auth.getUser();if(!e)return void(window.location.href="/auth/login");i=e;const t=new URLSearchParams(window.location.search).get("id");if(!t)return void B("Aucun document spécifié");await async function(e){try{const{data:t,error:n}=await r.N.from("documents").select("\n          id,\n          zoning:zonings(name, city:cities(name)),\n          zone:zones(name),\n          html_content,\n          pdf_storage_path,\n          source_plu_date,\n          source_plu_url\n        ").eq("id",e).single();if(n)throw n;c=t,function(e){const t=(a=e.zoning.city.name)?a.replace(/\b\w/g,(e=>e.toUpperCase())):a,n=e.zone.name,r=e.source_plu_date?new Date(e.source_plu_date).toLocaleDateString("fr-FR",{year:"numeric",month:"long"}):"Date inconnue",o=document.getElementById("city-breadcrumb");var a;o.textContent=t,o.href=`/city?name=${encodeURIComponent(e.zoning.city.name)}`,document.getElementById("zone-breadcrumb").textContent=`Zone ${n}`,document.getElementById("document-title").textContent=`Synthèse du PLU de ${t} pour la zone ${n}`,document.getElementById("document-subtitle").textContent=`Basé sur le PLU de ${r}`}(t),document.getElementById("plu-content").innerHTML=t.html_content,await u(),await g(),t.source_plu_url&&(document.getElementById("source-plu-link").href=t.source_plu_url),document.getElementById("loading-state").style.display="none",document.getElementById("document-content").style.display="block"}catch(e){console.error("Error loading document:",e),B("Impossible de charger le document")}}(t),function(){document.querySelectorAll(".tab-btn").forEach((e=>{e.addEventListener("click",f)})),document.querySelectorAll("#user-rating .star-btn").forEach((e=>{e.addEventListener("click",h)})),document.querySelectorAll("#user-rating .star-btn").forEach(((e,t)=>{e.addEventListener("mouseenter",(()=>{return e=t+1,void document.querySelectorAll("#user-rating .star-btn").forEach(((t,n)=>{n<e?t.classList.add("hovered"):t.classList.remove("hovered")}));var e}))})),document.getElementById("user-rating").addEventListener("mouseleave",(()=>{y()})),document.getElementById("download-btn").addEventListener("click",v),document.getElementById("submit-comment").addEventListener("click",E),document.getElementById("comments-list").addEventListener("click",b),document.querySelector(".modal-close").addEventListener("click",w),document.getElementById("cancel-edit").addEventListener("click",w),document.getElementById("save-edit").addEventListener("click",_);const e=document.getElementById("logout-btn");e&&e.addEventListener("click",I)}(),function(){const e=document.getElementById("back-to-top");window.addEventListener("scroll",(()=>{window.scrollY>300?e.classList.add("visible"):e.classList.remove("visible")})),e.addEventListener("click",(()=>{window.scrollTo({top:0,behavior:"smooth"})}))}()}catch(e){console.error("Error initializing PLU summary page:",e),B("Erreur lors de l'initialisation de la page")}}))}},i={};function c(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return a[e].call(n.exports,n,n.exports,c),n.exports}c.m=a,e=[],c.O=(t,n,r,o)=>{if(!n){var a=1/0;for(s=0;s<e.length;s++){for(var[n,r,o]=e[s],i=!0,d=0;d<n.length;d++)(!1&o||a>=o)&&Object.keys(c.O).every((e=>c.O[e](n[d])))?n.splice(d--,1):(i=!1,o<a&&(a=o));if(i){e.splice(s--,1);var l=r();void 0!==l&&(t=l)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[n,r,o]},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,c.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var o=Object.create(null);c.r(o);var a={};t=t||[null,n({}),n([]),n(n)];for(var i=2&r&&e;"object"==typeof i&&!~t.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,c.d(o,a),o},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=e=>Promise.all(Object.keys(c.f).reduce(((t,n)=>(c.f[n](e,t),t)),[])),c.u=e=>"js/"+e+".bundle.js",c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},o="urbandocs_webapp:",c.l=(e,t,n,a)=>{if(r[e])r[e].push(t);else{var i,d;if(void 0!==n)for(var l=document.getElementsByTagName("script"),s=0;s<l.length;s++){var u=l[s];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==o+n){i=u;break}}i||(d=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.setAttribute("data-webpack",o+n),i.src=e),r[e]=[t];var m=(t,n)=>{i.onerror=i.onload=null,clearTimeout(g);var o=r[e];if(delete r[e],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(n))),t)return t(n)},g=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),d&&document.head.appendChild(i)}},c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.j=628,(()=>{var e;c.g.importScripts&&(e=c.g.location+"");var t=c.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),c.p=e+"../"})(),(()=>{var e={628:0};c.f.j=(t,n)=>{var r=c.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var a=c.p+c.u(t),i=new Error;c.l(a,(n=>{if(c.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",i.name="ChunkLoadError",i.type=o,i.request=a,r[1](i)}}),"chunk-"+t,t)}},c.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[a,i,d]=n,l=0;if(a.some((t=>0!==e[t]))){for(r in i)c.o(i,r)&&(c.m[r]=i[r]);if(d)var s=d(c)}for(t&&t(n);l<a.length;l++)o=a[l],c.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return c.O(s)},n=self.webpackChunkurbandocs_webapp=self.webpackChunkurbandocs_webapp||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var d=c.O(void 0,[76],(()=>c(5852)));d=c.O(d)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FDaEI2SixFQUFvQnNDLEVBQUVrRCxFQUFpQjlDLElBQVk4QyxFQUFnQjlDLElBQ3JFOEMsRUFBZ0I5QyxHQUFTLEtBRTFCOEMsRUFBZ0I5QyxHQUFXLEVBRTVCLE9BQU8xQyxFQUFvQlMsRUFBRUMsSUFHMUIyRixFQUFxQkMsS0FBbUMsNkJBQUlBLEtBQW1DLDhCQUFLLEdBQ3hHRCxFQUFtQjNRLFFBQVFzUSxFQUFxQnBCLEtBQUssS0FBTSxJQUMzRHlCLEVBQW1CN0MsS0FBT3dDLEVBQXFCcEIsS0FBSyxLQUFNeUIsRUFBbUI3QyxLQUFLb0IsS0FBS3lCLEcsS0NsRnZGLElBQUlFLEVBQXNCdkcsRUFBb0JTLE9BQUVOLEVBQVcsQ0FBQyxLQUFLLElBQU9ILEVBQW9CLFFBQzVGdUcsRUFBc0J2RyxFQUFvQlMsRUFBRThGLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91cmJhbmRvY3Nfd2ViYXBwL3dlYnBhY2svcnVudGltZS9jaHVuayBsb2FkZWQiLCJ3ZWJwYWNrOi8vdXJiYW5kb2NzX3dlYmFwcC93ZWJwYWNrL3J1bnRpbWUvY3JlYXRlIGZha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly91cmJhbmRvY3Nfd2ViYXBwL3dlYnBhY2svcnVudGltZS9sb2FkIHNjcmlwdCIsIndlYnBhY2s6Ly91cmJhbmRvY3Nfd2ViYXBwLy4vc3JjL2pzL3BsdS1zdW1tYXJ5LmpzIiwid2VicGFjazovL3VyYmFuZG9jc193ZWJhcHAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdXJiYW5kb2NzX3dlYmFwcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdXJiYW5kb2NzX3dlYmFwcC93ZWJwYWNrL3J1bnRpbWUvZW5zdXJlIGNodW5rIiwid2VicGFjazovL3VyYmFuZG9jc193ZWJhcHAvd2VicGFjay9ydW50aW1lL2dldCBqYXZhc2NyaXB0IGNodW5rIGZpbGVuYW1lIiwid2VicGFjazovL3VyYmFuZG9jc193ZWJhcHAvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly91cmJhbmRvY3Nfd2ViYXBwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdXJiYW5kb2NzX3dlYmFwcC93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3VyYmFuZG9jc193ZWJhcHAvd2VicGFjay9ydW50aW1lL3J1bnRpbWVJZCIsIndlYnBhY2s6Ly91cmJhbmRvY3Nfd2ViYXBwL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3VyYmFuZG9jc193ZWJhcHAvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vdXJiYW5kb2NzX3dlYmFwcC93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRlZmVycmVkID0gW107XG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8gPSAocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSA9PiB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV0gPSBkZWZlcnJlZFtpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNodW5rSWRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRpZiAoKHByaW9yaXR5ICYgMSA9PT0gMCB8fCBub3RGdWxmaWxsZWQgPj0gcHJpb3JpdHkpICYmIE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uTykuZXZlcnkoKGtleSkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKSkpKSB7XG5cdFx0XHRcdGNodW5rSWRzLnNwbGljZShqLS0sIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0XHRcdGlmKHByaW9yaXR5IDwgbm90RnVsZmlsbGVkKSBub3RGdWxmaWxsZWQgPSBwcmlvcml0eTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZC5zcGxpY2UoaS0tLCAxKVxuXHRcdFx0dmFyIHIgPSBmbigpO1xuXHRcdFx0aWYgKHIgIT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn07IiwidmFyIGdldFByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mID8gKG9iaikgPT4gKE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopKSA6IChvYmopID0+IChvYmouX19wcm90b19fKTtcbnZhciBsZWFmUHJvdG90eXBlcztcbi8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLy8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4vLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbi8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLy8gbW9kZSAmIDE2OiByZXR1cm4gdmFsdWUgd2hlbiBpdCdzIFByb21pc2UtbGlrZVxuLy8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuX193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcblx0aWYobW9kZSAmIDEpIHZhbHVlID0gdGhpcyh2YWx1ZSk7XG5cdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG5cdGlmKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUpIHtcblx0XHRpZigobW9kZSAmIDQpICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcblx0XHRpZigobW9kZSAmIDE2KSAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHZhbHVlO1xuXHR9XG5cdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG5cdHZhciBkZWYgPSB7fTtcblx0bGVhZlByb3RvdHlwZXMgPSBsZWFmUHJvdG90eXBlcyB8fCBbbnVsbCwgZ2V0UHJvdG8oe30pLCBnZXRQcm90byhbXSksIGdldFByb3RvKGdldFByb3RvKV07XG5cdGZvcih2YXIgY3VycmVudCA9IG1vZGUgJiAyICYmIHZhbHVlOyB0eXBlb2YgY3VycmVudCA9PSAnb2JqZWN0JyAmJiAhfmxlYWZQcm90b3R5cGVzLmluZGV4T2YoY3VycmVudCk7IGN1cnJlbnQgPSBnZXRQcm90byhjdXJyZW50KSkge1xuXHRcdE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGN1cnJlbnQpLmZvckVhY2goKGtleSkgPT4gKGRlZltrZXldID0gKCkgPT4gKHZhbHVlW2tleV0pKSk7XG5cdH1cblx0ZGVmWydkZWZhdWx0J10gPSAoKSA9PiAodmFsdWUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGRlZik7XG5cdHJldHVybiBucztcbn07IiwidmFyIGluUHJvZ3Jlc3MgPSB7fTtcbnZhciBkYXRhV2VicGFja1ByZWZpeCA9IFwidXJiYW5kb2NzX3dlYmFwcDpcIjtcbi8vIGxvYWRTY3JpcHQgZnVuY3Rpb24gdG8gbG9hZCBhIHNjcmlwdCB2aWEgc2NyaXB0IHRhZ1xuX193ZWJwYWNrX3JlcXVpcmVfXy5sID0gKHVybCwgZG9uZSwga2V5LCBjaHVua0lkKSA9PiB7XG5cdGlmKGluUHJvZ3Jlc3NbdXJsXSkgeyBpblByb2dyZXNzW3VybF0ucHVzaChkb25lKTsgcmV0dXJuOyB9XG5cdHZhciBzY3JpcHQsIG5lZWRBdHRhY2g7XG5cdGlmKGtleSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc2NyaXB0cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIHMgPSBzY3JpcHRzW2ldO1xuXHRcdFx0aWYocy5nZXRBdHRyaWJ1dGUoXCJzcmNcIikgPT0gdXJsIHx8IHMuZ2V0QXR0cmlidXRlKFwiZGF0YS13ZWJwYWNrXCIpID09IGRhdGFXZWJwYWNrUHJlZml4ICsga2V5KSB7IHNjcmlwdCA9IHM7IGJyZWFrOyB9XG5cdFx0fVxuXHR9XG5cdGlmKCFzY3JpcHQpIHtcblx0XHRuZWVkQXR0YWNoID0gdHJ1ZTtcblx0XHRzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcblxuXHRcdHNjcmlwdC5jaGFyc2V0ID0gJ3V0Zi04Jztcblx0XHRzY3JpcHQudGltZW91dCA9IDEyMDtcblx0XHRpZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5uYykge1xuXHRcdFx0c2NyaXB0LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIF9fd2VicGFja19yZXF1aXJlX18ubmMpO1xuXHRcdH1cblx0XHRzY3JpcHQuc2V0QXR0cmlidXRlKFwiZGF0YS13ZWJwYWNrXCIsIGRhdGFXZWJwYWNrUHJlZml4ICsga2V5KTtcblxuXHRcdHNjcmlwdC5zcmMgPSB1cmw7XG5cdH1cblx0aW5Qcm9ncmVzc1t1cmxdID0gW2RvbmVdO1xuXHR2YXIgb25TY3JpcHRDb21wbGV0ZSA9IChwcmV2LCBldmVudCkgPT4ge1xuXHRcdC8vIGF2b2lkIG1lbSBsZWFrcyBpbiBJRS5cblx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBudWxsO1xuXHRcdGNsZWFyVGltZW91dCh0aW1lb3V0KTtcblx0XHR2YXIgZG9uZUZucyA9IGluUHJvZ3Jlc3NbdXJsXTtcblx0XHRkZWxldGUgaW5Qcm9ncmVzc1t1cmxdO1xuXHRcdHNjcmlwdC5wYXJlbnROb2RlICYmIHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG5cdFx0ZG9uZUZucyAmJiBkb25lRm5zLmZvckVhY2goKGZuKSA9PiAoZm4oZXZlbnQpKSk7XG5cdFx0aWYocHJldikgcmV0dXJuIHByZXYoZXZlbnQpO1xuXHR9XG5cdHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChvblNjcmlwdENvbXBsZXRlLmJpbmQobnVsbCwgdW5kZWZpbmVkLCB7IHR5cGU6ICd0aW1lb3V0JywgdGFyZ2V0OiBzY3JpcHQgfSksIDEyMDAwMCk7XG5cdHNjcmlwdC5vbmVycm9yID0gb25TY3JpcHRDb21wbGV0ZS5iaW5kKG51bGwsIHNjcmlwdC5vbmVycm9yKTtcblx0c2NyaXB0Lm9ubG9hZCA9IG9uU2NyaXB0Q29tcGxldGUuYmluZChudWxsLCBzY3JpcHQub25sb2FkKTtcblx0bmVlZEF0dGFjaCAmJiBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHNjcmlwdCk7XG59OyIsIi8vIHNyYy9qcy9wbHUtc3VtbWFyeS5qc1xuLyoqXG4gKiBQTFUgU3VtbWFyeSAtIFJlZGVzaWduZWRcbiAqIEBtb2R1bGUgcGx1LXN1bW1hcnlcbiAqIEBkZXNjcmlwdGlvbiBUaGlzIG1vZHVsZSBoYW5kbGVzIHRoZSBQTFUgc3VtbWFyeSBwYWdlIHdpdGggbmV3IGRlc2lnbi5cbiAqIEB2ZXJzaW9uIDAuMS4wXG4gKiBAYXV0aG9yIEdyZXlQYW5kYVxuICpcbiAqIEBjaGFuZ2Vsb2dcbiAqIC0gMC4xLjAgKDIwMjUtMDEtMjkpOiBDb21wbGV0ZSByZWRlc2lnbiB3aXRoIG5ldyB0YWIgc3RydWN0dXJlIGFuZCBzdHlsaW5nXG4gKiAtIDAuMC4zICgyMDI1LTAxLTI3KTogQWRkZWQgaGVhZGVyIGF1dGhlbnRpY2F0aW9uIGZvciBkeW5hbWljIGhlYWRlciB1cGRhdGVzXG4gKiAtIDAuMC4yICgyMDI1LTA1LTI3KTogUmV3b3JrIFVJLlxuICogLSAwLjAuMSAoMjAyNS0wNS0xNik6IEluaXRpYWwgdmVyc2lvbiB3aXRoIGJhc2ljIFBMVSBzdW1tYXJ5IHBhZ2UuXG4gKi9cblxuaW1wb3J0IHsgc3VwYWJhc2UgfSBmcm9tIFwiLi9zdXBhYmFzZS1jbGllbnQuanNcIjtcbmltcG9ydCB7IGluaXRIZWFkZXJBdXRoIH0gZnJvbSBcIi4vYXV0aC9oZWFkZXItYXV0aC5qc1wiO1xuaW1wb3J0IHsgaW5pdERlbGV0aW9uR3VhcmQgfSBmcm9tIFwiLi9hdXRoL2RlbGV0aW9uLWd1YXJkLmpzXCI7XG5cbi8vIEdsb2JhbCB2YXJpYWJsZXNcbmxldCBjdXJyZW50VXNlciA9IG51bGw7XG5sZXQgY3VycmVudERvY3VtZW50ID0gbnVsbDtcbmxldCBjdXJyZW50Q29tbWVudElkID0gbnVsbDtcbmxldCByYXRpbmdzRGF0YSA9IFtdO1xubGV0IHVzZXJDdXJyZW50UmF0aW5nID0gbnVsbDtcblxuLy8gSW5pdGlhbGl6ZSBwYWdlXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgLy8gSW5pdGlhbGl6ZSBkZWxldGlvbiBndWFyZCBmaXJzdCAoYmxvY2tzIGFjY2VzcyBpZiBuZWVkZWQpXG4gICAgY29uc3QgY2FuQWNjZXNzID0gYXdhaXQgaW5pdERlbGV0aW9uR3VhcmQoZmFsc2UpO1xuICAgIGlmICghY2FuQWNjZXNzKSB7XG4gICAgICByZXR1cm47IC8vIEFjY2VzcyB3YXMgYmxvY2tlZCwgc3RvcCBpbml0aWFsaXphdGlvblxuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemUgaGVhZGVyIGF1dGhlbnRpY2F0aW9uXG4gICAgaW5pdEhlYWRlckF1dGgoKTtcblxuICAgIC8vIENoZWNrIGF1dGhlbnRpY2F0aW9uXG4gICAgY29uc3Qge1xuICAgICAgZGF0YTogeyB1c2VyIH0sXG4gICAgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuICAgIGlmICghdXNlcikge1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9hdXRoL2xvZ2luXCI7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRVc2VyID0gdXNlcjtcblxuICAgIC8vIEdldCBkb2N1bWVudCBJRCBmcm9tIFVSTFxuICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gICAgY29uc3QgZG9jdW1lbnRJZCA9IHVybFBhcmFtcy5nZXQoXCJpZFwiKTtcblxuICAgIGlmICghZG9jdW1lbnRJZCkge1xuICAgICAgc2hvd0Vycm9yKFwiQXVjdW4gZG9jdW1lbnQgc3DDqWNpZmnDqVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBMb2FkIGRvY3VtZW50XG4gICAgYXdhaXQgbG9hZERvY3VtZW50KGRvY3VtZW50SWQpO1xuXG4gICAgLy8gU2V0dXAgZXZlbnQgbGlzdGVuZXJzXG4gICAgc2V0dXBFdmVudExpc3RlbmVycygpO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBiYWNrIHRvIHRvcCBmdW5jdGlvbmFsaXR5XG4gICAgaW5pdEJhY2tUb1RvcCgpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbml0aWFsaXppbmcgUExVIHN1bW1hcnkgcGFnZTpcIiwgZXJyb3IpO1xuICAgIHNob3dFcnJvcihcIkVycmV1ciBsb3JzIGRlIGwnaW5pdGlhbGlzYXRpb24gZGUgbGEgcGFnZVwiKTtcbiAgfVxufSk7XG5cbi8vIExvYWQgZG9jdW1lbnQgZnJvbSBTdXBhYmFzZVxuYXN5bmMgZnVuY3Rpb24gbG9hZERvY3VtZW50KGRvY3VtZW50SWQpIHtcbiAgdHJ5IHtcbiAgICAvLyBGZXRjaCBkb2N1bWVudCB3aXRoIHJlbGF0ZWQgZGF0YVxuICAgIGNvbnN0IHsgZGF0YTogZG9jdW1lbnREYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwiZG9jdW1lbnRzXCIpXG4gICAgICAuc2VsZWN0KFxuICAgICAgICBgXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgem9uaW5nOnpvbmluZ3MobmFtZSwgY2l0eTpjaXRpZXMobmFtZSkpLFxuICAgICAgICAgIHpvbmU6em9uZXMobmFtZSksXG4gICAgICAgICAgaHRtbF9jb250ZW50LFxuICAgICAgICAgIHBkZl9zdG9yYWdlX3BhdGgsXG4gICAgICAgICAgc291cmNlX3BsdV9kYXRlLFxuICAgICAgICAgIHNvdXJjZV9wbHVfdXJsXG4gICAgICAgIGBcbiAgICAgIClcbiAgICAgIC5lcShcImlkXCIsIGRvY3VtZW50SWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgY3VycmVudERvY3VtZW50ID0gZG9jdW1lbnREYXRhO1xuXG4gICAgLy8gVXBkYXRlIFVJIHdpdGggZG9jdW1lbnQgaW5mb1xuICAgIHVwZGF0ZURvY3VtZW50SW5mbyhkb2N1bWVudERhdGEpO1xuXG4gICAgLy8gSW5zZXJ0IEhUTUwgY29udGVudFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGx1LWNvbnRlbnRcIikuaW5uZXJIVE1MID1cbiAgICAgIGRvY3VtZW50RGF0YS5odG1sX2NvbnRlbnQ7XG5cbiAgICAvLyBMb2FkIHJhdGluZ3NcbiAgICBhd2FpdCBsb2FkUmF0aW5ncygpO1xuXG4gICAgLy8gTG9hZCBjb21tZW50c1xuICAgIGF3YWl0IGxvYWRDb21tZW50cygpO1xuXG4gICAgLy8gVXBkYXRlIHNvdXJjZSBsaW5rXG4gICAgaWYgKGRvY3VtZW50RGF0YS5zb3VyY2VfcGx1X3VybCkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3VyY2UtcGx1LWxpbmtcIikuaHJlZiA9XG4gICAgICAgIGRvY3VtZW50RGF0YS5zb3VyY2VfcGx1X3VybDtcbiAgICB9XG5cbiAgICAvLyBIaWRlIGxvYWRpbmcsIHNob3cgY29udGVudFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9hZGluZy1zdGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkb2N1bWVudC1jb250ZW50XCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgZG9jdW1lbnQ6XCIsIGVycm9yKTtcbiAgICBzaG93RXJyb3IoXCJJbXBvc3NpYmxlIGRlIGNoYXJnZXIgbGUgZG9jdW1lbnRcIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2FwaXRhbGl6ZVdvcmRzKHN0cikge1xuICBpZiAoIXN0cikgcmV0dXJuIHN0cjtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXGJcXHcvZywgKGxldHRlcikgPT4gbGV0dGVyLnRvVXBwZXJDYXNlKCkpO1xufVxuXG4vLyBVcGRhdGUgZG9jdW1lbnQgaW5mb3JtYXRpb24gaW4gVUlcbmZ1bmN0aW9uIHVwZGF0ZURvY3VtZW50SW5mbyhkb2N1bWVudERhdGEpIHtcbiAgY29uc3QgY2l0eU5hbWUgPSBjYXBpdGFsaXplV29yZHMoZG9jdW1lbnREYXRhLnpvbmluZy5jaXR5Lm5hbWUpO1xuICBjb25zdCB6b25lTmFtZSA9IGRvY3VtZW50RGF0YS56b25lLm5hbWU7XG4gIGNvbnN0IHNvdXJjZVBsdURhdGUgPSBkb2N1bWVudERhdGEuc291cmNlX3BsdV9kYXRlXG4gICAgPyBuZXcgRGF0ZShkb2N1bWVudERhdGEuc291cmNlX3BsdV9kYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoXCJmci1GUlwiLCB7XG4gICAgICAgIHllYXI6IFwibnVtZXJpY1wiLFxuICAgICAgICBtb250aDogXCJsb25nXCIsXG4gICAgICB9KVxuICAgIDogXCJEYXRlIGluY29ubnVlXCI7XG5cbiAgLy8gQnJlYWRjcnVtYlxuICBjb25zdCBjaXR5QnJlYWRjcnVtYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2l0eS1icmVhZGNydW1iXCIpO1xuICBjaXR5QnJlYWRjcnVtYi50ZXh0Q29udGVudCA9IGNpdHlOYW1lO1xuICBjaXR5QnJlYWRjcnVtYi5ocmVmID0gYC9jaXR5P25hbWU9JHtlbmNvZGVVUklDb21wb25lbnQoXG4gICAgZG9jdW1lbnREYXRhLnpvbmluZy5jaXR5Lm5hbWVcbiAgKX1gO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiem9uZS1icmVhZGNydW1iXCIpLnRleHRDb250ZW50ID0gYFpvbmUgJHt6b25lTmFtZX1gO1xuXG4gIC8vIFRpdGxlIGFuZCBzdWJ0aXRsZVxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcbiAgICBcImRvY3VtZW50LXRpdGxlXCJcbiAgKS50ZXh0Q29udGVudCA9IGBTeW50aMOoc2UgZHUgUExVIGRlICR7Y2l0eU5hbWV9IHBvdXIgbGEgem9uZSAke3pvbmVOYW1lfWA7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxuICAgIFwiZG9jdW1lbnQtc3VidGl0bGVcIlxuICApLnRleHRDb250ZW50ID0gYEJhc8OpIHN1ciBsZSBQTFUgZGUgJHtzb3VyY2VQbHVEYXRlfWA7XG59XG5cbi8vIExvYWQgYW5kIGRpc3BsYXkgcmF0aW5nc1xuYXN5bmMgZnVuY3Rpb24gbG9hZFJhdGluZ3MoKSB7XG4gIHRyeSB7XG4gICAgLy8gR2V0IGFsbCByYXRpbmdzIGZvciB0aGlzIGRvY3VtZW50XG4gICAgY29uc3QgeyBkYXRhOiByYXRpbmdzLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwicmF0aW5nc1wiKVxuICAgICAgLnNlbGVjdChcInJhdGluZywgdXNlcl9pZFwiKVxuICAgICAgLmVxKFwiZG9jdW1lbnRfaWRcIiwgY3VycmVudERvY3VtZW50LmlkKTtcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG5cbiAgICByYXRpbmdzRGF0YSA9IHJhdGluZ3MgfHwgW107XG5cbiAgICAvLyBDYWxjdWxhdGUgYXZlcmFnZSBhbmQgZGlzdHJpYnV0aW9uXG4gICAgaWYgKHJhdGluZ3NEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGF2ZXJhZ2UgPVxuICAgICAgICByYXRpbmdzRGF0YS5yZWR1Y2UoKHN1bSwgcikgPT4gc3VtICsgci5yYXRpbmcsIDApIC8gcmF0aW5nc0RhdGEubGVuZ3RoO1xuXG4gICAgICAvLyBVcGRhdGUgYXZlcmFnZSByYXRpbmcgZGlzcGxheVxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhdmVyYWdlLXJhdGluZ1wiKS50ZXh0Q29udGVudCA9XG4gICAgICAgIGF2ZXJhZ2UudG9GaXhlZCgxKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmF0aW5nLWNvdW50XCIpLnRleHRDb250ZW50ID0gcmF0aW5nc0RhdGEubGVuZ3RoO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgZGlzdHJpYnV0aW9uXG4gICAgICBjb25zdCBkaXN0cmlidXRpb24gPSBjYWxjdWxhdGVSYXRpbmdEaXN0cmlidXRpb24ocmF0aW5nc0RhdGEpO1xuICAgICAgdXBkYXRlUmF0aW5nQmFycyhkaXN0cmlidXRpb24pO1xuXG4gICAgICAvLyBDaGVjayBpZiBjdXJyZW50IHVzZXIgaGFzIHJhdGVkXG4gICAgICBjb25zdCB1c2VyUmF0aW5nID0gcmF0aW5nc0RhdGEuZmluZCgocikgPT4gci51c2VyX2lkID09PSBjdXJyZW50VXNlci5pZCk7XG4gICAgICBpZiAodXNlclJhdGluZykge1xuICAgICAgICB1c2VyQ3VycmVudFJhdGluZyA9IHVzZXJSYXRpbmcucmF0aW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlckN1cnJlbnRSYXRpbmcgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImF2ZXJhZ2UtcmF0aW5nXCIpLnRleHRDb250ZW50ID0gXCIwXCI7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJhdGluZy1jb3VudFwiKS50ZXh0Q29udGVudCA9IFwiMFwiO1xuICAgICAgdXBkYXRlUmF0aW5nQmFycyh7IDE6IDAsIDI6IDAsIDM6IDAsIDQ6IDAsIDU6IDAgfSk7XG4gICAgICB1c2VyQ3VycmVudFJhdGluZyA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHN0YXJzIGRpc3BsYXlcbiAgICB1cGRhdGVTdGFyc0Rpc3BsYXkoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbG9hZGluZyByYXRpbmdzOlwiLCBlcnJvcik7XG4gIH1cbn1cbi8vIENhbGN1bGF0ZSByYXRpbmcgZGlzdHJpYnV0aW9uXG5mdW5jdGlvbiBjYWxjdWxhdGVSYXRpbmdEaXN0cmlidXRpb24ocmF0aW5ncykge1xuICBjb25zdCBkaXN0cmlidXRpb24gPSB7IDE6IDAsIDI6IDAsIDM6IDAsIDQ6IDAsIDU6IDAgfTtcbiAgcmF0aW5ncy5mb3JFYWNoKChyKSA9PiB7XG4gICAgZGlzdHJpYnV0aW9uW3IucmF0aW5nXSsrO1xuICB9KTtcbiAgcmV0dXJuIGRpc3RyaWJ1dGlvbjtcbn1cblxuLy8gVXBkYXRlIHJhdGluZyBiYXJzXG5mdW5jdGlvbiB1cGRhdGVSYXRpbmdCYXJzKGRpc3RyaWJ1dGlvbikge1xuICBjb25zdCB0b3RhbCA9IHJhdGluZ3NEYXRhLmxlbmd0aCB8fCAxO1xuXG4gIGZvciAobGV0IGkgPSAxOyBpIDw9IDU7IGkrKykge1xuICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSAoZGlzdHJpYnV0aW9uW2ldIC8gdG90YWwpICogMTAwO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGByYXRpbmctJHtpfWApLnN0eWxlLndpZHRoID0gYCR7cGVyY2VudGFnZX0lYDtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgcmF0aW5nLSR7aX0tcGVyY2VudGApLnRleHRDb250ZW50ID0gYCR7TWF0aC5yb3VuZChcbiAgICAgIHBlcmNlbnRhZ2VcbiAgICApfSVgO1xuICB9XG59XG5cbi8vIExvYWQgY29tbWVudHNcbmFzeW5jIGZ1bmN0aW9uIGxvYWRDb21tZW50cygpIHtcbiAgdHJ5IHtcbiAgICAvLyBGaXJzdCwgZ2V0IHRoZSBjb21tZW50c1xuICAgIGNvbnN0IHsgZGF0YTogY29tbWVudHMsIGVycm9yOiBjb21tZW50c0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tZW50c1wiKVxuICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgIC5lcShcImRvY3VtZW50X2lkXCIsIGN1cnJlbnREb2N1bWVudC5pZClcbiAgICAgIC5vcmRlcihcImNyZWF0ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuXG4gICAgaWYgKGNvbW1lbnRzRXJyb3IpIHRocm93IGNvbW1lbnRzRXJyb3I7XG5cbiAgICBpZiAoY29tbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZW5kZXJDb21tZW50cyhbXSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gR2V0IHVuaXF1ZSB1c2VyIElEc1xuICAgIGNvbnN0IHVzZXJJZHMgPSBbLi4ubmV3IFNldChjb21tZW50cy5tYXAoKGMpID0+IGMudXNlcl9pZCkpXTtcblxuICAgIC8vIEZldGNoIHByb2ZpbGVzIGZvciB0aG9zZSB1c2Vyc1xuICAgIGNvbnN0IHsgZGF0YTogcHJvZmlsZXMsIGVycm9yOiBwcm9maWxlc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJwcm9maWxlc1wiKVxuICAgICAgLnNlbGVjdChcImlkLCBmdWxsX25hbWUsIGF2YXRhcl91cmxcIilcbiAgICAgIC5pbihcImlkXCIsIHVzZXJJZHMpO1xuXG4gICAgaWYgKHByb2ZpbGVzRXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkNvdWxkIG5vdCBmZXRjaCBwcm9maWxlczpcIiwgcHJvZmlsZXNFcnJvcik7XG4gICAgICBjb25zdCBjb21tZW50c1dpdGhvdXRQcm9maWxlcyA9IGNvbW1lbnRzLm1hcCgoY29tbWVudCkgPT4gKHtcbiAgICAgICAgLi4uY29tbWVudCxcbiAgICAgICAgcHJvZmlsZXM6IG51bGwsXG4gICAgICB9KSk7XG4gICAgICByZW5kZXJDb21tZW50cyhjb21tZW50c1dpdGhvdXRQcm9maWxlcyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gTWFwIHByb2ZpbGVzIHRvIGNvbW1lbnRzXG4gICAgY29uc3QgcHJvZmlsZXNNYXAgPSBwcm9maWxlcy5yZWR1Y2UoKGFjYywgcHJvZmlsZSkgPT4ge1xuICAgICAgYWNjW3Byb2ZpbGUuaWRdID0gcHJvZmlsZTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuXG4gICAgLy8gQXR0YWNoIHByb2ZpbGVzIHRvIGNvbW1lbnRzXG4gICAgY29uc3QgY29tbWVudHNXaXRoUHJvZmlsZXMgPSBjb21tZW50cy5tYXAoKGNvbW1lbnQpID0+ICh7XG4gICAgICAuLi5jb21tZW50LFxuICAgICAgcHJvZmlsZXM6IHByb2ZpbGVzTWFwW2NvbW1lbnQudXNlcl9pZF0gfHwgbnVsbCxcbiAgICB9KSk7XG5cbiAgICAvLyBSZW5kZXIgY29tbWVudHNcbiAgICByZW5kZXJDb21tZW50cyhjb21tZW50c1dpdGhQcm9maWxlcyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGxvYWRpbmcgY29tbWVudHM6XCIsIGVycm9yKTtcbiAgICByZW5kZXJDb21tZW50cyhbXSk7XG4gIH1cbn1cblxuLy8gUmVuZGVyIGNvbW1lbnRzIGluIFVJXG5mdW5jdGlvbiByZW5kZXJDb21tZW50cyhjb21tZW50cykge1xuICBjb25zdCBjb21tZW50c0xpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbW1lbnRzLWxpc3RcIik7XG4gIGNvbW1lbnRzTGlzdC5pbm5lckhUTUwgPSBcIlwiO1xuXG4gIGlmIChjb21tZW50cy5sZW5ndGggPT09IDApIHtcbiAgICBjb21tZW50c0xpc3QuaW5uZXJIVE1MID1cbiAgICAgICc8cCBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgY29sb3I6IHZhcigtLXRleHQtZ3JheSk7IHBhZGRpbmc6IDJyZW07XCI+QXVjdW4gY29tbWVudGFpcmUgcG91ciBsZSBtb21lbnQuIFNveWV6IGxlIHByZW1pZXIgw6AgY29tbWVudGVyITwvcD4nO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbW1lbnRzLmZvckVhY2goKGNvbW1lbnQpID0+IHtcbiAgICBjb25zdCBjb21tZW50RWwgPSBjcmVhdGVDb21tZW50RWxlbWVudChjb21tZW50KTtcbiAgICBjb21tZW50c0xpc3QuYXBwZW5kQ2hpbGQoY29tbWVudEVsKTtcbiAgfSk7XG59XG5cbi8vIENyZWF0ZSBjb21tZW50IGVsZW1lbnRcbmZ1bmN0aW9uIGNyZWF0ZUNvbW1lbnRFbGVtZW50KGNvbW1lbnQpIHtcbiAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZGl2LmNsYXNzTmFtZSA9IFwiY29tbWVudFwiO1xuICBkaXYuZGF0YXNldC5jb21tZW50SWQgPSBjb21tZW50LmlkO1xuXG4gIGNvbnN0IGlzT3duZXIgPSBjb21tZW50LnVzZXJfaWQgPT09IGN1cnJlbnRVc2VyLmlkO1xuICBjb25zdCB1c2VyTmFtZSA9IGNvbW1lbnQucHJvZmlsZXM/LmZ1bGxfbmFtZSB8fCBcIlV0aWxpc2F0ZXVyIGFub255bWVcIjtcbiAgY29uc3QgYXZhdGFyVXJsID1cbiAgICBjb21tZW50LnByb2ZpbGVzPy5hdmF0YXJfdXJsIHx8IFwiYXNzZXRzL2ljb25zL2RlZmF1bHQtYXZhdGFyLnN2Z1wiO1xuICBjb25zdCBkYXRlID0gbmV3IERhdGUoY29tbWVudC5jcmVhdGVkX2F0KS50b0xvY2FsZURhdGVTdHJpbmcoXCJmci1GUlwiLCB7XG4gICAgZGF5OiBcIm51bWVyaWNcIixcbiAgICBtb250aDogXCJsb25nXCIsXG4gICAgeWVhcjogXCJudW1lcmljXCIsXG4gIH0pO1xuXG4gIGNvbnN0IGNvbW1lbnRIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb21tZW50SGVhZGVyLmNsYXNzTmFtZSA9IFwiY29tbWVudC1oZWFkZXJcIjtcblxuICAvLyBBdmF0YXIgYW5kIG1ldGFcbiAgY29uc3QgYXZhdGFyTWV0YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIGF2YXRhck1ldGEuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICBhdmF0YXJNZXRhLnN0eWxlLmFsaWduSXRlbXMgPSBcImNlbnRlclwiO1xuICBhdmF0YXJNZXRhLnN0eWxlLmdhcCA9IFwiMXJlbVwiO1xuICBhdmF0YXJNZXRhLmlubmVySFRNTCA9IGBcbiAgICA8aW1nIHNyYz1cIiR7YXZhdGFyVXJsfVwiIGFsdD1cIiR7dXNlck5hbWV9XCIgY2xhc3M9XCJjb21tZW50LWF2YXRhclwiPlxuICAgIDxkaXYgY2xhc3M9XCJjb21tZW50LW1ldGFcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb21tZW50LWF1dGhvclwiPiR7dXNlck5hbWV9PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiY29tbWVudC1kYXRlXCI+JHtkYXRlfSR7XG4gICAgY29tbWVudC51cGRhdGVkX2F0ICE9PSBjb21tZW50LmNyZWF0ZWRfYXQgPyBcIiAobW9kaWZpw6kpXCIgOiBcIlwiXG4gIH08L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDtcbiAgY29tbWVudEhlYWRlci5hcHBlbmRDaGlsZChhdmF0YXJNZXRhKTtcblxuICBkaXYuYXBwZW5kQ2hpbGQoY29tbWVudEhlYWRlcik7XG5cbiAgLy8gQ29tbWVudCBjb250ZW50XG4gIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBjb250ZW50LmNsYXNzTmFtZSA9IFwiY29tbWVudC1jb250ZW50XCI7XG4gIGNvbnRlbnQudGV4dENvbnRlbnQgPSBjb21tZW50LmNvbnRlbnQ7XG4gIGRpdi5hcHBlbmRDaGlsZChjb250ZW50KTtcblxuICAvLyBBY3Rpb25zIGZvciBvd25lclxuICBpZiAoaXNPd25lcikge1xuICAgIGNvbnN0IGFjdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGFjdGlvbnMuY2xhc3NOYW1lID0gXCJjb21tZW50LWFjdGlvbnNcIjtcbiAgICBhY3Rpb25zLmlubmVySFRNTCA9IGBcbiAgICAgIDxidXR0b24gY2xhc3M9XCJjb21tZW50LWFjdGlvbiBlZGl0LWNvbW1lbnRcIiBkYXRhLWlkPVwiJHtjb21tZW50LmlkfVwiPlxuICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIj5cbiAgICAgICAgICA8cGF0aCBkPVwiTTExIDRINGEyIDIgMCAwIDAtMiAydjE0YTIgMiAwIDAgMCAyIDJoMTRhMiAyIDAgMCAwIDItMnYtN1wiPjwvcGF0aD5cbiAgICAgICAgICA8cGF0aCBkPVwiTTE4LjUgMi41YTIuMTIxIDIuMTIxIDAgMCAxIDMgM0wxMiAxNWwtNCAxIDEtNCA5LjUtOS41elwiPjwvcGF0aD5cbiAgICAgICAgPC9zdmc+XG4gICAgICAgIE1vZGlmaWVyXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJjb21tZW50LWFjdGlvbiBkZWxldGUtY29tbWVudFwiIGRhdGEtaWQ9XCIke2NvbW1lbnQuaWR9XCI+XG4gICAgICAgIDxzdmcgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgc3Ryb2tlLXdpZHRoPVwiMlwiPlxuICAgICAgICAgIDxwb2x5bGluZSBwb2ludHM9XCIzIDYgNSA2IDIxIDZcIj48L3BvbHlsaW5lPlxuICAgICAgICAgIDxwYXRoIGQ9XCJNMTkgNnYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2bTMgMFY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjJcIj48L3BhdGg+XG4gICAgICAgIDwvc3ZnPlxuICAgICAgICBTdXBwcmltZXJcbiAgICAgIDwvYnV0dG9uPlxuICAgIGA7XG4gICAgZGl2LmFwcGVuZENoaWxkKGFjdGlvbnMpO1xuICB9XG5cbiAgcmV0dXJuIGRpdjtcbn1cblxuLy8gU2V0dXAgZXZlbnQgbGlzdGVuZXJzXG5mdW5jdGlvbiBzZXR1cEV2ZW50TGlzdGVuZXJzKCkge1xuICAvLyBUYWIgc3dpdGNoaW5nXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFiLWJ0blwiKS5mb3JFYWNoKChidG4pID0+IHtcbiAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHN3aXRjaFRhYik7XG4gIH0pO1xuXG4gIC8vIFJhdGluZyBzdGFycyBjbGlja1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3VzZXItcmF0aW5nIC5zdGFyLWJ0blwiKS5mb3JFYWNoKChzdGFyKSA9PiB7XG4gICAgc3Rhci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGFuZGxlUmF0aW5nKTtcbiAgfSk7XG5cbiAgLy8gUmF0aW5nIHN0YXJzIGhvdmVyXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjdXNlci1yYXRpbmcgLnN0YXItYnRuXCIpLmZvckVhY2goKHN0YXIsIGluZGV4KSA9PiB7XG4gICAgc3Rhci5hZGRFdmVudExpc3RlbmVyKFwibW91c2VlbnRlclwiLCAoKSA9PiBoYW5kbGVTdGFySG92ZXIoaW5kZXggKyAxKSk7XG4gIH0pO1xuXG4gIC8vIFJlc2V0IHN0YXJzIG9uIG1vdXNlIGxlYXZlXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidXNlci1yYXRpbmdcIikuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xuICAgIHVwZGF0ZVN0YXJzRGlzcGxheSgpO1xuICB9KTtcblxuICAvLyBEb3dubG9hZCBidXR0b25cbiAgZG9jdW1lbnRcbiAgICAuZ2V0RWxlbWVudEJ5SWQoXCJkb3dubG9hZC1idG5cIilcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZURvd25sb2FkKTtcblxuICAvLyBDb21tZW50IHN1Ym1pc3Npb25cbiAgZG9jdW1lbnRcbiAgICAuZ2V0RWxlbWVudEJ5SWQoXCJzdWJtaXQtY29tbWVudFwiKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc3VibWl0Q29tbWVudCk7XG5cbiAgLy8gQ29tbWVudCBhY3Rpb25zIChkZWxlZ2F0aW9uKVxuICBkb2N1bWVudFxuICAgIC5nZXRFbGVtZW50QnlJZChcImNvbW1lbnRzLWxpc3RcIilcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUNvbW1lbnRBY3Rpb24pO1xuXG4gIC8vIE1vZGFsIGV2ZW50c1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWNsb3NlXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbG9zZU1vZGFsKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW5jZWwtZWRpdFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xvc2VNb2RhbCk7XG4gIGRvY3VtZW50XG4gICAgLmdldEVsZW1lbnRCeUlkKFwic2F2ZS1lZGl0XCIpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzYXZlQ29tbWVudEVkaXQpO1xuXG4gIC8vIExvZ291dFxuICBjb25zdCBsb2dvdXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxvZ291dC1idG5cIik7XG4gIGlmIChsb2dvdXRCdG4pIHtcbiAgICBsb2dvdXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUxvZ291dCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlU3RhckhvdmVyKHJhdGluZykge1xuICBjb25zdCBzdGFycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjdXNlci1yYXRpbmcgLnN0YXItYnRuXCIpO1xuICBzdGFycy5mb3JFYWNoKChzdGFyLCBpbmRleCkgPT4ge1xuICAgIGlmIChpbmRleCA8IHJhdGluZykge1xuICAgICAgc3Rhci5jbGFzc0xpc3QuYWRkKFwiaG92ZXJlZFwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3Rhci5jbGFzc0xpc3QucmVtb3ZlKFwiaG92ZXJlZFwiKTtcbiAgICB9XG4gIH0pO1xufVxuLy8gSW5pdGlhbGl6ZSBiYWNrIHRvIHRvcCBmdW5jdGlvbmFsaXR5XG5mdW5jdGlvbiBpbml0QmFja1RvVG9wKCkge1xuICBjb25zdCBiYWNrVG9Ub3BCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJhY2stdG8tdG9wXCIpO1xuXG4gIC8vIFNob3cvaGlkZSBidXR0b24gYmFzZWQgb24gc2Nyb2xsIHBvc2l0aW9uXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsICgpID0+IHtcbiAgICBpZiAod2luZG93LnNjcm9sbFkgPiAzMDApIHtcbiAgICAgIGJhY2tUb1RvcEJ0bi5jbGFzc0xpc3QuYWRkKFwidmlzaWJsZVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYmFja1RvVG9wQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJ2aXNpYmxlXCIpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gU21vb3RoIHNjcm9sbCB0byB0b3BcbiAgYmFja1RvVG9wQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgd2luZG93LnNjcm9sbFRvKHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxuICAgIH0pO1xuICB9KTtcbn1cblxuLy8gU3dpdGNoIHRhYnNcbmZ1bmN0aW9uIHN3aXRjaFRhYihlKSB7XG4gIGNvbnN0IHRhcmdldFRhYiA9IGUudGFyZ2V0LmRhdGFzZXQudGFiO1xuXG4gIC8vIFVwZGF0ZSBhY3RpdmUgc3RhdGVzXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFiLWJ0blwiKS5mb3JFYWNoKChidG4pID0+IHtcbiAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiLCBidG4uZGF0YXNldC50YWIgPT09IHRhcmdldFRhYik7XG4gIH0pO1xuXG4gIC8vIFNob3cvaGlkZSBjb250ZW50XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3ludGhlc2UtdGFiXCIpLnN0eWxlLmRpc3BsYXkgPVxuICAgIHRhcmdldFRhYiA9PT0gXCJzeW50aGVzZVwiID8gXCJibG9ja1wiIDogXCJub25lXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tbWVudGFpcmVzLXRhYlwiKS5zdHlsZS5kaXNwbGF5ID1cbiAgICB0YXJnZXRUYWIgPT09IFwiY29tbWVudGFpcmVzXCIgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3VyY2VzLXRhYlwiKS5zdHlsZS5kaXNwbGF5ID1cbiAgICB0YXJnZXRUYWIgPT09IFwic291cmNlc1wiID8gXCJibG9ja1wiIDogXCJub25lXCI7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVN0YXJzRGlzcGxheSgpIHtcbiAgY29uc3Qgc3RhcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3VzZXItcmF0aW5nIC5zdGFyLWJ0blwiKTtcblxuICAvLyBJZiB1c2VyIGhhcyBhIHJhdGluZywgc2hvdyBpdFxuICBpZiAodXNlckN1cnJlbnRSYXRpbmcpIHtcbiAgICBzdGFycy5mb3JFYWNoKChzdGFyLCBpbmRleCkgPT4ge1xuICAgICAgc3Rhci5jbGFzc0xpc3QudG9nZ2xlKFwic2VsZWN0ZWRcIiwgaW5kZXggPCB1c2VyQ3VycmVudFJhdGluZyk7XG4gICAgICBzdGFyLmNsYXNzTGlzdC5yZW1vdmUoXCJob3ZlcmVkXCIpO1xuICAgICAgc3Rhci5zZXRBdHRyaWJ1dGUoXCJkYXRhLXN0YXItdHlwZVwiLCBcImZ1bGxcIik7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gU2hvdyBhdmVyYWdlIHJhdGluZyB3aXRoIGhhbGYgc3RhcnNcbiAgICBjb25zdCBhdmdSYXRpbmcgPSBwYXJzZUZsb2F0KFxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhdmVyYWdlLXJhdGluZ1wiKS50ZXh0Q29udGVudFxuICAgICk7XG4gICAgaWYgKCFpc05hTihhdmdSYXRpbmcpICYmIGF2Z1JhdGluZyA+IDApIHtcbiAgICAgIGRpc3BsYXlBdmVyYWdlUmF0aW5nKGF2Z1JhdGluZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE5vIHJhdGluZ3MgYXQgYWxsLCBzaG93IGVtcHR5IHN0YXJzXG4gICAgICBzdGFycy5mb3JFYWNoKChzdGFyKSA9PiB7XG4gICAgICAgIHN0YXIuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIsIFwiaG92ZXJlZFwiKTtcbiAgICAgICAgc3Rhci5zZXRBdHRyaWJ1dGUoXCJkYXRhLXN0YXItdHlwZVwiLCBcImVtcHR5XCIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG5cbi8vIEhhbmRsZSByYXRpbmdcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJhdGluZyhlKSB7XG4gIGNvbnN0IHJhdGluZyA9IHBhcnNlSW50KGUudGFyZ2V0LmRhdGFzZXQucmF0aW5nKTtcblxuICAvLyBJZiBjbGlja2luZyBvbiB0aGUgc2FtZSByYXRpbmcsIHJlbW92ZSBpdFxuICBpZiAodXNlckN1cnJlbnRSYXRpbmcgPT09IHJhdGluZykge1xuICAgIHRyeSB7XG4gICAgICAvLyBEZWxldGUgdGhlIHJhdGluZ1xuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJyYXRpbmdzXCIpXG4gICAgICAgIC5kZWxldGUoKVxuICAgICAgICAuZXEoXCJkb2N1bWVudF9pZFwiLCBjdXJyZW50RG9jdW1lbnQuaWQpXG4gICAgICAgIC5lcShcInVzZXJfaWRcIiwgY3VycmVudFVzZXIuaWQpO1xuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgICB1c2VyQ3VycmVudFJhdGluZyA9IG51bGw7XG5cbiAgICAgIC8vIFJlbG9hZCByYXRpbmdzIHRvIHVwZGF0ZSBhdmVyYWdlXG4gICAgICBhd2FpdCBsb2FkUmF0aW5ncygpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmVtb3ZpbmcgcmF0aW5nOlwiLCBlcnJvcik7XG4gICAgICBhbGVydChcIkVycmV1ciBsb3JzIGRlIGxhIHN1cHByZXNzaW9uIGRlIHZvdHJlIG5vdGVcIik7XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIE90aGVyd2lzZSwgc2V0L3VwZGF0ZSB0aGUgcmF0aW5nXG4gIHRyeSB7XG4gICAgLy8gQ2hlY2sgaWYgdXNlciBhbHJlYWR5IHJhdGVkXG4gICAgY29uc3QgeyBkYXRhOiBleGlzdGluZyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwicmF0aW5nc1wiKVxuICAgICAgLnNlbGVjdChcImlkXCIpXG4gICAgICAuZXEoXCJkb2N1bWVudF9pZFwiLCBjdXJyZW50RG9jdW1lbnQuaWQpXG4gICAgICAuZXEoXCJ1c2VyX2lkXCIsIGN1cnJlbnRVc2VyLmlkKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKGV4aXN0aW5nKSB7XG4gICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgcmF0aW5nXG4gICAgICBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcInJhdGluZ3NcIilcbiAgICAgICAgLnVwZGF0ZSh7IHJhdGluZywgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pXG4gICAgICAgIC5lcShcImlkXCIsIGV4aXN0aW5nLmlkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSW5zZXJ0IG5ldyByYXRpbmdcbiAgICAgIGF3YWl0IHN1cGFiYXNlLmZyb20oXCJyYXRpbmdzXCIpLmluc2VydCh7XG4gICAgICAgIGRvY3VtZW50X2lkOiBjdXJyZW50RG9jdW1lbnQuaWQsXG4gICAgICAgIHVzZXJfaWQ6IGN1cnJlbnRVc2VyLmlkLFxuICAgICAgICByYXRpbmcsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB1c2VyQ3VycmVudFJhdGluZyA9IHJhdGluZztcblxuICAgIC8vIFJlbG9hZCByYXRpbmdzIHRvIHVwZGF0ZSBhdmVyYWdlXG4gICAgYXdhaXQgbG9hZFJhdGluZ3MoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcmF0aW5nIGRvY3VtZW50OlwiLCBlcnJvcik7XG4gICAgYWxlcnQoXCJFcnJldXIgbG9ycyBkZSBsJ2VucmVnaXN0cmVtZW50IGRlIHZvdHJlIG5vdGVcIik7XG4gIH1cbn1cblxuLy8gSGFuZGxlIGRvd25sb2FkXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVEb3dubG9hZCgpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhcIlBERiBzdG9yYWdlIHBhdGg6XCIsIGN1cnJlbnREb2N1bWVudC5wZGZfc3RvcmFnZV9wYXRoKTtcblxuICAgIC8vIFJlbW92ZSBhbnkgbGVhZGluZyBzbGFzaGVzIGlmIHByZXNlbnRcbiAgICBjb25zdCBjbGVhblBhdGggPSBjdXJyZW50RG9jdW1lbnQucGRmX3N0b3JhZ2VfcGF0aC5yZXBsYWNlKC9eXFwvLywgXCJcIik7XG5cbiAgICAvLyBHZXQgZG93bmxvYWQgVVJMIGZyb20gU3VwYWJhc2UgU3RvcmFnZSB3aXRoIGRvd25sb2FkIHBhcmFtZXRlclxuICAgIGNvbnN0IHsgZGF0YTogdXJsRGF0YSwgZXJyb3I6IHVybEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5zdG9yYWdlXG4gICAgICAuZnJvbShcInBkZnNcIilcbiAgICAgIC5jcmVhdGVTaWduZWRVcmwoY2xlYW5QYXRoLCA2MCwge1xuICAgICAgICBkb3dubG9hZDogdHJ1ZSwgLy8gVGhpcyBmb3JjZXMgdGhlIGRvd25sb2FkIGJlaGF2aW9yXG4gICAgICB9KTtcblxuICAgIGlmICh1cmxFcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIlVSTCBFcnJvciBkZXRhaWxzOlwiLCB1cmxFcnJvcik7XG4gICAgICB0aHJvdyB1cmxFcnJvcjtcbiAgICB9XG5cbiAgICAvLyBUcmFjayBkb3dubG9hZFxuICAgIGF3YWl0IHN1cGFiYXNlLmZyb20oXCJkb3dubG9hZHNcIikuaW5zZXJ0KHtcbiAgICAgIGRvY3VtZW50X2lkOiBjdXJyZW50RG9jdW1lbnQuaWQsXG4gICAgICB1c2VyX2lkOiBjdXJyZW50VXNlci5pZCxcbiAgICB9KTtcblxuICAgIC8vIFRyaWdnZXIgZG93bmxvYWRcbiAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIik7XG4gICAgYS5ocmVmID0gdXJsRGF0YS5zaWduZWRVcmw7XG4gICAgYS5kb3dubG9hZCA9IGBQTFVfJHtjdXJyZW50RG9jdW1lbnQuem9uaW5nLmNpdHkubmFtZX1fJHtjdXJyZW50RG9jdW1lbnQuem9uZS5uYW1lfS5wZGZgO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7IC8vIEFkZCB0byBET01cbiAgICBhLmNsaWNrKCk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhKTsgLy8gUmVtb3ZlIGZyb20gRE9NXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRvd25sb2FkaW5nIGRvY3VtZW50OlwiLCBlcnJvcik7XG5cbiAgICBpZiAoZXJyb3IubWVzc2FnZSAmJiBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKFwiT2JqZWN0IG5vdCBmb3VuZFwiKSkge1xuICAgICAgYWxlcnQoXG4gICAgICAgIFwiTGUgZmljaGllciBQREYgbidhIHBhcyDDqXTDqSB0cm91dsOpLiBWZXVpbGxleiBjb250YWN0ZXIgbCdhZG1pbmlzdHJhdGV1ci5cIlxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYWxlcnQoXCJFcnJldXIgbG9ycyBkdSB0w6lsw6ljaGFyZ2VtZW50XCIpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBTdWJtaXQgY29tbWVudFxuYXN5bmMgZnVuY3Rpb24gc3VibWl0Q29tbWVudCgpIHtcbiAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tbWVudC1pbnB1dFwiKS52YWx1ZS50cmltKCk7XG5cbiAgaWYgKCFjb250ZW50KSB7XG4gICAgYWxlcnQoXCJWZXVpbGxleiBlbnRyZXIgdW4gY29tbWVudGFpcmVcIik7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwiY29tbWVudHNcIikuaW5zZXJ0KHtcbiAgICAgIGRvY3VtZW50X2lkOiBjdXJyZW50RG9jdW1lbnQuaWQsXG4gICAgICB1c2VyX2lkOiBjdXJyZW50VXNlci5pZCxcbiAgICAgIGNvbnRlbnQsXG4gICAgfSk7XG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xuXG4gICAgLy8gQ2xlYXIgaW5wdXRcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbW1lbnQtaW5wdXRcIikudmFsdWUgPSBcIlwiO1xuXG4gICAgLy8gUmVsb2FkIGNvbW1lbnRzXG4gICAgYXdhaXQgbG9hZENvbW1lbnRzKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHN1Ym1pdHRpbmcgY29tbWVudDpcIiwgZXJyb3IpO1xuICAgIGFsZXJ0KFwiRXJyZXVyIGxvcnMgZGUgbGEgcHVibGljYXRpb24gZHUgY29tbWVudGFpcmVcIik7XG4gIH1cbn1cblxuLy8gSGFuZGxlIGNvbW1lbnQgYWN0aW9uc1xuZnVuY3Rpb24gaGFuZGxlQ29tbWVudEFjdGlvbihlKSB7XG4gIGNvbnN0IGVkaXRCdG4gPSBlLnRhcmdldC5jbG9zZXN0KFwiLmVkaXQtY29tbWVudFwiKTtcbiAgY29uc3QgZGVsZXRlQnRuID0gZS50YXJnZXQuY2xvc2VzdChcIi5kZWxldGUtY29tbWVudFwiKTtcblxuICBpZiAoZWRpdEJ0bikge1xuICAgIG9wZW5FZGl0TW9kYWwoZWRpdEJ0bi5kYXRhc2V0LmlkKTtcbiAgfSBlbHNlIGlmIChkZWxldGVCdG4pIHtcbiAgICBkZWxldGVDb21tZW50KGRlbGV0ZUJ0bi5kYXRhc2V0LmlkKTtcbiAgfVxufVxuXG4vLyBPcGVuIGVkaXQgbW9kYWxcbmFzeW5jIGZ1bmN0aW9uIG9wZW5FZGl0TW9kYWwoY29tbWVudElkKSB7XG4gIGN1cnJlbnRDb21tZW50SWQgPSBjb21tZW50SWQ7XG5cbiAgLy8gR2V0IGNvbW1lbnQgY29udGVudFxuICBjb25zdCB7IGRhdGE6IGNvbW1lbnQgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgLmZyb20oXCJjb21tZW50c1wiKVxuICAgIC5zZWxlY3QoXCJjb250ZW50XCIpXG4gICAgLmVxKFwiaWRcIiwgY29tbWVudElkKVxuICAgIC5zaW5nbGUoKTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVkaXQtY29tbWVudC1pbnB1dFwiKS52YWx1ZSA9IGNvbW1lbnQuY29udGVudDtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0LW1vZGFsXCIpLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbn1cblxuLy8gQ2xvc2UgbW9kYWxcbmZ1bmN0aW9uIGNsb3NlTW9kYWwoKSB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZWRpdC1tb2RhbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGN1cnJlbnRDb21tZW50SWQgPSBudWxsO1xufVxuXG4vLyBTYXZlIGNvbW1lbnQgZWRpdFxuYXN5bmMgZnVuY3Rpb24gc2F2ZUNvbW1lbnRFZGl0KCkge1xuICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlZGl0LWNvbW1lbnQtaW5wdXRcIikudmFsdWUudHJpbSgpO1xuXG4gIGlmICghY29udGVudCkge1xuICAgIGFsZXJ0KFwiTGUgY29tbWVudGFpcmUgbmUgcGV1dCBwYXMgw6p0cmUgdmlkZVwiKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0cnkge1xuICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcImNvbW1lbnRzXCIpXG4gICAgICAudXBkYXRlKHtcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgfSlcbiAgICAgIC5lcShcImlkXCIsIGN1cnJlbnRDb21tZW50SWQpO1xuXG4gICAgY2xvc2VNb2RhbCgpO1xuICAgIGF3YWl0IGxvYWRDb21tZW50cygpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciB1cGRhdGluZyBjb21tZW50OlwiLCBlcnJvcik7XG4gICAgYWxlcnQoXCJFcnJldXIgbG9ycyBkZSBsYSBtb2RpZmljYXRpb25cIik7XG4gIH1cbn1cblxuLy8gRGVsZXRlIGNvbW1lbnRcbmFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUNvbW1lbnQoY29tbWVudElkKSB7XG4gIGlmICghY29uZmlybShcIsOKdGVzLXZvdXMgc8O7ciBkZSB2b3Vsb2lyIHN1cHByaW1lciBjZSBjb21tZW50YWlyZT9cIikpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0cnkge1xuICAgIC8vIFVzZSB0aGUgc29mdCBkZWxldGUgZnVuY3Rpb24gaW5zdGVhZCBvZiBkaXJlY3QgZGVsZXRpb25cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoXCJzb2Z0X2RlbGV0ZV9jb21tZW50XCIsIHtcbiAgICAgIGNvbW1lbnRfaWQ6IGNvbW1lbnRJZCxcbiAgICAgIHVzZXJfaWQ6IGN1cnJlbnRVc2VyLmlkLFxuICAgIH0pO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICAvLyBTaG93IHN1Y2Nlc3MgbWVzc2FnZSB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHJlY292ZXJ5IHBlcmlvZFxuICAgIGFsZXJ0KFxuICAgICAgXCJDb21tZW50YWlyZSBzdXBwcmltw6kuIElsIHNlcmEgZMOpZmluaXRpdmVtZW50IHN1cHByaW3DqSBkYW5zIDMwIGpvdXJzLiBDb250YWN0ZXogbGUgc3VwcG9ydCBzaSB2b3VzIHNvdWhhaXRleiBsZSByw6ljdXDDqXJlci5cIlxuICAgICk7XG5cbiAgICBhd2FpdCBsb2FkQ29tbWVudHMoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgY29tbWVudDpcIiwgZXJyb3IpO1xuICAgIGFsZXJ0KFwiRXJyZXVyIGxvcnMgZGUgbGEgc3VwcHJlc3Npb25cIik7XG4gIH1cbn1cblxuLy8gSGFuZGxlIGxvZ291dFxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlTG9nb3V0KCkge1xuICBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25PdXQoKTtcbiAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9hdXRoL2xvZ2luXCI7XG59XG5cbi8vIFNob3cgZXJyb3Igc3RhdGVcbmZ1bmN0aW9uIHNob3dFcnJvcihtZXNzYWdlKSB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9hZGluZy1zdGF0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3ItbWVzc2FnZVwiKS50ZXh0Q29udGVudCA9IG1lc3NhZ2U7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZXJyb3Itc3RhdGVcIikuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xufVxuXG4vLyBVdGlsaXR5IGZ1bmN0aW9uIHRvIGVzY2FwZSBIVE1MXG5mdW5jdGlvbiBlc2NhcGVIdG1sKHRleHQpIHtcbiAgY29uc3QgbWFwID0ge1xuICAgIFwiJlwiOiBcIiZhbXA7XCIsXG4gICAgXCI8XCI6IFwiJmx0O1wiLFxuICAgIFwiPlwiOiBcIiZndDtcIixcbiAgICAnXCInOiBcIiZxdW90O1wiLFxuICAgIFwiJ1wiOiBcIiYjMDM5O1wiLFxuICB9O1xuICByZXR1cm4gdGV4dC5yZXBsYWNlKC9bJjw+XCInXS9nLCAobSkgPT4gbWFwW21dKTtcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5mID0ge307XG4vLyBUaGlzIGZpbGUgY29udGFpbnMgb25seSB0aGUgZW50cnkgY2h1bmsuXG4vLyBUaGUgY2h1bmsgbG9hZGluZyBmdW5jdGlvbiBmb3IgYWRkaXRpb25hbCBjaHVua3Ncbl9fd2VicGFja19yZXF1aXJlX18uZSA9IChjaHVua0lkKSA9PiB7XG5cdHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhfX3dlYnBhY2tfcmVxdWlyZV9fLmYpLnJlZHVjZSgocHJvbWlzZXMsIGtleSkgPT4ge1xuXHRcdF9fd2VicGFja19yZXF1aXJlX18uZltrZXldKGNodW5rSWQsIHByb21pc2VzKTtcblx0XHRyZXR1cm4gcHJvbWlzZXM7XG5cdH0sIFtdKSk7XG59OyIsIi8vIFRoaXMgZnVuY3Rpb24gYWxsb3cgdG8gcmVmZXJlbmNlIGFzeW5jIGNodW5rc1xuX193ZWJwYWNrX3JlcXVpcmVfXy51ID0gKGNodW5rSWQpID0+IHtcblx0Ly8gcmV0dXJuIHVybCBmb3IgZmlsZW5hbWVzIGJhc2VkIG9uIHRlbXBsYXRlXG5cdHJldHVybiBcImpzL1wiICsgY2h1bmtJZCArIFwiLmJ1bmRsZS5qc1wiO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmogPSA2Mjg7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0ICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnU0NSSVBUJylcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgKCFzY3JpcHRVcmwgfHwgIS9eaHR0cChzPyk6Ly50ZXN0KHNjcmlwdFVybCkpKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC9eYmxvYjovLCBcIlwiKS5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmwgKyBcIi4uL1wiOyIsIi8vIG5vIGJhc2VVUklcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQ2Mjg6IDBcbn07XG5cbl9fd2VicGFja19yZXF1aXJlX18uZi5qID0gKGNodW5rSWQsIHByb21pc2VzKSA9PiB7XG5cdFx0Ly8gSlNPTlAgY2h1bmsgbG9hZGluZyBmb3IgamF2YXNjcmlwdFxuXHRcdHZhciBpbnN0YWxsZWRDaHVua0RhdGEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSA/IGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA6IHVuZGVmaW5lZDtcblx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEgIT09IDApIHsgLy8gMCBtZWFucyBcImFscmVhZHkgaW5zdGFsbGVkXCIuXG5cblx0XHRcdC8vIGEgUHJvbWlzZSBtZWFucyBcImN1cnJlbnRseSBsb2FkaW5nXCIuXG5cdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEpIHtcblx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYodHJ1ZSkgeyAvLyBhbGwgY2h1bmtzIGhhdmUgSlNcblx0XHRcdFx0XHQvLyBzZXR1cCBQcm9taXNlIGluIGNodW5rIGNhY2hlXG5cdFx0XHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiAoaW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gW3Jlc29sdmUsIHJlamVjdF0pKTtcblx0XHRcdFx0XHRwcm9taXNlcy5wdXNoKGluc3RhbGxlZENodW5rRGF0YVsyXSA9IHByb21pc2UpO1xuXG5cdFx0XHRcdFx0Ly8gc3RhcnQgY2h1bmsgbG9hZGluZ1xuXHRcdFx0XHRcdHZhciB1cmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBfX3dlYnBhY2tfcmVxdWlyZV9fLnUoY2h1bmtJZCk7XG5cdFx0XHRcdFx0Ly8gY3JlYXRlIGVycm9yIGJlZm9yZSBzdGFjayB1bndvdW5kIHRvIGdldCB1c2VmdWwgc3RhY2t0cmFjZSBsYXRlclxuXHRcdFx0XHRcdHZhciBlcnJvciA9IG5ldyBFcnJvcigpO1xuXHRcdFx0XHRcdHZhciBsb2FkaW5nRW5kZWQgPSAoZXZlbnQpID0+IHtcblx0XHRcdFx0XHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhpbnN0YWxsZWRDaHVua3MsIGNodW5rSWQpKSB7XG5cdFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcblx0XHRcdFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhICE9PSAwKSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSB1bmRlZmluZWQ7XG5cdFx0XHRcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBlcnJvclR5cGUgPSBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ21pc3NpbmcnIDogZXZlbnQudHlwZSk7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHJlYWxTcmMgPSBldmVudCAmJiBldmVudC50YXJnZXQgJiYgZXZlbnQudGFyZ2V0LnNyYztcblx0XHRcdFx0XHRcdFx0XHRlcnJvci5tZXNzYWdlID0gJ0xvYWRpbmcgY2h1bmsgJyArIGNodW5rSWQgKyAnIGZhaWxlZC5cXG4oJyArIGVycm9yVHlwZSArICc6ICcgKyByZWFsU3JjICsgJyknO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLm5hbWUgPSAnQ2h1bmtMb2FkRXJyb3InO1xuXHRcdFx0XHRcdFx0XHRcdGVycm9yLnR5cGUgPSBlcnJvclR5cGU7XG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3IucmVxdWVzdCA9IHJlYWxTcmM7XG5cdFx0XHRcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhWzFdKGVycm9yKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5sKHVybCwgbG9hZGluZ0VuZGVkLCBcImNodW5rLVwiICsgY2h1bmtJZCwgY2h1bmtJZCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG59O1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8uaiA9IChjaHVua0lkKSA9PiAoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID09PSAwKTtcblxuLy8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG52YXIgd2VicGFja0pzb25wQ2FsbGJhY2sgPSAocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24sIGRhdGEpID0+IHtcblx0dmFyIFtjaHVua0lkcywgbW9yZU1vZHVsZXMsIHJ1bnRpbWVdID0gZGF0YTtcblx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG5cdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuXHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwO1xuXHRpZihjaHVua0lkcy5zb21lKChpZCkgPT4gKGluc3RhbGxlZENodW5rc1tpZF0gIT09IDApKSkge1xuXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcblx0XHRcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYocnVudGltZSkgdmFyIHJlc3VsdCA9IHJ1bnRpbWUoX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cdH1cblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuXHR9XG5cdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLk8ocmVzdWx0KTtcbn1cblxudmFyIGNodW5rTG9hZGluZ0dsb2JhbCA9IHNlbGZbXCJ3ZWJwYWNrQ2h1bmt1cmJhbmRvY3Nfd2ViYXBwXCJdID0gc2VsZltcIndlYnBhY2tDaHVua3VyYmFuZG9jc193ZWJhcHBcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFs3Nl0sICgpID0+IChfX3dlYnBhY2tfcmVxdWlyZV9fKDU4NTIpKSlcbl9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fLk8oX193ZWJwYWNrX2V4cG9ydHNfXyk7XG4iXSwibmFtZXMiOlsiZGVmZXJyZWQiLCJsZWFmUHJvdG90eXBlcyIsImdldFByb3RvIiwiaW5Qcm9ncmVzcyIsImRhdGFXZWJwYWNrUHJlZml4IiwiY3VycmVudFVzZXIiLCJjdXJyZW50RG9jdW1lbnQiLCJjdXJyZW50Q29tbWVudElkIiwicmF0aW5nc0RhdGEiLCJ1c2VyQ3VycmVudFJhdGluZyIsImFzeW5jIiwibG9hZFJhdGluZ3MiLCJkYXRhIiwicmF0aW5ncyIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsImVxIiwiaWQiLCJsZW5ndGgiLCJhdmVyYWdlIiwicmVkdWNlIiwic3VtIiwiciIsInJhdGluZyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0ZXh0Q29udGVudCIsInRvRml4ZWQiLCJkaXN0cmlidXRpb24iLCJmb3JFYWNoIiwiY2FsY3VsYXRlUmF0aW5nRGlzdHJpYnV0aW9uIiwidXBkYXRlUmF0aW5nQmFycyIsInVzZXJSYXRpbmciLCJmaW5kIiwidXNlcl9pZCIsInVwZGF0ZVN0YXJzRGlzcGxheSIsImNvbnNvbGUiLCJ0b3RhbCIsImkiLCJwZXJjZW50YWdlIiwic3R5bGUiLCJ3aWR0aCIsIk1hdGgiLCJyb3VuZCIsImxvYWRDb21tZW50cyIsImNvbW1lbnRzIiwiY29tbWVudHNFcnJvciIsIm9yZGVyIiwiYXNjZW5kaW5nIiwicmVuZGVyQ29tbWVudHMiLCJ1c2VySWRzIiwiU2V0IiwibWFwIiwiYyIsInByb2ZpbGVzIiwicHJvZmlsZXNFcnJvciIsImluIiwid2FybiIsImNvbW1lbnQiLCJwcm9maWxlc01hcCIsImFjYyIsInByb2ZpbGUiLCJjb21tZW50c0xpc3QiLCJpbm5lckhUTUwiLCJjb21tZW50RWwiLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiZGF0YXNldCIsImNvbW1lbnRJZCIsImlzT3duZXIiLCJ1c2VyTmFtZSIsImZ1bGxfbmFtZSIsImF2YXRhclVybCIsImF2YXRhcl91cmwiLCJkYXRlIiwiRGF0ZSIsImNyZWF0ZWRfYXQiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJkYXkiLCJtb250aCIsInllYXIiLCJjb21tZW50SGVhZGVyIiwiYXZhdGFyTWV0YSIsImRpc3BsYXkiLCJhbGlnbkl0ZW1zIiwiZ2FwIiwidXBkYXRlZF9hdCIsImFwcGVuZENoaWxkIiwiY29udGVudCIsImFjdGlvbnMiLCJjcmVhdGVDb21tZW50RWxlbWVudCIsInN3aXRjaFRhYiIsImUiLCJ0YXJnZXRUYWIiLCJ0YXJnZXQiLCJ0YWIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnRuIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwic3RhcnMiLCJzdGFyIiwiaW5kZXgiLCJyZW1vdmUiLCJzZXRBdHRyaWJ1dGUiLCJhdmdSYXRpbmciLCJwYXJzZUZsb2F0IiwiaXNOYU4iLCJkaXNwbGF5QXZlcmFnZVJhdGluZyIsImhhbmRsZVJhdGluZyIsInBhcnNlSW50IiwiZXhpc3RpbmciLCJzaW5nbGUiLCJ1cGRhdGUiLCJ0b0lTT1N0cmluZyIsImluc2VydCIsImRvY3VtZW50X2lkIiwiYWxlcnQiLCJkZWxldGUiLCJoYW5kbGVEb3dubG9hZCIsImxvZyIsInBkZl9zdG9yYWdlX3BhdGgiLCJjbGVhblBhdGgiLCJyZXBsYWNlIiwidXJsRGF0YSIsInVybEVycm9yIiwic3RvcmFnZSIsImNyZWF0ZVNpZ25lZFVybCIsImRvd25sb2FkIiwiYSIsImhyZWYiLCJzaWduZWRVcmwiLCJ6b25pbmciLCJjaXR5IiwibmFtZSIsInpvbmUiLCJib2R5IiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsInN1Ym1pdENvbW1lbnQiLCJ2YWx1ZSIsInRyaW0iLCJoYW5kbGVDb21tZW50QWN0aW9uIiwiZWRpdEJ0biIsImNsb3Nlc3QiLCJkZWxldGVCdG4iLCJvcGVuRWRpdE1vZGFsIiwiY29uZmlybSIsInJwYyIsImNvbW1lbnRfaWQiLCJkZWxldGVDb21tZW50IiwiY2xvc2VNb2RhbCIsInNhdmVDb21tZW50RWRpdCIsImhhbmRsZUxvZ291dCIsImF1dGgiLCJzaWduT3V0Iiwid2luZG93IiwibG9jYXRpb24iLCJzaG93RXJyb3IiLCJhZGRFdmVudExpc3RlbmVyIiwidXNlciIsImdldFVzZXIiLCJkb2N1bWVudElkIiwiVVJMU2VhcmNoUGFyYW1zIiwic2VhcmNoIiwiZ2V0IiwiZG9jdW1lbnREYXRhIiwiY2l0eU5hbWUiLCJzdHIiLCJsZXR0ZXIiLCJ0b1VwcGVyQ2FzZSIsInpvbmVOYW1lIiwic291cmNlUGx1RGF0ZSIsInNvdXJjZV9wbHVfZGF0ZSIsImNpdHlCcmVhZGNydW1iIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidXBkYXRlRG9jdW1lbnRJbmZvIiwiaHRtbF9jb250ZW50Iiwic291cmNlX3BsdV91cmwiLCJsb2FkRG9jdW1lbnQiLCJoYW5kbGVTdGFySG92ZXIiLCJhZGQiLCJxdWVyeVNlbGVjdG9yIiwibG9nb3V0QnRuIiwic2V0dXBFdmVudExpc3RlbmVycyIsImJhY2tUb1RvcEJ0biIsInNjcm9sbFkiLCJzY3JvbGxUbyIsInRvcCIsImJlaGF2aW9yIiwiaW5pdEJhY2tUb1RvcCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsIm0iLCJPIiwicmVzdWx0IiwiY2h1bmtJZHMiLCJmbiIsInByaW9yaXR5Iiwibm90RnVsZmlsbGVkIiwiSW5maW5pdHkiLCJmdWxmaWxsZWQiLCJqIiwiT2JqZWN0Iiwia2V5cyIsImV2ZXJ5Iiwia2V5Iiwic3BsaWNlIiwiZ2V0UHJvdG90eXBlT2YiLCJvYmoiLCJ0IiwibW9kZSIsInRoaXMiLCJfX2VzTW9kdWxlIiwidGhlbiIsIm5zIiwiY3JlYXRlIiwiZGVmIiwiY3VycmVudCIsImluZGV4T2YiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZCIsImRlZmluaXRpb24iLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZiIsImNodW5rSWQiLCJQcm9taXNlIiwiYWxsIiwicHJvbWlzZXMiLCJ1IiwiZyIsImdsb2JhbFRoaXMiLCJGdW5jdGlvbiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImwiLCJ1cmwiLCJkb25lIiwicHVzaCIsInNjcmlwdCIsIm5lZWRBdHRhY2giLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzIiwiZ2V0QXR0cmlidXRlIiwiY2hhcnNldCIsInRpbWVvdXQiLCJuYyIsInNyYyIsIm9uU2NyaXB0Q29tcGxldGUiLCJwcmV2IiwiZXZlbnQiLCJvbmVycm9yIiwib25sb2FkIiwiY2xlYXJUaW1lb3V0IiwiZG9uZUZucyIsInBhcmVudE5vZGUiLCJzZXRUaW1lb3V0IiwiYmluZCIsInR5cGUiLCJoZWFkIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwiY3VycmVudFNjcmlwdCIsInRhZ05hbWUiLCJ0ZXN0IiwiRXJyb3IiLCJwIiwiaW5zdGFsbGVkQ2h1bmtzIiwiaW5zdGFsbGVkQ2h1bmtEYXRhIiwicHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJlcnJvclR5cGUiLCJyZWFsU3JjIiwicmVxdWVzdCIsIndlYnBhY2tKc29ucENhbGxiYWNrIiwicGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24iLCJtb3JlTW9kdWxlcyIsInJ1bnRpbWUiLCJzb21lIiwiY2h1bmtMb2FkaW5nR2xvYmFsIiwic2VsZiIsIl9fd2VicGFja19leHBvcnRzX18iXSwic291cmNlUm9vdCI6IiJ9