/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/auth.js":
/*!************************!*\
  !*** ./src/js/auth.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   confirmEmail: () => (/* binding */ confirmEmail),\n/* harmony export */   currentUser: () => (/* binding */ currentUser),\n/* harmony export */   initAuth: () => (/* binding */ initAuth)\n/* harmony export */ });\n// src/js/auth.js\n/**\n * Authentication Module\n * @module auth\n * @description This module handles authentication-related functionality including email confirmation, login, and signup.\n * @version 0.0.1\n * @author YourName\n * @todo Add login and signup functionality\n *\n * @changelog\n * - 0.0.1 (2025-05-03): Initial creation with email confirmation functionality\n */\n\n// --- API URL Definitions ---\nconst IS_LOCAL =\n  location.hostname === \"localhost\" || location.hostname === \"127.0.0.1\";\n\nconst HANDLE_CONFIRMATION_URL = IS_LOCAL\n  ? \"http://127.0.0.1:5001/urbandocs/us-central1/handle_confirmation\"\n  : \"https://handle-confirmation-up3k3hddtq-uc.a.run.app\";\n\n// Authentication state (to be expanded later)\nlet currentUser = null;\n\n/**\n * Initialize the email confirmation page\n */\nfunction initConfirmationPage() {\n  const urlParams = new URLSearchParams(window.location.search);\n  const confirmationUrl = urlParams.get(\"confirmation_url\");\n\n  const confirmButton = document.getElementById(\"confirmButton\");\n  const statusMessage = document.getElementById(\"statusMessage\");\n  const loading = document.getElementById(\"loading\");\n\n  // Exit early if no confirmation URL is present\n  if (!confirmationUrl) {\n    statusMessage.textContent =\n      \"Error: Missing confirmation URL. Please check your email link.\";\n    statusMessage.className = \"alert alert-danger\";\n    statusMessage.style.display = \"block\";\n    confirmButton.disabled = true;\n    return;\n  }\n\n  confirmButton.addEventListener(\"click\", () => confirmEmail(confirmationUrl));\n}\n\n/**\n * Handle email confirmation\n * @param {string} confirmationUrl - The confirmation URL from the email\n */\nasync function confirmEmail(confirmationUrl) {\n  const confirmButton = document.getElementById(\"confirmButton\");\n  const statusMessage = document.getElementById(\"statusMessage\");\n  const loading = document.getElementById(\"loading\");\n\n  // Show loading indicator\n  loading.style.display = \"block\";\n  confirmButton.disabled = true;\n  statusMessage.style.display = \"none\";\n\n  try {\n    const url = `${HANDLE_CONFIRMATION_URL}?confirmation_url=${encodeURIComponent(\n      confirmationUrl\n    )}`;\n\n    console.log(\"Confirming email with URL:\", url);\n\n    const response = await fetch(url);\n\n    // Log the full response for debugging\n    console.log(\"Response status:\", response.status);\n    console.log(\"Response headers:\", [...response.headers.entries()]);\n\n    let responseData;\n    const contentType = response.headers.get(\"content-type\");\n\n    if (contentType && contentType.includes(\"application/json\")) {\n      responseData = await response.json();\n      console.log(\"Response JSON:\", responseData);\n    } else {\n      responseData = await response.text();\n      console.log(\"Response text:\", responseData);\n    }\n\n    // Don't throw error for successful responses\n    // Some servers return 200, 201, 202, 204 for success\n    if (response.ok || response.status === 204) {\n      // Show success message\n      loading.style.display = \"none\";\n      statusMessage.textContent =\n        \"Your email has been verified! Redirecting to login...\";\n      statusMessage.className = \"alert alert-success\";\n      statusMessage.style.display = \"block\";\n\n      // Redirect after a short delay\n      setTimeout(() => {\n        window.location.href = \"/login.html\";\n      }, 2000);\n    } else {\n      // Handle non-successful responses\n      throw new Error(`Server responded with status: ${response.status}`);\n    }\n  } catch (error) {\n    // Handle errors\n    console.error(\"Confirmation error:\", error);\n    console.error(\"Error stack:\", error.stack);\n\n    loading.style.display = \"none\";\n    statusMessage.textContent = `An error occurred during confirmation: ${error.message}`;\n    statusMessage.className = \"alert alert-danger\";\n    statusMessage.style.display = \"block\";\n    confirmButton.disabled = false;\n  }\n}\n\n/**\n * Initialize authentication functionality based on current page\n */\nfunction initAuth() {\n  // Check if we're on the confirmation page\n  if (document.getElementById(\"confirmButton\")) {\n    initConfirmationPage();\n  }\n\n  // TODO: Add initialization for login page\n  // TODO: Add initialization for signup page\n}\n\n// Initialize when DOM is loaded\ndocument.addEventListener(\"DOMContentLoaded\", initAuth);\n\n// Export functions and variables that might be needed by other modules\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvanMvYXV0aC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUJBQW1CLHdCQUF3QixvQkFBb0I7QUFDL0Q7QUFDQSxNQUFNOztBQUVOOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQSx1REFBdUQsZ0JBQWdCO0FBQ3ZFO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBFQUEwRSxjQUFjO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUMrQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9hdXRoLmpzPzkyOTEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2pzL2F1dGguanNcbi8qKlxuICogQXV0aGVudGljYXRpb24gTW9kdWxlXG4gKiBAbW9kdWxlIGF1dGhcbiAqIEBkZXNjcmlwdGlvbiBUaGlzIG1vZHVsZSBoYW5kbGVzIGF1dGhlbnRpY2F0aW9uLXJlbGF0ZWQgZnVuY3Rpb25hbGl0eSBpbmNsdWRpbmcgZW1haWwgY29uZmlybWF0aW9uLCBsb2dpbiwgYW5kIHNpZ251cC5cbiAqIEB2ZXJzaW9uIDAuMC4xXG4gKiBAYXV0aG9yIFlvdXJOYW1lXG4gKiBAdG9kbyBBZGQgbG9naW4gYW5kIHNpZ251cCBmdW5jdGlvbmFsaXR5XG4gKlxuICogQGNoYW5nZWxvZ1xuICogLSAwLjAuMSAoMjAyNS0wNS0wMyk6IEluaXRpYWwgY3JlYXRpb24gd2l0aCBlbWFpbCBjb25maXJtYXRpb24gZnVuY3Rpb25hbGl0eVxuICovXG5cbi8vIC0tLSBBUEkgVVJMIERlZmluaXRpb25zIC0tLVxuY29uc3QgSVNfTE9DQUwgPVxuICBsb2NhdGlvbi5ob3N0bmFtZSA9PT0gXCJsb2NhbGhvc3RcIiB8fCBsb2NhdGlvbi5ob3N0bmFtZSA9PT0gXCIxMjcuMC4wLjFcIjtcblxuY29uc3QgSEFORExFX0NPTkZJUk1BVElPTl9VUkwgPSBJU19MT0NBTFxuICA/IFwiaHR0cDovLzEyNy4wLjAuMTo1MDAxL3VyYmFuZG9jcy91cy1jZW50cmFsMS9oYW5kbGVfY29uZmlybWF0aW9uXCJcbiAgOiBcImh0dHBzOi8vaGFuZGxlLWNvbmZpcm1hdGlvbi11cDNrM2hkZHRxLXVjLmEucnVuLmFwcFwiO1xuXG4vLyBBdXRoZW50aWNhdGlvbiBzdGF0ZSAodG8gYmUgZXhwYW5kZWQgbGF0ZXIpXG5sZXQgY3VycmVudFVzZXIgPSBudWxsO1xuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIGVtYWlsIGNvbmZpcm1hdGlvbiBwYWdlXG4gKi9cbmZ1bmN0aW9uIGluaXRDb25maXJtYXRpb25QYWdlKCkge1xuICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICBjb25zdCBjb25maXJtYXRpb25VcmwgPSB1cmxQYXJhbXMuZ2V0KFwiY29uZmlybWF0aW9uX3VybFwiKTtcblxuICBjb25zdCBjb25maXJtQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25maXJtQnV0dG9uXCIpO1xuICBjb25zdCBzdGF0dXNNZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdGF0dXNNZXNzYWdlXCIpO1xuICBjb25zdCBsb2FkaW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsb2FkaW5nXCIpO1xuXG4gIC8vIEV4aXQgZWFybHkgaWYgbm8gY29uZmlybWF0aW9uIFVSTCBpcyBwcmVzZW50XG4gIGlmICghY29uZmlybWF0aW9uVXJsKSB7XG4gICAgc3RhdHVzTWVzc2FnZS50ZXh0Q29udGVudCA9XG4gICAgICBcIkVycm9yOiBNaXNzaW5nIGNvbmZpcm1hdGlvbiBVUkwuIFBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGxpbmsuXCI7XG4gICAgc3RhdHVzTWVzc2FnZS5jbGFzc05hbWUgPSBcImFsZXJ0IGFsZXJ0LWRhbmdlclwiO1xuICAgIHN0YXR1c01lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICBjb25maXJtQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBjb25maXJtRW1haWwoY29uZmlybWF0aW9uVXJsKSk7XG59XG5cbi8qKlxuICogSGFuZGxlIGVtYWlsIGNvbmZpcm1hdGlvblxuICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpcm1hdGlvblVybCAtIFRoZSBjb25maXJtYXRpb24gVVJMIGZyb20gdGhlIGVtYWlsXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNvbmZpcm1FbWFpbChjb25maXJtYXRpb25VcmwpIHtcbiAgY29uc3QgY29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29uZmlybUJ1dHRvblwiKTtcbiAgY29uc3Qgc3RhdHVzTWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RhdHVzTWVzc2FnZVwiKTtcbiAgY29uc3QgbG9hZGluZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9hZGluZ1wiKTtcblxuICAvLyBTaG93IGxvYWRpbmcgaW5kaWNhdG9yXG4gIGxvYWRpbmcuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgY29uZmlybUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIHN0YXR1c01lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgdXJsID0gYCR7SEFORExFX0NPTkZJUk1BVElPTl9VUkx9P2NvbmZpcm1hdGlvbl91cmw9JHtlbmNvZGVVUklDb21wb25lbnQoXG4gICAgICBjb25maXJtYXRpb25VcmxcbiAgICApfWA7XG5cbiAgICBjb25zb2xlLmxvZyhcIkNvbmZpcm1pbmcgZW1haWwgd2l0aCBVUkw6XCIsIHVybCk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG5cbiAgICAvLyBMb2cgdGhlIGZ1bGwgcmVzcG9uc2UgZm9yIGRlYnVnZ2luZ1xuICAgIGNvbnNvbGUubG9nKFwiUmVzcG9uc2Ugc3RhdHVzOlwiLCByZXNwb25zZS5zdGF0dXMpO1xuICAgIGNvbnNvbGUubG9nKFwiUmVzcG9uc2UgaGVhZGVyczpcIiwgWy4uLnJlc3BvbnNlLmhlYWRlcnMuZW50cmllcygpXSk7XG5cbiAgICBsZXQgcmVzcG9uc2VEYXRhO1xuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIik7XG5cbiAgICBpZiAoY29udGVudFR5cGUgJiYgY29udGVudFR5cGUuaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSB7XG4gICAgICByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICBjb25zb2xlLmxvZyhcIlJlc3BvbnNlIEpTT046XCIsIHJlc3BvbnNlRGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiUmVzcG9uc2UgdGV4dDpcIiwgcmVzcG9uc2VEYXRhKTtcbiAgICB9XG5cbiAgICAvLyBEb24ndCB0aHJvdyBlcnJvciBmb3Igc3VjY2Vzc2Z1bCByZXNwb25zZXNcbiAgICAvLyBTb21lIHNlcnZlcnMgcmV0dXJuIDIwMCwgMjAxLCAyMDIsIDIwNCBmb3Igc3VjY2Vzc1xuICAgIGlmIChyZXNwb25zZS5vayB8fCByZXNwb25zZS5zdGF0dXMgPT09IDIwNCkge1xuICAgICAgLy8gU2hvdyBzdWNjZXNzIG1lc3NhZ2VcbiAgICAgIGxvYWRpbmcuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgc3RhdHVzTWVzc2FnZS50ZXh0Q29udGVudCA9XG4gICAgICAgIFwiWW91ciBlbWFpbCBoYXMgYmVlbiB2ZXJpZmllZCEgUmVkaXJlY3RpbmcgdG8gbG9naW4uLi5cIjtcbiAgICAgIHN0YXR1c01lc3NhZ2UuY2xhc3NOYW1lID0gXCJhbGVydCBhbGVydC1zdWNjZXNzXCI7XG4gICAgICBzdGF0dXNNZXNzYWdlLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICAgIC8vIFJlZGlyZWN0IGFmdGVyIGEgc2hvcnQgZGVsYXlcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2xvZ2luLmh0bWxcIjtcbiAgICAgIH0sIDIwMDApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBIYW5kbGUgbm9uLXN1Y2Nlc3NmdWwgcmVzcG9uc2VzXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciByZXNwb25kZWQgd2l0aCBzdGF0dXM6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAvLyBIYW5kbGUgZXJyb3JzXG4gICAgY29uc29sZS5lcnJvcihcIkNvbmZpcm1hdGlvbiBlcnJvcjpcIiwgZXJyb3IpO1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBzdGFjazpcIiwgZXJyb3Iuc3RhY2spO1xuXG4gICAgbG9hZGluZy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgc3RhdHVzTWVzc2FnZS50ZXh0Q29udGVudCA9IGBBbiBlcnJvciBvY2N1cnJlZCBkdXJpbmcgY29uZmlybWF0aW9uOiAke2Vycm9yLm1lc3NhZ2V9YDtcbiAgICBzdGF0dXNNZXNzYWdlLmNsYXNzTmFtZSA9IFwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI7XG4gICAgc3RhdHVzTWVzc2FnZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgIGNvbmZpcm1CdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIEluaXRpYWxpemUgYXV0aGVudGljYXRpb24gZnVuY3Rpb25hbGl0eSBiYXNlZCBvbiBjdXJyZW50IHBhZ2VcbiAqL1xuZnVuY3Rpb24gaW5pdEF1dGgoKSB7XG4gIC8vIENoZWNrIGlmIHdlJ3JlIG9uIHRoZSBjb25maXJtYXRpb24gcGFnZVxuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb25maXJtQnV0dG9uXCIpKSB7XG4gICAgaW5pdENvbmZpcm1hdGlvblBhZ2UoKTtcbiAgfVxuXG4gIC8vIFRPRE86IEFkZCBpbml0aWFsaXphdGlvbiBmb3IgbG9naW4gcGFnZVxuICAvLyBUT0RPOiBBZGQgaW5pdGlhbGl6YXRpb24gZm9yIHNpZ251cCBwYWdlXG59XG5cbi8vIEluaXRpYWxpemUgd2hlbiBET00gaXMgbG9hZGVkXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBpbml0QXV0aCk7XG5cbi8vIEV4cG9ydCBmdW5jdGlvbnMgYW5kIHZhcmlhYmxlcyB0aGF0IG1pZ2h0IGJlIG5lZWRlZCBieSBvdGhlciBtb2R1bGVzXG5leHBvcnQgeyBjdXJyZW50VXNlciwgY29uZmlybUVtYWlsLCBpbml0QXV0aCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/auth.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/js/auth.js"](0, __webpack_exports__, __webpack_require__);
/******/ 	
/******/ })()
;